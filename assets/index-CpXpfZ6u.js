const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-DKOJOHLC.js","assets/PostList-CXM4Dk6Y.js","assets/Avatar-CsIOmtyj.js","assets/Avatar-CMypI4R_.css","assets/DisplayAvatar-DT18U7jm.js","assets/PostList-Do81qAzr.css","assets/LoginPage-CAH-IlpY.js","assets/errors-DO3E_Mwy.js","assets/RegisterPage-DOuGwJ7u.js","assets/FriendsPage-u7ac17B-.js","assets/FriendsPage-CiifFB3w.css","assets/ProfilePage-CLN8SvXQ.js","assets/ProfilePage-B-0x9IId.css","assets/NoticesPage-DsJce7Yi.js","assets/NoticesPage-mVCDqOV2.css","assets/SettingsPage-xbNaks9B.js","assets/SettingsPage-5OBV8D_x.css","assets/ChatsPage-BX_lO8q6.js","assets/ChatsPage-CxSOaUwt.css","assets/ChatSlideBar-CJpIwaDd.js","assets/ChatSlideBar-Lcv8jytC.css","assets/ChatsDetailsPage-DsUinj2p.js","assets/ChatsDetailsPage-DCjXwzSL.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Jn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const se={},ps=[],nt=()=>{},Jl=()=>!1,Mr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Qn=e=>e.startsWith("onUpdate:"),ve=Object.assign,Yn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ql=Object.prototype.hasOwnProperty,Y=(e,t)=>Ql.call(e,t),M=Array.isArray,gs=e=>rr(e)==="[object Map]",As=e=>rr(e)==="[object Set]",xi=e=>rr(e)==="[object Date]",B=e=>typeof e=="function",fe=e=>typeof e=="string",it=e=>typeof e=="symbol",oe=e=>e!==null&&typeof e=="object",sa=e=>(oe(e)||B(e))&&B(e.then)&&B(e.catch),ra=Object.prototype.toString,rr=e=>ra.call(e),Yl=e=>rr(e).slice(8,-1),na=e=>rr(e)==="[object Object]",Xn=e=>fe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ms=Jn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Xl=/-(\w)/g,ze=Nr(e=>e.replace(Xl,(t,s)=>s?s.toUpperCase():"")),Zl=/\B([A-Z])/g,Lt=Nr(e=>e.replace(Zl,"-$1").toLowerCase()),Fr=Nr(e=>e.charAt(0).toUpperCase()+e.slice(1)),sn=Nr(e=>e?`on${Fr(e)}`:""),Pt=(e,t)=>!Object.is(e,t),br=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ia=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},Cr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ci;const Br=()=>Ci||(Ci=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Zn(e){if(M(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=fe(r)?rc(r):Zn(r);if(n)for(const i in n)t[i]=n[i]}return t}else if(fe(e)||oe(e))return e}const ec=/;(?![^(]*\))/g,tc=/:([^]+)/,sc=/\/\*[^]*?\*\//g;function rc(e){const t={};return e.replace(sc,"").split(ec).forEach(s=>{if(s){const r=s.split(tc);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function ei(e){let t="";if(fe(e))t=e;else if(M(e))for(let s=0;s<e.length;s++){const r=ei(e[s]);r&&(t+=r+" ")}else if(oe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const nc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ic=Jn(nc);function oa(e){return!!e||e===""}function oc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=Jt(e[r],t[r]);return s}function Jt(e,t){if(e===t)return!0;let s=xi(e),r=xi(t);if(s||r)return s&&r?e.getTime()===t.getTime():!1;if(s=it(e),r=it(t),s||r)return e===t;if(s=M(e),r=M(t),s||r)return s&&r?oc(e,t):!1;if(s=oe(e),r=oe(t),s||r){if(!s||!r)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Jt(e[o],t[o]))return!1}}return String(e)===String(t)}function ti(e,t){return e.findIndex(s=>Jt(s,t))}const aa=e=>!!(e&&e.__v_isRef===!0),la=e=>fe(e)?e:e==null?"":M(e)||oe(e)&&(e.toString===ra||!B(e.toString))?aa(e)?la(e.value):JSON.stringify(e,ca,2):String(e),ca=(e,t)=>aa(t)?ca(e,t.value):gs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n],i)=>(s[rn(r,i)+" =>"]=n,s),{})}:As(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>rn(s))}:it(t)?rn(t):oe(t)&&!M(t)&&!na(t)?String(t):t,rn=(e,t="")=>{var s;return it(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xe;class ua{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xe,!t&&xe&&(this.index=(xe.scopes||(xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=xe;try{return xe=this,t()}finally{xe=s}}}on(){xe=this}off(){xe=this.parent}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ha(e){return new ua(e)}function fa(){return xe}function ac(e,t=!1){xe&&xe.cleanups.push(e)}let ie;const nn=new WeakSet;class da{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xe&&xe.active&&xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,nn.has(this)&&(nn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ga(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ti(this),ma(this);const t=ie,s=Je;ie=this,Je=!0;try{return this.fn()}finally{_a(this),ie=t,Je=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ni(t);this.deps=this.depsTail=void 0,Ti(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?nn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Sn(this)&&this.run()}get dirty(){return Sn(this)}}let pa=0,Ns,Fs;function ga(e,t=!1){if(e.flags|=8,t){e.next=Fs,Fs=e;return}e.next=Ns,Ns=e}function si(){pa++}function ri(){if(--pa>0)return;if(Fs){let t=Fs;for(Fs=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ns;){let t=Ns;for(Ns=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function ma(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _a(e){let t,s=e.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),ni(r),lc(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=s}function Sn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(va(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function va(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Js))return;e.globalVersion=Js;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Sn(e)){e.flags&=-3;return}const s=ie,r=Je;ie=e,Je=!0;try{ma(e);const n=e.fn(e._value);(t.version===0||Pt(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{ie=s,Je=r,_a(e),e.flags&=-3}}function ni(e,t=!1){const{dep:s,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)ni(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function lc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Je=!0;const ya=[];function Ut(){ya.push(Je),Je=!1}function Dt(){const e=ya.pop();Je=e===void 0?!0:e}function Ti(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ie;ie=void 0;try{t()}finally{ie=s}}}let Js=0;class cc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ii{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ie||!Je||ie===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ie)s=this.activeLink=new cc(ie,this),ie.deps?(s.prevDep=ie.depsTail,ie.depsTail.nextDep=s,ie.depsTail=s):ie.deps=ie.depsTail=s,ba(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ie.depsTail,s.nextDep=void 0,ie.depsTail.nextDep=s,ie.depsTail=s,ie.deps===s&&(ie.deps=r)}return s}trigger(t){this.version++,Js++,this.notify(t)}notify(t){si();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ri()}}}function ba(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ba(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Tr=new WeakMap,Wt=Symbol(""),An=Symbol(""),Qs=Symbol("");function Ee(e,t,s){if(Je&&ie){let r=Tr.get(e);r||Tr.set(e,r=new Map);let n=r.get(s);n||(r.set(s,n=new ii),n.map=r,n.key=s),n.track()}}function dt(e,t,s,r,n,i){const o=Tr.get(e);if(!o){Js++;return}const a=l=>{l&&l.trigger()};if(si(),t==="clear")o.forEach(a);else{const l=M(e),u=l&&Xn(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Qs||!it(f)&&f>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Qs)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Wt)),gs(e)&&a(o.get(An)));break;case"delete":l||(a(o.get(Wt)),gs(e)&&a(o.get(An)));break;case"set":gs(e)&&a(o.get(Wt));break}}ri()}function uc(e,t){const s=Tr.get(e);return s&&s.get(t)}function ss(e){const t=G(e);return t===e?t:(Ee(t,"iterate",Qs),He(e)?t:t.map(Se))}function Hr(e){return Ee(e=G(e),"iterate",Qs),e}const hc={__proto__:null,[Symbol.iterator](){return on(this,Symbol.iterator,Se)},concat(...e){return ss(this).concat(...e.map(t=>M(t)?ss(t):t))},entries(){return on(this,"entries",e=>(e[1]=Se(e[1]),e))},every(e,t){return ct(this,"every",e,t,void 0,arguments)},filter(e,t){return ct(this,"filter",e,t,s=>s.map(Se),arguments)},find(e,t){return ct(this,"find",e,t,Se,arguments)},findIndex(e,t){return ct(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ct(this,"findLast",e,t,Se,arguments)},findLastIndex(e,t){return ct(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ct(this,"forEach",e,t,void 0,arguments)},includes(...e){return an(this,"includes",e)},indexOf(...e){return an(this,"indexOf",e)},join(e){return ss(this).join(e)},lastIndexOf(...e){return an(this,"lastIndexOf",e)},map(e,t){return ct(this,"map",e,t,void 0,arguments)},pop(){return Cs(this,"pop")},push(...e){return Cs(this,"push",e)},reduce(e,...t){return Oi(this,"reduce",e,t)},reduceRight(e,...t){return Oi(this,"reduceRight",e,t)},shift(){return Cs(this,"shift")},some(e,t){return ct(this,"some",e,t,void 0,arguments)},splice(...e){return Cs(this,"splice",e)},toReversed(){return ss(this).toReversed()},toSorted(e){return ss(this).toSorted(e)},toSpliced(...e){return ss(this).toSpliced(...e)},unshift(...e){return Cs(this,"unshift",e)},values(){return on(this,"values",Se)}};function on(e,t,s){const r=Hr(e),n=r[t]();return r!==e&&!He(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const fc=Array.prototype;function ct(e,t,s,r,n,i){const o=Hr(e),a=o!==e&&!He(e),l=o[t];if(l!==fc[t]){const h=l.apply(e,i);return a?Se(h):h}let u=s;o!==e&&(a?u=function(h,f){return s.call(this,Se(h),f,e)}:s.length>2&&(u=function(h,f){return s.call(this,h,f,e)}));const c=l.call(o,u,r);return a&&n?n(c):c}function Oi(e,t,s,r){const n=Hr(e);let i=s;return n!==e&&(He(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Se(a),l,e)}),n[t](i,...r)}function an(e,t,s){const r=G(e);Ee(r,"iterate",Qs);const n=r[t](...s);return(n===-1||n===!1)&&li(s[0])?(s[0]=G(s[0]),r[t](...s)):n}function Cs(e,t,s=[]){Ut(),si();const r=G(e)[t].apply(e,s);return ri(),Dt(),r}const dc=Jn("__proto__,__v_isRef,__isVue"),wa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(it));function pc(e){it(e)||(e=String(e));const t=G(this);return Ee(t,"has",e),t.hasOwnProperty(e)}class Ea{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Ac:xa:i?ka:Aa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=M(t);if(!n){let l;if(o&&(l=hc[s]))return l;if(s==="hasOwnProperty")return pc}const a=Reflect.get(t,s,he(t)?t:r);return(it(s)?wa.has(s):dc(s))||(n||Ee(t,"get",s),i)?a:he(a)?o&&Xn(s)?a:a.value:oe(a)?n?Ta(a):ot(a):a}}class Sa extends Ea{constructor(t=!1){super(!1,t)}set(t,s,r,n){let i=t[s];if(!this._isShallow){const l=Qt(i);if(!He(r)&&!Qt(r)&&(i=G(i),r=G(r)),!M(t)&&he(i)&&!he(r))return l?!1:(i.value=r,!0)}const o=M(t)&&Xn(s)?Number(s)<t.length:Y(t,s),a=Reflect.set(t,s,r,he(t)?t:n);return t===G(n)&&(o?Pt(r,i)&&dt(t,"set",s,r):dt(t,"add",s,r)),a}deleteProperty(t,s){const r=Y(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&r&&dt(t,"delete",s,void 0),n}has(t,s){const r=Reflect.has(t,s);return(!it(s)||!wa.has(s))&&Ee(t,"has",s),r}ownKeys(t){return Ee(t,"iterate",M(t)?"length":Wt),Reflect.ownKeys(t)}}class gc extends Ea{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const mc=new Sa,_c=new gc,vc=new Sa(!0);const kn=e=>e,ur=e=>Reflect.getPrototypeOf(e);function yc(e,t,s){return function(...r){const n=this.__v_raw,i=G(n),o=gs(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=n[e](...r),c=s?kn:t?xn:Se;return!t&&Ee(i,"iterate",l?An:Wt),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function hr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function bc(e,t){const s={get(n){const i=this.__v_raw,o=G(i),a=G(n);e||(Pt(n,a)&&Ee(o,"get",n),Ee(o,"get",a));const{has:l}=ur(o),u=t?kn:e?xn:Se;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&Ee(G(n),"iterate",Wt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=G(i),a=G(n);return e||(Pt(n,a)&&Ee(o,"has",n),Ee(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=G(a),u=t?kn:e?xn:Se;return!e&&Ee(l,"iterate",Wt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return ve(s,e?{add:hr("add"),set:hr("set"),delete:hr("delete"),clear:hr("clear")}:{add(n){!t&&!He(n)&&!Qt(n)&&(n=G(n));const i=G(this);return ur(i).has.call(i,n)||(i.add(n),dt(i,"add",n,n)),this},set(n,i){!t&&!He(i)&&!Qt(i)&&(i=G(i));const o=G(this),{has:a,get:l}=ur(o);let u=a.call(o,n);u||(n=G(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Pt(i,c)&&dt(o,"set",n,i):dt(o,"add",n,i),this},delete(n){const i=G(this),{has:o,get:a}=ur(i);let l=o.call(i,n);l||(n=G(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&dt(i,"delete",n,void 0),u},clear(){const n=G(this),i=n.size!==0,o=n.clear();return i&&dt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=yc(n,e,t)}),s}function oi(e,t){const s=bc(e,t);return(r,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(Y(s,n)&&n in r?s:r,n,i)}const wc={get:oi(!1,!1)},Ec={get:oi(!1,!0)},Sc={get:oi(!0,!1)};const Aa=new WeakMap,ka=new WeakMap,xa=new WeakMap,Ac=new WeakMap;function kc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xc(e){return e.__v_skip||!Object.isExtensible(e)?0:kc(Yl(e))}function ot(e){return Qt(e)?e:ai(e,!1,mc,wc,Aa)}function Ca(e){return ai(e,!1,vc,Ec,ka)}function Ta(e){return ai(e,!0,_c,Sc,xa)}function ai(e,t,s,r,n){if(!oe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=xc(e);if(o===0)return e;const a=new Proxy(e,o===2?r:s);return n.set(e,a),a}function Rt(e){return Qt(e)?Rt(e.__v_raw):!!(e&&e.__v_isReactive)}function Qt(e){return!!(e&&e.__v_isReadonly)}function He(e){return!!(e&&e.__v_isShallow)}function li(e){return e?!!e.__v_raw:!1}function G(e){const t=e&&e.__v_raw;return t?G(t):e}function Kt(e){return!Y(e,"__v_skip")&&Object.isExtensible(e)&&ia(e,"__v_skip",!0),e}const Se=e=>oe(e)?ot(e):e,xn=e=>oe(e)?Ta(e):e;function he(e){return e?e.__v_isRef===!0:!1}function Ke(e){return Oa(e,!1)}function Cc(e){return Oa(e,!0)}function Oa(e,t){return he(e)?e:new Tc(e,t)}class Tc{constructor(t,s){this.dep=new ii,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:G(t),this._value=s?t:Se(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||He(t)||Qt(t);t=r?t:G(t),Pt(t,s)&&(this._rawValue=t,this._value=r?t:Se(t),this.dep.trigger())}}function ms(e){return he(e)?e.value:e}const Oc={get:(e,t,s)=>t==="__v_raw"?e:ms(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return he(n)&&!he(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function Pa(e){return Rt(e)?e:new Proxy(e,Oc)}function Pc(e){const t=M(e)?new Array(e.length):{};for(const s in e)t[s]=$c(e,s);return t}class Rc{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return uc(G(this._object),this._key)}}function $c(e,t,s){const r=e[t];return he(r)?r:new Rc(e,t,s)}class Ic{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new ii(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ie!==this)return ga(this,!0),!0}get value(){const t=this.dep.track();return va(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function jc(e,t,s=!1){let r,n;return B(e)?r=e:(r=e.get,n=e.set),new Ic(r,n,s)}const fr={},Or=new WeakMap;let qt;function Lc(e,t=!1,s=qt){if(s){let r=Or.get(s);r||Or.set(s,r=[]),r.push(e)}}function Uc(e,t,s=se){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=C=>n?C:He(C)||n===!1||n===0?pt(C,1):pt(C);let c,h,f,p,_=!1,b=!1;if(he(e)?(h=()=>e.value,_=He(e)):Rt(e)?(h=()=>u(e),_=!0):M(e)?(b=!0,_=e.some(C=>Rt(C)||He(C)),h=()=>e.map(C=>{if(he(C))return C.value;if(Rt(C))return u(C);if(B(C))return l?l(C,2):C()})):B(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){Ut();try{f()}finally{Dt()}}const C=qt;qt=c;try{return l?l(e,3,[p]):e(p)}finally{qt=C}}:h=nt,t&&n){const C=h,U=n===!0?1/0:n;h=()=>pt(C(),U)}const A=fa(),$=()=>{c.stop(),A&&A.active&&Yn(A.effects,c)};if(i&&t){const C=t;t=(...U)=>{C(...U),$()}}let I=b?new Array(e.length).fill(fr):fr;const P=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(t){const U=c.run();if(n||_||(b?U.some((pe,X)=>Pt(pe,I[X])):Pt(U,I))){f&&f();const pe=qt;qt=c;try{const X=[U,I===fr?void 0:b&&I[0]===fr?[]:I,p];l?l(t,3,X):t(...X),I=U}finally{qt=pe}}}else c.run()};return a&&a(P),c=new da(h),c.scheduler=o?()=>o(P,!1):P,p=C=>Lc(C,!1,c),f=c.onStop=()=>{const C=Or.get(c);if(C){if(l)l(C,4);else for(const U of C)U();Or.delete(c)}},t?r?P(!0):I=c.run():o?o(P.bind(null,!0),!0):c.run(),$.pause=c.pause.bind(c),$.resume=c.resume.bind(c),$.stop=$,$}function pt(e,t=1/0,s){if(t<=0||!oe(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,he(e))pt(e.value,t,s);else if(M(e))for(let r=0;r<e.length;r++)pt(e[r],t,s);else if(As(e)||gs(e))e.forEach(r=>{pt(r,t,s)});else if(na(e)){for(const r in e)pt(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&pt(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function nr(e,t,s,r){try{return r?e(...r):e()}catch(n){qr(n,t,s)}}function at(e,t,s,r){if(B(e)){const n=nr(e,t,s,r);return n&&sa(n)&&n.catch(i=>{qr(i,t,s)}),n}if(M(e)){const n=[];for(let i=0;i<e.length;i++)n.push(at(e[i],t,s,r));return n}}function qr(e,t,s,r=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||se;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,l,u)===!1)return}a=a.parent}if(i){Ut(),nr(i,null,10,[e,l,u]),Dt();return}}Dc(e,s,n,r,o)}function Dc(e,t,s,r=!0,n=!1){if(n)throw e;console.error(e)}const Ce=[];let tt=-1;const _s=[];let At=null,fs=0;const Ra=Promise.resolve();let Pr=null;function Ot(e){const t=Pr||Ra;return e?t.then(this?e.bind(this):e):t}function Mc(e){let t=tt+1,s=Ce.length;for(;t<s;){const r=t+s>>>1,n=Ce[r],i=Ys(n);i<e||i===e&&n.flags&2?t=r+1:s=r}return t}function ci(e){if(!(e.flags&1)){const t=Ys(e),s=Ce[Ce.length-1];!s||!(e.flags&2)&&t>=Ys(s)?Ce.push(e):Ce.splice(Mc(t),0,e),e.flags|=1,$a()}}function $a(){Pr||(Pr=Ra.then(ja))}function Nc(e){M(e)?_s.push(...e):At&&e.id===-1?At.splice(fs+1,0,e):e.flags&1||(_s.push(e),e.flags|=1),$a()}function Pi(e,t,s=tt+1){for(;s<Ce.length;s++){const r=Ce[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Ce.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Ia(e){if(_s.length){const t=[...new Set(_s)].sort((s,r)=>Ys(s)-Ys(r));if(_s.length=0,At){At.push(...t);return}for(At=t,fs=0;fs<At.length;fs++){const s=At[fs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}At=null,fs=0}}const Ys=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ja(e){try{for(tt=0;tt<Ce.length;tt++){const t=Ce[tt];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),nr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;tt<Ce.length;tt++){const t=Ce[tt];t&&(t.flags&=-2)}tt=-1,Ce.length=0,Ia(),Pr=null,(Ce.length||_s.length)&&ja()}}let Re=null,La=null;function Rr(e){const t=Re;return Re=e,La=e&&e.type.__scopeId||null,t}function Cn(e,t=Re,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&Fi(-1);const i=Rr(t);let o;try{o=e(...n)}finally{Rr(i),r._d&&Fi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Dg(e,t){if(Re===null)return e;const s=Jr(Re),r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,o,a,l=se]=t[n];i&&(B(i)&&(i={mounted:i,updated:i}),i.deep&&pt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Nt(e,t,s,r){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Ut(),at(l,s,8,[e.el,a,e,t]),Dt())}}const Fc=Symbol("_vte"),Bc=e=>e.__isTeleport;function ui(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ui(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Vr(e,t){return B(e)?ve({name:e.name},t,{setup:e}):e}function Ua(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function $r(e,t,s,r,n=!1){if(M(e)){e.forEach((_,b)=>$r(_,t&&(M(t)?t[b]:t),s,r,n));return}if(Bs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&$r(e,t,s,r.component.subTree);return}const i=r.shapeFlag&4?Jr(r.component):r.el,o=n?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===se?a.refs={}:a.refs,h=a.setupState,f=G(h),p=h===se?()=>!1:_=>Y(f,_);if(u!=null&&u!==l&&(fe(u)?(c[u]=null,p(u)&&(h[u]=null)):he(u)&&(u.value=null)),B(l))nr(l,a,12,[o,c]);else{const _=fe(l),b=he(l);if(_||b){const A=()=>{if(e.f){const $=_?p(l)?h[l]:c[l]:l.value;n?M($)&&Yn($,i):M($)?$.includes(i)||$.push(i):_?(c[l]=[i],p(l)&&(h[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else _?(c[l]=o,p(l)&&(h[l]=o)):b&&(l.value=o,e.k&&(c[e.k]=o))};o?(A.id=-1,De(A,s)):A()}}}Br().requestIdleCallback;Br().cancelIdleCallback;const Bs=e=>!!e.type.__asyncLoader,Da=e=>e.type.__isKeepAlive;function Hc(e,t){Ma(e,"a",t)}function qc(e,t){Ma(e,"da",t)}function Ma(e,t,s=be){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(zr(t,r,s),s){let n=s.parent;for(;n&&n.parent;)Da(n.parent.vnode)&&Vc(r,t,s,n),n=n.parent}}function Vc(e,t,s,r){const n=zr(t,e,r,!0);Kr(()=>{Yn(r[t],n)},s)}function zr(e,t,s=be,r=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Ut();const a=or(s),l=at(t,s,e,o);return a(),Dt(),l});return r?n.unshift(i):n.push(i),i}}const _t=e=>(t,s=be)=>{(!Zs||e==="sp")&&zr(e,(...r)=>t(...r),s)},zc=_t("bm"),ir=_t("m"),Kc=_t("bu"),Wc=_t("u"),Gc=_t("bum"),Kr=_t("um"),Jc=_t("sp"),Qc=_t("rtg"),Yc=_t("rtc");function Xc(e,t=be){zr("ec",e,t)}const hi="components",Zc="directives";function Na(e,t){return fi(hi,e,!0,t)||e}const Fa=Symbol.for("v-ndc");function Ri(e){return fe(e)?fi(hi,e,!1)||e:e||Fa}function Mg(e){return fi(Zc,e)}function fi(e,t,s=!0,r=!1){const n=Re||be;if(n){const i=n.type;if(e===hi){const a=qu(i,!1);if(a&&(a===t||a===ze(t)||a===Fr(ze(t))))return i}const o=$i(n[e]||i[e],t)||$i(n.appContext[e],t);return!o&&r?i:o}}function $i(e,t){return e&&(e[t]||e[ze(t)]||e[Fr(ze(t))])}function eu(e,t,s,r){let n;const i=s,o=M(e);if(o||fe(e)){const a=o&&Rt(e);let l=!1;a&&(l=!He(e),e=Hr(e)),n=new Array(e.length);for(let u=0,c=e.length;u<c;u++)n[u]=t(l?Se(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(oe(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=t(e[c],c,l,i)}}else n=[];return n}const Tn=e=>e?ol(e)?Jr(e):Tn(e.parent):null,Hs=ve(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tn(e.parent),$root:e=>Tn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>di(e),$forceUpdate:e=>e.f||(e.f=()=>{ci(e.update)}),$nextTick:e=>e.n||(e.n=Ot.bind(e.proxy)),$watch:e=>Eu.bind(e)}),ln=(e,t)=>e!==se&&!e.__isScriptSetup&&Y(e,t),tu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(ln(r,t))return o[t]=1,r[t];if(n!==se&&Y(n,t))return o[t]=2,n[t];if((u=e.propsOptions[0])&&Y(u,t))return o[t]=3,i[t];if(s!==se&&Y(s,t))return o[t]=4,s[t];On&&(o[t]=0)}}const c=Hs[t];let h,f;if(c)return t==="$attrs"&&Ee(e.attrs,"get",""),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==se&&Y(s,t))return o[t]=4,s[t];if(f=l.config.globalProperties,Y(f,t))return f[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:i}=e;return ln(n,t)?(n[t]=s,!0):r!==se&&Y(r,t)?(r[t]=s,!0):Y(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||e!==se&&Y(e,o)||ln(t,o)||(a=i[0])&&Y(a,o)||Y(r,o)||Y(Hs,o)||Y(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Y(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Ii(e){return M(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let On=!0;function su(e){const t=di(e),s=e.proxy,r=e.ctx;On=!1,t.beforeCreate&&ji(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:_,activated:b,deactivated:A,beforeDestroy:$,beforeUnmount:I,destroyed:P,unmounted:C,render:U,renderTracked:pe,renderTriggered:X,errorCaptured:V,serverPrefetch:z,expose:le,inheritAttrs:Ae,components:Ie,directives:Te,filters:Mt}=t;if(u&&ru(u,r,null),o)for(const H in o){const J=o[H];B(J)&&(r[H]=J.bind(s))}if(n){const H=n.call(s,s);oe(H)&&(e.data=ot(H))}if(On=!0,i)for(const H in i){const J=i[H],lt=B(J)?J.bind(s,s):B(J.get)?J.get.bind(s,s):nt,yt=!B(J)&&B(J.set)?J.set.bind(s):nt,Ye=ue({get:lt,set:yt});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:Oe=>Ye.value=Oe})}if(a)for(const H in a)Ba(a[H],r,s,H);if(l){const H=B(l)?l.call(s):l;Reflect.ownKeys(H).forEach(J=>{wr(J,H[J])})}c&&ji(c,e,"c");function ae(H,J){M(J)?J.forEach(lt=>H(lt.bind(s))):J&&H(J.bind(s))}if(ae(zc,h),ae(ir,f),ae(Kc,p),ae(Wc,_),ae(Hc,b),ae(qc,A),ae(Xc,V),ae(Yc,pe),ae(Qc,X),ae(Gc,I),ae(Kr,C),ae(Jc,z),M(le))if(le.length){const H=e.exposed||(e.exposed={});le.forEach(J=>{Object.defineProperty(H,J,{get:()=>s[J],set:lt=>s[J]=lt})})}else e.exposed||(e.exposed={});U&&e.render===nt&&(e.render=U),Ae!=null&&(e.inheritAttrs=Ae),Ie&&(e.components=Ie),Te&&(e.directives=Te),z&&Ua(e)}function ru(e,t,s=nt){M(e)&&(e=Pn(e));for(const r in e){const n=e[r];let i;oe(n)?"default"in n?i=qe(n.from||r,n.default,!0):i=qe(n.from||r):i=qe(n),he(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function ji(e,t,s){at(M(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ba(e,t,s,r){let n=r.includes(".")?tl(s,r):()=>s[r];if(fe(e)){const i=t[e];B(i)&&$t(n,i)}else if(B(e))$t(n,e.bind(s));else if(oe(e))if(M(e))e.forEach(i=>Ba(i,t,s,r));else{const i=B(e.handler)?e.handler.bind(s):t[e.handler];B(i)&&$t(n,i,e)}}function di(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!s&&!r?l=t:(l={},n.length&&n.forEach(u=>Ir(l,u,o,!0)),Ir(l,t,o)),oe(t)&&i.set(t,l),l}function Ir(e,t,s,r=!1){const{mixins:n,extends:i}=t;i&&Ir(e,i,s,!0),n&&n.forEach(o=>Ir(e,o,s,!0));for(const o in t)if(!(r&&o==="expose")){const a=nu[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const nu={data:Li,props:Ui,emits:Ui,methods:js,computed:js,beforeCreate:ke,created:ke,beforeMount:ke,mounted:ke,beforeUpdate:ke,updated:ke,beforeDestroy:ke,beforeUnmount:ke,destroyed:ke,unmounted:ke,activated:ke,deactivated:ke,errorCaptured:ke,serverPrefetch:ke,components:js,directives:js,watch:ou,provide:Li,inject:iu};function Li(e,t){return t?e?function(){return ve(B(e)?e.call(this,this):e,B(t)?t.call(this,this):t)}:t:e}function iu(e,t){return js(Pn(e),Pn(t))}function Pn(e){if(M(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ke(e,t){return e?[...new Set([].concat(e,t))]:t}function js(e,t){return e?ve(Object.create(null),e,t):t}function Ui(e,t){return e?M(e)&&M(t)?[...new Set([...e,...t])]:ve(Object.create(null),Ii(e),Ii(t??{})):t}function ou(e,t){if(!e)return t;if(!t)return e;const s=ve(Object.create(null),e);for(const r in t)s[r]=ke(e[r],t[r]);return s}function Ha(){return{app:null,config:{isNativeTag:Jl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let au=0;function lu(e,t){return function(r,n=null){B(r)||(r=ve({},r)),n!=null&&!oe(n)&&(n=null);const i=Ha(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:au++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:zu,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&B(c.install)?(o.add(c),c.install(u,...h)):B(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||de(r,n);return p.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),h&&t?t(p,c):e(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Jr(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(at(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Gt;Gt=u;try{return c()}finally{Gt=h}}};return u}}let Gt=null;function wr(e,t){if(be){let s=be.provides;const r=be.parent&&be.parent.provides;r===s&&(s=be.provides=Object.create(r)),s[e]=t}}function qe(e,t,s=!1){const r=be||Re;if(r||Gt){const n=Gt?Gt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&B(t)?t.call(r&&r.proxy):t}}function cu(){return!!(be||Re||Gt)}const qa={},Va=()=>Object.create(qa),za=e=>Object.getPrototypeOf(e)===qa;function uu(e,t,s,r=!1){const n={},i=Va();e.propsDefaults=Object.create(null),Ka(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=r?n:Ca(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function hu(e,t,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=G(n),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Wr(e.emitsOptions,f))continue;const p=t[f];if(l)if(Y(i,f))p!==i[f]&&(i[f]=p,u=!0);else{const _=ze(f);n[_]=Rn(l,a,_,p,e,!1)}else p!==i[f]&&(i[f]=p,u=!0)}}}else{Ka(e,t,n,i)&&(u=!0);let c;for(const h in a)(!t||!Y(t,h)&&((c=Lt(h))===h||!Y(t,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=Rn(l,a,h,void 0,e,!0)):delete n[h]);if(i!==a)for(const h in i)(!t||!Y(t,h))&&(delete i[h],u=!0)}u&&dt(e.attrs,"set","")}function Ka(e,t,s,r){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ms(l))continue;const u=t[l];let c;n&&Y(n,c=ze(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Wr(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=G(s),u=a||se;for(let c=0;c<i.length;c++){const h=i[c];s[h]=Rn(n,l,h,u[h],e,!Y(u,h))}}return o}function Rn(e,t,s,r,n,i){const o=e[s];if(o!=null){const a=Y(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=or(n);r=u[s]=l.call(null,t),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Lt(s))&&(r=!0))}return r}const fu=new WeakMap;function Wa(e,t,s=!1){const r=s?fu:t.propsCache,n=r.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!B(e)){const c=h=>{l=!0;const[f,p]=Wa(h,t,!0);ve(o,f),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return oe(e)&&r.set(e,ps),ps;if(M(i))for(let c=0;c<i.length;c++){const h=ze(i[c]);Di(h)&&(o[h]=se)}else if(i)for(const c in i){const h=ze(c);if(Di(h)){const f=i[c],p=o[h]=M(f)||B(f)?{type:f}:ve({},f),_=p.type;let b=!1,A=!0;if(M(_))for(let $=0;$<_.length;++$){const I=_[$],P=B(I)&&I.name;if(P==="Boolean"){b=!0;break}else P==="String"&&(A=!1)}else b=B(_)&&_.name==="Boolean";p[0]=b,p[1]=A,(b||Y(p,"default"))&&a.push(h)}}const u=[o,a];return oe(e)&&r.set(e,u),u}function Di(e){return e[0]!=="$"&&!Ms(e)}const Ga=e=>e[0]==="_"||e==="$stable",pi=e=>M(e)?e.map(rt):[rt(e)],du=(e,t,s)=>{if(t._n)return t;const r=Cn((...n)=>pi(t(...n)),s);return r._c=!1,r},Ja=(e,t,s)=>{const r=e._ctx;for(const n in e){if(Ga(n))continue;const i=e[n];if(B(i))t[n]=du(n,i,r);else if(i!=null){const o=pi(i);t[n]=()=>o}}},Qa=(e,t)=>{const s=pi(t);e.slots.default=()=>s},Ya=(e,t,s)=>{for(const r in t)(s||r!=="_")&&(e[r]=t[r])},pu=(e,t,s)=>{const r=e.slots=Va();if(e.vnode.shapeFlag&32){const n=t._;n?(Ya(r,t,s),s&&ia(r,"_",n,!0)):Ja(t,r)}else t&&Qa(e,t)},gu=(e,t,s)=>{const{vnode:r,slots:n}=e;let i=!0,o=se;if(r.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:Ya(n,t,s):(i=!t.$stable,Ja(t,n)),o=t}else t&&(Qa(e,t),o={default:1});if(i)for(const a in n)!Ga(a)&&o[a]==null&&delete n[a]},De=Ou;function mu(e){return _u(e)}function _u(e,t){const s=Br();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=nt,insertStaticContent:_}=e,b=(d,g,m,w=null,v=null,E=null,T=void 0,x=null,k=!!g.dynamicChildren)=>{if(d===g)return;d&&!Ts(d,g)&&(w=y(d),Oe(d,v,E,!0),d=null),g.patchFlag===-2&&(k=!1,g.dynamicChildren=null);const{type:S,ref:N,shapeFlag:R}=g;switch(S){case Gr:A(d,g,m,w);break;case Yt:$(d,g,m,w);break;case Er:d==null&&I(g,m,w,T);break;case st:Ie(d,g,m,w,v,E,T,x,k);break;default:R&1?U(d,g,m,w,v,E,T,x,k):R&6?Te(d,g,m,w,v,E,T,x,k):(R&64||R&128)&&S.process(d,g,m,w,v,E,T,x,k,L)}N!=null&&v&&$r(N,d&&d.ref,E,g||d,!g)},A=(d,g,m,w)=>{if(d==null)r(g.el=a(g.children),m,w);else{const v=g.el=d.el;g.children!==d.children&&u(v,g.children)}},$=(d,g,m,w)=>{d==null?r(g.el=l(g.children||""),m,w):g.el=d.el},I=(d,g,m,w)=>{[d.el,d.anchor]=_(d.children,g,m,w,d.el,d.anchor)},P=({el:d,anchor:g},m,w)=>{let v;for(;d&&d!==g;)v=f(d),r(d,m,w),d=v;r(g,m,w)},C=({el:d,anchor:g})=>{let m;for(;d&&d!==g;)m=f(d),n(d),d=m;n(g)},U=(d,g,m,w,v,E,T,x,k)=>{g.type==="svg"?T="svg":g.type==="math"&&(T="mathml"),d==null?pe(g,m,w,v,E,T,x,k):z(d,g,v,E,T,x,k)},pe=(d,g,m,w,v,E,T,x)=>{let k,S;const{props:N,shapeFlag:R,transition:D,dirs:F}=d;if(k=d.el=o(d.type,E,N&&N.is,N),R&8?c(k,d.children):R&16&&V(d.children,k,null,w,v,cn(d,E),T,x),F&&Nt(d,null,w,"created"),X(k,d,d.scopeId,T,w),N){for(const re in N)re!=="value"&&!Ms(re)&&i(k,re,null,N[re],E,w);"value"in N&&i(k,"value",null,N.value,E),(S=N.onVnodeBeforeMount)&&Ze(S,w,d)}F&&Nt(d,null,w,"beforeMount");const W=vu(v,D);W&&D.beforeEnter(k),r(k,g,m),((S=N&&N.onVnodeMounted)||W||F)&&De(()=>{S&&Ze(S,w,d),W&&D.enter(k),F&&Nt(d,null,w,"mounted")},v)},X=(d,g,m,w,v)=>{if(m&&p(d,m),w)for(let E=0;E<w.length;E++)p(d,w[E]);if(v){let E=v.subTree;if(g===E||rl(E.type)&&(E.ssContent===g||E.ssFallback===g)){const T=v.vnode;X(d,T,T.scopeId,T.slotScopeIds,v.parent)}}},V=(d,g,m,w,v,E,T,x,k=0)=>{for(let S=k;S<d.length;S++){const N=d[S]=x?kt(d[S]):rt(d[S]);b(null,N,g,m,w,v,E,T,x)}},z=(d,g,m,w,v,E,T)=>{const x=g.el=d.el;let{patchFlag:k,dynamicChildren:S,dirs:N}=g;k|=d.patchFlag&16;const R=d.props||se,D=g.props||se;let F;if(m&&Ft(m,!1),(F=D.onVnodeBeforeUpdate)&&Ze(F,m,g,d),N&&Nt(g,d,m,"beforeUpdate"),m&&Ft(m,!0),(R.innerHTML&&D.innerHTML==null||R.textContent&&D.textContent==null)&&c(x,""),S?le(d.dynamicChildren,S,x,m,w,cn(g,v),E):T||J(d,g,x,null,m,w,cn(g,v),E,!1),k>0){if(k&16)Ae(x,R,D,m,v);else if(k&2&&R.class!==D.class&&i(x,"class",null,D.class,v),k&4&&i(x,"style",R.style,D.style,v),k&8){const W=g.dynamicProps;for(let re=0;re<W.length;re++){const ee=W[re],je=R[ee],we=D[ee];(we!==je||ee==="value")&&i(x,ee,je,we,v,m)}}k&1&&d.children!==g.children&&c(x,g.children)}else!T&&S==null&&Ae(x,R,D,m,v);((F=D.onVnodeUpdated)||N)&&De(()=>{F&&Ze(F,m,g,d),N&&Nt(g,d,m,"updated")},w)},le=(d,g,m,w,v,E,T)=>{for(let x=0;x<g.length;x++){const k=d[x],S=g[x],N=k.el&&(k.type===st||!Ts(k,S)||k.shapeFlag&70)?h(k.el):m;b(k,S,N,null,w,v,E,T,!0)}},Ae=(d,g,m,w,v)=>{if(g!==m){if(g!==se)for(const E in g)!Ms(E)&&!(E in m)&&i(d,E,g[E],null,v,w);for(const E in m){if(Ms(E))continue;const T=m[E],x=g[E];T!==x&&E!=="value"&&i(d,E,x,T,v,w)}"value"in m&&i(d,"value",g.value,m.value,v)}},Ie=(d,g,m,w,v,E,T,x,k)=>{const S=g.el=d?d.el:a(""),N=g.anchor=d?d.anchor:a("");let{patchFlag:R,dynamicChildren:D,slotScopeIds:F}=g;F&&(x=x?x.concat(F):F),d==null?(r(S,m,w),r(N,m,w),V(g.children||[],m,N,v,E,T,x,k)):R>0&&R&64&&D&&d.dynamicChildren?(le(d.dynamicChildren,D,m,v,E,T,x),(g.key!=null||v&&g===v.subTree)&&Xa(d,g,!0)):J(d,g,m,N,v,E,T,x,k)},Te=(d,g,m,w,v,E,T,x,k)=>{g.slotScopeIds=x,d==null?g.shapeFlag&512?v.ctx.activate(g,m,w,T,k):Mt(g,m,w,v,E,T,k):vt(d,g,k)},Mt=(d,g,m,w,v,E,T)=>{const x=d.component=Mu(d,w,v);if(Da(d)&&(x.ctx.renderer=L),Nu(x,!1,T),x.asyncDep){if(v&&v.registerDep(x,ae,T),!d.el){const k=x.subTree=de(Yt);$(null,k,g,m)}}else ae(x,d,g,m,v,E,T)},vt=(d,g,m)=>{const w=g.component=d.component;if(Cu(d,g,m))if(w.asyncDep&&!w.asyncResolved){H(w,g,m);return}else w.next=g,w.update();else g.el=d.el,w.vnode=g},ae=(d,g,m,w,v,E,T)=>{const x=()=>{if(d.isMounted){let{next:R,bu:D,u:F,parent:W,vnode:re}=d;{const Le=Za(d);if(Le){R&&(R.el=re.el,H(d,R,T)),Le.asyncDep.then(()=>{d.isUnmounted||x()});return}}let ee=R,je;Ft(d,!1),R?(R.el=re.el,H(d,R,T)):R=re,D&&br(D),(je=R.props&&R.props.onVnodeBeforeUpdate)&&Ze(je,W,R,re),Ft(d,!0);const we=un(d),We=d.subTree;d.subTree=we,b(We,we,h(We.el),y(We),d,v,E),R.el=we.el,ee===null&&Tu(d,we.el),F&&De(F,v),(je=R.props&&R.props.onVnodeUpdated)&&De(()=>Ze(je,W,R,re),v)}else{let R;const{el:D,props:F}=g,{bm:W,m:re,parent:ee,root:je,type:we}=d,We=Bs(g);if(Ft(d,!1),W&&br(W),!We&&(R=F&&F.onVnodeBeforeMount)&&Ze(R,ee,g),Ft(d,!0),D&&ce){const Le=()=>{d.subTree=un(d),ce(D,d.subTree,d,v,null)};We&&we.__asyncHydrate?we.__asyncHydrate(D,d,Le):Le()}else{je.ce&&je.ce._injectChildStyle(we);const Le=d.subTree=un(d);b(null,Le,m,w,d,v,E),g.el=Le.el}if(re&&De(re,v),!We&&(R=F&&F.onVnodeMounted)){const Le=g;De(()=>Ze(R,ee,Le),v)}(g.shapeFlag&256||ee&&Bs(ee.vnode)&&ee.vnode.shapeFlag&256)&&d.a&&De(d.a,v),d.isMounted=!0,g=m=w=null}};d.scope.on();const k=d.effect=new da(x);d.scope.off();const S=d.update=k.run.bind(k),N=d.job=k.runIfDirty.bind(k);N.i=d,N.id=d.uid,k.scheduler=()=>ci(N),Ft(d,!0),S()},H=(d,g,m)=>{g.component=d;const w=d.vnode.props;d.vnode=g,d.next=null,hu(d,g.props,w,m),gu(d,g.children,m),Ut(),Pi(d),Dt()},J=(d,g,m,w,v,E,T,x,k=!1)=>{const S=d&&d.children,N=d?d.shapeFlag:0,R=g.children,{patchFlag:D,shapeFlag:F}=g;if(D>0){if(D&128){yt(S,R,m,w,v,E,T,x,k);return}else if(D&256){lt(S,R,m,w,v,E,T,x,k);return}}F&8?(N&16&&Be(S,v,E),R!==S&&c(m,R)):N&16?F&16?yt(S,R,m,w,v,E,T,x,k):Be(S,v,E,!0):(N&8&&c(m,""),F&16&&V(R,m,w,v,E,T,x,k))},lt=(d,g,m,w,v,E,T,x,k)=>{d=d||ps,g=g||ps;const S=d.length,N=g.length,R=Math.min(S,N);let D;for(D=0;D<R;D++){const F=g[D]=k?kt(g[D]):rt(g[D]);b(d[D],F,m,null,v,E,T,x,k)}S>N?Be(d,v,E,!0,!1,R):V(g,m,w,v,E,T,x,k,R)},yt=(d,g,m,w,v,E,T,x,k)=>{let S=0;const N=g.length;let R=d.length-1,D=N-1;for(;S<=R&&S<=D;){const F=d[S],W=g[S]=k?kt(g[S]):rt(g[S]);if(Ts(F,W))b(F,W,m,null,v,E,T,x,k);else break;S++}for(;S<=R&&S<=D;){const F=d[R],W=g[D]=k?kt(g[D]):rt(g[D]);if(Ts(F,W))b(F,W,m,null,v,E,T,x,k);else break;R--,D--}if(S>R){if(S<=D){const F=D+1,W=F<N?g[F].el:w;for(;S<=D;)b(null,g[S]=k?kt(g[S]):rt(g[S]),m,W,v,E,T,x,k),S++}}else if(S>D)for(;S<=R;)Oe(d[S],v,E,!0),S++;else{const F=S,W=S,re=new Map;for(S=W;S<=D;S++){const Ue=g[S]=k?kt(g[S]):rt(g[S]);Ue.key!=null&&re.set(Ue.key,S)}let ee,je=0;const we=D-W+1;let We=!1,Le=0;const xs=new Array(we);for(S=0;S<we;S++)xs[S]=0;for(S=F;S<=R;S++){const Ue=d[S];if(je>=we){Oe(Ue,v,E,!0);continue}let Xe;if(Ue.key!=null)Xe=re.get(Ue.key);else for(ee=W;ee<=D;ee++)if(xs[ee-W]===0&&Ts(Ue,g[ee])){Xe=ee;break}Xe===void 0?Oe(Ue,v,E,!0):(xs[Xe-W]=S+1,Xe>=Le?Le=Xe:We=!0,b(Ue,g[Xe],m,null,v,E,T,x,k),je++)}const Ai=We?yu(xs):ps;for(ee=Ai.length-1,S=we-1;S>=0;S--){const Ue=W+S,Xe=g[Ue],ki=Ue+1<N?g[Ue+1].el:w;xs[S]===0?b(null,Xe,m,ki,v,E,T,x,k):We&&(ee<0||S!==Ai[ee]?Ye(Xe,m,ki,2):ee--)}}},Ye=(d,g,m,w,v=null)=>{const{el:E,type:T,transition:x,children:k,shapeFlag:S}=d;if(S&6){Ye(d.component.subTree,g,m,w);return}if(S&128){d.suspense.move(g,m,w);return}if(S&64){T.move(d,g,m,L);return}if(T===st){r(E,g,m);for(let R=0;R<k.length;R++)Ye(k[R],g,m,w);r(d.anchor,g,m);return}if(T===Er){P(d,g,m);return}if(w!==2&&S&1&&x)if(w===0)x.beforeEnter(E),r(E,g,m),De(()=>x.enter(E),v);else{const{leave:R,delayLeave:D,afterLeave:F}=x,W=()=>r(E,g,m),re=()=>{R(E,()=>{W(),F&&F()})};D?D(E,W,re):re()}else r(E,g,m)},Oe=(d,g,m,w=!1,v=!1)=>{const{type:E,props:T,ref:x,children:k,dynamicChildren:S,shapeFlag:N,patchFlag:R,dirs:D,cacheIndex:F}=d;if(R===-2&&(v=!1),x!=null&&$r(x,null,m,d,!0),F!=null&&(g.renderCache[F]=void 0),N&256){g.ctx.deactivate(d);return}const W=N&1&&D,re=!Bs(d);let ee;if(re&&(ee=T&&T.onVnodeBeforeUnmount)&&Ze(ee,g,d),N&6)cr(d.component,m,w);else{if(N&128){d.suspense.unmount(m,w);return}W&&Nt(d,null,g,"beforeUnmount"),N&64?d.type.remove(d,g,m,L,w):S&&!S.hasOnce&&(E!==st||R>0&&R&64)?Be(S,g,m,!1,!0):(E===st&&R&384||!v&&N&16)&&Be(k,g,m),w&&es(d)}(re&&(ee=T&&T.onVnodeUnmounted)||W)&&De(()=>{ee&&Ze(ee,g,d),W&&Nt(d,null,g,"unmounted")},m)},es=d=>{const{type:g,el:m,anchor:w,transition:v}=d;if(g===st){ts(m,w);return}if(g===Er){C(d);return}const E=()=>{n(m),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(d.shapeFlag&1&&v&&!v.persisted){const{leave:T,delayLeave:x}=v,k=()=>T(m,E);x?x(d.el,E,k):k()}else E()},ts=(d,g)=>{let m;for(;d!==g;)m=f(d),n(d),d=m;n(g)},cr=(d,g,m)=>{const{bum:w,scope:v,job:E,subTree:T,um:x,m:k,a:S}=d;Mi(k),Mi(S),w&&br(w),v.stop(),E&&(E.flags|=8,Oe(T,d,g,m)),x&&De(x,g),De(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Be=(d,g,m,w=!1,v=!1,E=0)=>{for(let T=E;T<d.length;T++)Oe(d[T],g,m,w,v)},y=d=>{if(d.shapeFlag&6)return y(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const g=f(d.anchor||d.el),m=g&&g[Fc];return m?f(m):g};let j=!1;const O=(d,g,m)=>{d==null?g._vnode&&Oe(g._vnode,null,null,!0):b(g._vnode||null,d,g,null,null,null,m),g._vnode=d,j||(j=!0,Pi(),Ia(),j=!1)},L={p:b,um:Oe,m:Ye,r:es,mt:Mt,mc:V,pc:J,pbc:le,n:y,o:e};let Z,ce;return{render:O,hydrate:Z,createApp:lu(O,Z)}}function cn({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Ft({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function vu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Xa(e,t,s=!1){const r=e.children,n=t.children;if(M(r)&&M(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=kt(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Xa(o,a)),a.type===Gr&&(a.el=o.el)}}function yu(e){const t=e.slice(),s=[0];let r,n,i,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(n=s[s.length-1],e[n]<u){t[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<u?i=a+1:o=a;u<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function Za(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Za(t)}function Mi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const bu=Symbol.for("v-scx"),wu=()=>qe(bu);function $t(e,t,s){return el(e,t,s)}function el(e,t,s=se){const{immediate:r,deep:n,flush:i,once:o}=s,a=ve({},s),l=t&&r||!t&&i!=="post";let u;if(Zs){if(i==="sync"){const p=wu();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=nt,p.resume=nt,p.pause=nt,p}}const c=be;a.call=(p,_,b)=>at(p,c,_,b);let h=!1;i==="post"?a.scheduler=p=>{De(p,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(p,_)=>{_?p():ci(p)}),a.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=Uc(e,t,a);return Zs&&(u?u.push(f):l&&f()),f}function Eu(e,t,s){const r=this.proxy,n=fe(e)?e.includes(".")?tl(r,e):()=>r[e]:e.bind(r,r);let i;B(t)?i=t:(i=t.handler,s=t);const o=or(this),a=el(n,i.bind(r),s);return o(),a}function tl(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Su=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ze(t)}Modifiers`]||e[`${Lt(t)}Modifiers`];function Au(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||se;let n=s;const i=t.startsWith("update:"),o=i&&Su(r,t.slice(7));o&&(o.trim&&(n=s.map(c=>fe(c)?c.trim():c)),o.number&&(n=s.map(Cr)));let a,l=r[a=sn(t)]||r[a=sn(ze(t))];!l&&i&&(l=r[a=sn(Lt(t))]),l&&at(l,e,6,n);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,at(u,e,6,n)}}function sl(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!B(e)){const l=u=>{const c=sl(u,t,!0);c&&(a=!0,ve(o,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(oe(e)&&r.set(e,null),null):(M(i)?i.forEach(l=>o[l]=null):ve(o,i),oe(e)&&r.set(e,o),o)}function Wr(e,t){return!e||!Mr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Y(e,t[0].toLowerCase()+t.slice(1))||Y(e,Lt(t))||Y(e,t))}function un(e){const{type:t,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:_,inheritAttrs:b}=e,A=Rr(e);let $,I;try{if(s.shapeFlag&4){const C=n||r,U=C;$=rt(u.call(U,C,c,h,p,f,_)),I=a}else{const C=t;$=rt(C.length>1?C(h,{attrs:a,slots:o,emit:l}):C(h,null)),I=t.props?a:ku(a)}}catch(C){qs.length=0,qr(C,e,1),$=de(Yt)}let P=$;if(I&&b!==!1){const C=Object.keys(I),{shapeFlag:U}=P;C.length&&U&7&&(i&&C.some(Qn)&&(I=xu(I,i)),P=ys(P,I,!1,!0))}return s.dirs&&(P=ys(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(s.dirs):s.dirs),s.transition&&ui(P,s.transition),$=P,Rr(A),$}const ku=e=>{let t;for(const s in e)(s==="class"||s==="style"||Mr(s))&&((t||(t={}))[s]=e[s]);return t},xu=(e,t)=>{const s={};for(const r in e)(!Qn(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function Cu(e,t,s){const{props:r,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ni(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Wr(u,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ni(r,o,u):!0:!!o;return!1}function Ni(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(t[i]!==e[i]&&!Wr(s,i))return!0}return!1}function Tu({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const rl=e=>e.__isSuspense;function Ou(e,t){t&&t.pendingBranch?M(e)?t.effects.push(...e):t.effects.push(e):Nc(e)}const st=Symbol.for("v-fgt"),Gr=Symbol.for("v-txt"),Yt=Symbol.for("v-cmt"),Er=Symbol.for("v-stc"),qs=[];let Fe=null;function Ne(e=!1){qs.push(Fe=e?null:[])}function Pu(){qs.pop(),Fe=qs[qs.length-1]||null}let Xs=1;function Fi(e,t=!1){Xs+=e,e<0&&Fe&&t&&(Fe.hasOnce=!0)}function nl(e){return e.dynamicChildren=Xs>0?Fe||ps:null,Pu(),Xs>0&&Fe&&Fe.push(e),e}function mt(e,t,s,r,n,i){return nl($e(e,t,s,r,n,i,!0))}function Sr(e,t,s,r,n){return nl(de(e,t,s,r,n,!0))}function jr(e){return e?e.__v_isVNode===!0:!1}function Ts(e,t){return e.type===t.type&&e.key===t.key}const il=({key:e})=>e??null,Ar=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?fe(e)||he(e)||B(e)?{i:Re,r:e,k:t,f:!!s}:e:null);function $e(e,t=null,s=null,r=0,n=null,i=e===st?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&il(t),ref:t&&Ar(t),scopeId:La,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Re};return a?(gi(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=fe(s)?8:16),Xs>0&&!o&&Fe&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Fe.push(l),l}const de=Ru;function Ru(e,t=null,s=null,r=0,n=null,i=!1){if((!e||e===Fa)&&(e=Yt),jr(e)){const a=ys(e,t,!0);return s&&gi(a,s),Xs>0&&!i&&Fe&&(a.shapeFlag&6?Fe[Fe.indexOf(e)]=a:Fe.push(a)),a.patchFlag=-2,a}if(Vu(e)&&(e=e.__vccOpts),t){t=$u(t);let{class:a,style:l}=t;a&&!fe(a)&&(t.class=ei(a)),oe(l)&&(li(l)&&!M(l)&&(l=ve({},l)),t.style=Zn(l))}const o=fe(e)?1:rl(e)?128:Bc(e)?64:oe(e)?4:B(e)?2:0;return $e(e,t,s,r,n,o,i,!0)}function $u(e){return e?li(e)||za(e)?ve({},e):e:null}function ys(e,t,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?Lu(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&il(u),ref:t&&t.ref?s&&i?M(i)?i.concat(Ar(t)):[i,Ar(t)]:Ar(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==st?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ys(e.ssContent),ssFallback:e.ssFallback&&ys(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&ui(c,l.clone(c)),c}function kr(e=" ",t=0){return de(Gr,null,e,t)}function Iu(e,t){const s=de(Er,null,e);return s.staticCount=t,s}function ju(e="",t=!1){return t?(Ne(),Sr(Yt,null,e)):de(Yt,null,e)}function rt(e){return e==null||typeof e=="boolean"?de(Yt):M(e)?de(st,null,e.slice()):jr(e)?kt(e):de(Gr,null,String(e))}function kt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ys(e)}function gi(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(M(t))s=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),gi(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!za(t)?t._ctx=Re:n===3&&Re&&(Re.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else B(t)?(t={default:t,_ctx:Re},s=32):(t=String(t),r&64?(s=16,t=[kr(t)]):s=8);e.children=t,e.shapeFlag|=s}function Lu(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=ei([t.class,r.class]));else if(n==="style")t.style=Zn([t.style,r.style]);else if(Mr(n)){const i=t[n],o=r[n];o&&i!==o&&!(M(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=r[n])}return t}function Ze(e,t,s,r=null){at(e,t,7,[s,r])}const Uu=Ha();let Du=0;function Mu(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||Uu,i={uid:Du++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ua(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Wa(r,n),emitsOptions:sl(r,n),emit:null,emitted:null,propsDefaults:se,inheritAttrs:r.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Au.bind(null,i),e.ce&&e.ce(i),i}let be=null,Lr,$n;{const e=Br(),t=(s,r)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Lr=t("__VUE_INSTANCE_SETTERS__",s=>be=s),$n=t("__VUE_SSR_SETTERS__",s=>Zs=s)}const or=e=>{const t=be;return Lr(e),e.scope.on(),()=>{e.scope.off(),Lr(t)}},Bi=()=>{be&&be.scope.off(),Lr(null)};function ol(e){return e.vnode.shapeFlag&4}let Zs=!1;function Nu(e,t=!1,s=!1){t&&$n(t);const{props:r,children:n}=e.vnode,i=ol(e);uu(e,r,i,t),pu(e,n,s);const o=i?Fu(e,t):void 0;return t&&$n(!1),o}function Fu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,tu);const{setup:r}=s;if(r){Ut();const n=e.setupContext=r.length>1?Hu(e):null,i=or(e),o=nr(r,e,0,[e.props,n]),a=sa(o);if(Dt(),i(),(a||e.sp)&&!Bs(e)&&Ua(e),a){if(o.then(Bi,Bi),t)return o.then(l=>{Hi(e,l,t)}).catch(l=>{qr(l,e,0)});e.asyncDep=o}else Hi(e,o,t)}else al(e,t)}function Hi(e,t,s){B(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:oe(t)&&(e.setupState=Pa(t)),al(e,s)}let qi;function al(e,t,s){const r=e.type;if(!e.render){if(!t&&qi&&!r.render){const n=r.template||di(e).template;if(n){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=ve(ve({isCustomElement:i,delimiters:a},o),l);r.render=qi(n,u)}}e.render=r.render||nt}{const n=or(e);Ut();try{su(e)}finally{Dt(),n()}}}const Bu={get(e,t){return Ee(e,"get",""),e[t]}};function Hu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Bu),slots:e.slots,emit:e.emit,expose:t}}function Jr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Pa(Kt(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Hs)return Hs[s](e)},has(t,s){return s in t||s in Hs}})):e.proxy}function qu(e,t=!0){return B(e)?e.displayName||e.name:e.name||t&&e.__name}function Vu(e){return B(e)&&"__vccOpts"in e}const ue=(e,t)=>jc(e,t,Zs);function ll(e,t,s){const r=arguments.length;return r===2?oe(t)&&!M(t)?jr(t)?de(e,null,[t]):de(e,t):de(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&jr(s)&&(s=[s]),de(e,t,s))}const zu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let In;const Vi=typeof window<"u"&&window.trustedTypes;if(Vi)try{In=Vi.createPolicy("vue",{createHTML:e=>e})}catch{}const cl=In?e=>In.createHTML(e):e=>e,Ku="http://www.w3.org/2000/svg",Wu="http://www.w3.org/1998/Math/MathML",ht=typeof document<"u"?document:null,zi=ht&&ht.createElement("template"),Gu={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t==="svg"?ht.createElementNS(Ku,e):t==="mathml"?ht.createElementNS(Wu,e):s?ht.createElement(e,{is:s}):ht.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>ht.createTextNode(e),createComment:e=>ht.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ht.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,n,i){const o=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{zi.innerHTML=cl(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=zi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Ju=Symbol("_vtc");function Qu(e,t,s){const r=e[Ju];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ur=Symbol("_vod"),ul=Symbol("_vsh"),Ng={beforeMount(e,{value:t},{transition:s}){e[Ur]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Os(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:r}){!t!=!s&&(r?t?(r.beforeEnter(e),Os(e,!0),r.enter(e)):r.leave(e,()=>{Os(e,!1)}):Os(e,t))},beforeUnmount(e,{value:t}){Os(e,t)}};function Os(e,t){e.style.display=t?e[Ur]:"none",e[ul]=!t}const Yu=Symbol(""),Xu=/(^|;)\s*display\s*:/;function Zu(e,t,s){const r=e.style,n=fe(s);let i=!1;if(s&&!n){if(t)if(fe(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&xr(r,a,"")}else for(const o in t)s[o]==null&&xr(r,o,"");for(const o in s)o==="display"&&(i=!0),xr(r,o,s[o])}else if(n){if(t!==s){const o=r[Yu];o&&(s+=";"+o),r.cssText=s,i=Xu.test(s)}}else t&&e.removeAttribute("style");Ur in e&&(e[Ur]=i?r.display:"",e[ul]&&(r.display="none"))}const Ki=/\s*!important$/;function xr(e,t,s){if(M(s))s.forEach(r=>xr(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=eh(e,t);Ki.test(s)?e.setProperty(Lt(r),s.replace(Ki,""),"important"):e[r]=s}}const Wi=["Webkit","Moz","ms"],hn={};function eh(e,t){const s=hn[t];if(s)return s;let r=ze(t);if(r!=="filter"&&r in e)return hn[t]=r;r=Fr(r);for(let n=0;n<Wi.length;n++){const i=Wi[n]+r;if(i in e)return hn[t]=i}return t}const Gi="http://www.w3.org/1999/xlink";function Ji(e,t,s,r,n,i=ic(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Gi,t.slice(6,t.length)):e.setAttributeNS(Gi,t,s):s==null||i&&!oa(s)?e.removeAttribute(t):e.setAttribute(t,i?"":it(s)?String(s):s)}function Qi(e,t,s,r,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?cl(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=oa(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function gt(e,t,s,r){e.addEventListener(t,s,r)}function th(e,t,s,r){e.removeEventListener(t,s,r)}const Yi=Symbol("_vei");function sh(e,t,s,r,n=null){const i=e[Yi]||(e[Yi]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=rh(t);if(r){const u=i[t]=oh(r,n);gt(e,a,u,l)}else o&&(th(e,a,o,l),i[t]=void 0)}}const Xi=/(?:Once|Passive|Capture)$/;function rh(e){let t;if(Xi.test(e)){t={};let r;for(;r=e.match(Xi);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Lt(e.slice(2)),t]}let fn=0;const nh=Promise.resolve(),ih=()=>fn||(nh.then(()=>fn=0),fn=Date.now());function oh(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;at(ah(r,s.value),t,5,[r])};return s.value=e,s.attached=ih(),s}function ah(e,t){if(M(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const Zi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,lh=(e,t,s,r,n,i)=>{const o=n==="svg";t==="class"?Qu(e,r,o):t==="style"?Zu(e,s,r):Mr(t)?Qn(t)||sh(e,t,s,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ch(e,t,r,o))?(Qi(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ji(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!fe(r))?Qi(e,ze(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ji(e,t,r,o))};function ch(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Zi(t)&&B(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Zi(t)&&fe(s)?!1:t in e}const It=e=>{const t=e.props["onUpdate:modelValue"]||!1;return M(t)?s=>br(t,s):t};function uh(e){e.target.composing=!0}function eo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ve=Symbol("_assign"),to={created(e,{modifiers:{lazy:t,trim:s,number:r}},n){e[Ve]=It(n);const i=r||n.props&&n.props.type==="number";gt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=Cr(a)),e[Ve](a)}),s&&gt(e,"change",()=>{e.value=e.value.trim()}),t||(gt(e,"compositionstart",uh),gt(e,"compositionend",eo),gt(e,"change",eo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(e[Ve]=It(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?Cr(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||n&&e.value.trim()===l)||(e.value=l))}},hh={deep:!0,created(e,t,s){e[Ve]=It(s),gt(e,"change",()=>{const r=e._modelValue,n=bs(e),i=e.checked,o=e[Ve];if(M(r)){const a=ti(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(As(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(hl(e,i))})},mounted:so,beforeUpdate(e,t,s){e[Ve]=It(s),so(e,t,s)}};function so(e,{value:t,oldValue:s},r){e._modelValue=t;let n;if(M(t))n=ti(t,r.props.value)>-1;else if(As(t))n=t.has(r.props.value);else{if(t===s)return;n=Jt(t,hl(e,!0))}e.checked!==n&&(e.checked=n)}const fh={created(e,{value:t},s){e.checked=Jt(t,s.props.value),e[Ve]=It(s),gt(e,"change",()=>{e[Ve](bs(e))})},beforeUpdate(e,{value:t,oldValue:s},r){e[Ve]=It(r),t!==s&&(e.checked=Jt(t,r.props.value))}},dh={deep:!0,created(e,{value:t,modifiers:{number:s}},r){const n=As(t);gt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?Cr(bs(o)):bs(o));e[Ve](e.multiple?n?new Set(i):i:i[0]),e._assigning=!0,Ot(()=>{e._assigning=!1})}),e[Ve]=It(r)},mounted(e,{value:t}){ro(e,t)},beforeUpdate(e,t,s){e[Ve]=It(s)},updated(e,{value:t}){e._assigning||ro(e,t)}};function ro(e,t){const s=e.multiple,r=M(t);if(!(s&&!r&&!As(t))){for(let n=0,i=e.options.length;n<i;n++){const o=e.options[n],a=bs(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(a)):o.selected=ti(t,a)>-1}else o.selected=t.has(a);else if(Jt(bs(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function bs(e){return"_value"in e?e._value:e.value}function hl(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Fg={created(e,t,s){dr(e,t,s,null,"created")},mounted(e,t,s){dr(e,t,s,null,"mounted")},beforeUpdate(e,t,s,r){dr(e,t,s,r,"beforeUpdate")},updated(e,t,s,r){dr(e,t,s,r,"updated")}};function ph(e,t){switch(e){case"SELECT":return dh;case"TEXTAREA":return to;default:switch(t){case"checkbox":return hh;case"radio":return fh;default:return to}}}function dr(e,t,s,r,n){const o=ph(e.tagName,s.props&&s.props.type)[n];o&&o(e,t,s,r)}const gh=["ctrl","shift","alt","meta"],mh={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>gh.some(s=>e[`${s}Key`]&&!t.includes(s))},Bg=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<t.length;o++){const a=mh[t[o]];if(a&&a(n,t))return}return e(n,...i)})},_h={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Hg=(e,t)=>{const s=e._withKeys||(e._withKeys={}),r=t.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const i=Lt(n.key);if(t.some(o=>o===i||_h[o]===i))return e(n)})},vh=ve({patchProp:lh},Gu);let no;function yh(){return no||(no=mu(vh))}const bh=(...e)=>{const t=yh().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=Eh(r);if(!n)return;const i=t._component;!B(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,wh(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function wh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Eh(e){return fe(e)?document.querySelector(e):e}var Sh=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let fl;const Qr=e=>fl=e,dl=Symbol();function jn(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var Vs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(Vs||(Vs={}));function Ah(){const e=ha(!0),t=e.run(()=>Ke({}));let s=[],r=[];const n=Kt({install(i){Qr(n),n._a=i,i.provide(dl,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!Sh?r.push(i):s.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}const pl=()=>{};function io(e,t,s,r=pl){e.push(t);const n=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!s&&fa()&&ac(n),n}function rs(e,...t){e.slice().forEach(s=>{s(...t)})}const kh=e=>e(),oo=Symbol(),dn=Symbol();function Ln(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,r)=>e.set(r,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],n=e[s];jn(n)&&jn(r)&&e.hasOwnProperty(s)&&!he(r)&&!Rt(r)?e[s]=Ln(n,r):e[s]=r}return e}const xh=Symbol();function Ch(e){return!jn(e)||!e.hasOwnProperty(xh)}const{assign:wt}=Object;function Th(e){return!!(he(e)&&e.effect)}function Oh(e,t,s,r){const{state:n,actions:i,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=n?n():{});const c=Pc(s.state.value[e]);return wt(c,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=Kt(ue(()=>{Qr(s);const p=s._s.get(e);return o[f].call(p,p)})),h),{}))}return l=gl(e,u,t,s,r,!0),l}function gl(e,t,s={},r,n,i){let o;const a=wt({actions:{}},s),l={deep:!0};let u,c,h=[],f=[],p;const _=r.state.value[e];!i&&!_&&(r.state.value[e]={}),Ke({});let b;function A(V){let z;u=c=!1,typeof V=="function"?(V(r.state.value[e]),z={type:Vs.patchFunction,storeId:e,events:p}):(Ln(r.state.value[e],V),z={type:Vs.patchObject,payload:V,storeId:e,events:p});const le=b=Symbol();Ot().then(()=>{b===le&&(u=!0)}),c=!0,rs(h,z,r.state.value[e])}const $=i?function(){const{state:z}=s,le=z?z():{};this.$patch(Ae=>{wt(Ae,le)})}:pl;function I(){o.stop(),h=[],f=[],r._s.delete(e)}const P=(V,z="")=>{if(oo in V)return V[dn]=z,V;const le=function(){Qr(r);const Ae=Array.from(arguments),Ie=[],Te=[];function Mt(H){Ie.push(H)}function vt(H){Te.push(H)}rs(f,{args:Ae,name:le[dn],store:U,after:Mt,onError:vt});let ae;try{ae=V.apply(this&&this.$id===e?this:U,Ae)}catch(H){throw rs(Te,H),H}return ae instanceof Promise?ae.then(H=>(rs(Ie,H),H)).catch(H=>(rs(Te,H),Promise.reject(H))):(rs(Ie,ae),ae)};return le[oo]=!0,le[dn]=z,le},C={_p:r,$id:e,$onAction:io.bind(null,f),$patch:A,$reset:$,$subscribe(V,z={}){const le=io(h,V,z.detached,()=>Ae()),Ae=o.run(()=>$t(()=>r.state.value[e],Ie=>{(z.flush==="sync"?c:u)&&V({storeId:e,type:Vs.direct,events:p},Ie)},wt({},l,z)));return le},$dispose:I},U=ot(C);r._s.set(e,U);const X=(r._a&&r._a.runWithContext||kh)(()=>r._e.run(()=>(o=ha()).run(()=>t({action:P}))));for(const V in X){const z=X[V];if(he(z)&&!Th(z)||Rt(z))i||(_&&Ch(z)&&(he(z)?z.value=_[V]:Ln(z,_[V])),r.state.value[e][V]=z);else if(typeof z=="function"){const le=P(z,V);X[V]=le,a.actions[V]=z}}return wt(U,X),wt(G(U),X),Object.defineProperty(U,"$state",{get:()=>r.state.value[e],set:V=>{A(z=>{wt(z,V)})}}),r._p.forEach(V=>{wt(U,o.run(()=>V({store:U,app:r._a,pinia:r,options:a})))}),_&&i&&s.hydrate&&s.hydrate(U.$state,_),u=!0,c=!0,U}/*! #__NO_SIDE_EFFECTS__ */function Yr(e,t,s){let r,n;const i=typeof t=="function";typeof e=="string"?(r=e,n=i?s:t):(n=e,r=e.id);function o(a,l){const u=cu();return a=a||(u?qe(dl,null):null),a&&Qr(a),a=fl,a._s.has(r)||(i?gl(r,t,n,a):Oh(r,n,a)),a._s.get(r)}return o.$id=r,o}const Ph="modulepreload",Rh=function(e){return"/TogetherTalk/"+e},ao={},me=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=Rh(l),l in ao)return;ao[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Ph,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},$h=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>me(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class mi extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class Ih extends mi{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jh extends mi{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Lh extends mi{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Un;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Un||(Un={}));var Uh=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Dh{constructor(t,{headers:s={},customFetch:r,region:n=Un.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=$h(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return Uh(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(_=>{throw new Ih(_)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new jh(c);if(!c.ok)throw new Lh(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield c.json():f==="application/octet-stream"?p=yield c.blob():f==="text/event-stream"?p=c:f==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}function Mh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),s}var ge={},ns={},is={},os={},as={},ls={},Fh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ws=Fh();const Bh=ws.fetch,ml=ws.fetch.bind(ws),_l=ws.Headers,Hh=ws.Request,qh=ws.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:_l,Request:Hh,Response:qh,default:ml,fetch:Bh},Symbol.toStringTag,{value:"Module"})),Vh=Nh(ks);var pr={},lo;function vl(){if(lo)return pr;lo=1,Object.defineProperty(pr,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return pr.default=e,pr}var co;function yl(){if(co)return ls;co=1;var e=ls&&ls.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ls,"__esModule",{value:!0});const t=e(Vh),s=e(vl());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,f;let p=null,_=null,b=null,A=u.status,$=u.statusText;if(u.ok){if(this.method!=="HEAD"){const U=await u.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=U:_=JSON.parse(U))}const P=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),C=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");P&&C&&C.length>1&&(b=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(p={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,b=null,A=406,$="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const P=await u.text();try{p=JSON.parse(P),Array.isArray(p)&&u.status===404&&(_=[],p=null,A=200,$="OK")}catch{u.status===404&&P===""?(A=204,$="No Content"):p={message:P}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,A=200,$="OK"),p&&this.shouldThrowOnError)throw new s.default(p)}return{error:p,data:_,count:b,status:A,statusText:$}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,f;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return ls.default=r,ls}var uo;function bl(){if(uo)return as;uo=1;var e=as&&as.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(as,"__esModule",{value:!0});const t=e(yl());class s extends t.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return as.default=s,as}var ho;function _i(){if(ho)return os;ho=1;var e=os&&os.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(os,"__esModule",{value:!0});const t=e(bl());class s extends t.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return os.default=s,os}var fo;function wl(){if(fo)return is;fo=1;var e=is&&is.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(is,"__esModule",{value:!0});const t=e(_i());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return is.default=s,is}var Ps={},Rs={},po;function zh(){return po||(po=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.version=void 0,Rs.version="0.0.0-automated"),Rs}var go;function Kh(){if(go)return Ps;go=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.DEFAULT_HEADERS=void 0;const e=zh();return Ps.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Ps}var mo;function Wh(){if(mo)return ns;mo=1;var e=ns&&ns.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ns,"__esModule",{value:!0});const t=e(wl()),s=e(_i()),r=Kh();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const f=new URL(`${this.url}/rpc/${o}`);let p;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([b,A])=>A!==void 0).map(([b,A])=>[b,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([b,A])=>{f.searchParams.append(b,A)})):(h="POST",p=a);const _=Object.assign({},this.headers);return c&&(_.Prefer=`count=${c}`),new s.default({method:h,url:f,headers:_,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return ns.default=n,ns}var _o;function Gh(){if(_o)return ge;_o=1;var e=ge&&ge.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ge,"__esModule",{value:!0}),ge.PostgrestError=ge.PostgrestBuilder=ge.PostgrestTransformBuilder=ge.PostgrestFilterBuilder=ge.PostgrestQueryBuilder=ge.PostgrestClient=void 0;const t=e(Wh());ge.PostgrestClient=t.default;const s=e(wl());ge.PostgrestQueryBuilder=s.default;const r=e(_i());ge.PostgrestFilterBuilder=r.default;const n=e(bl());ge.PostgrestTransformBuilder=n.default;const i=e(yl());ge.PostgrestBuilder=i.default;const o=e(vl());return ge.PostgrestError=o.default,ge.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},ge}var Jh=Gh();const Qh=Mh(Jh),{PostgrestClient:Yh,PostgrestQueryBuilder:qg,PostgrestFilterBuilder:Vg,PostgrestTransformBuilder:zg,PostgrestBuilder:Kg,PostgrestError:Wg}=Qh,Xh="2.11.2",Zh={"X-Client-Info":`realtime-js/${Xh}`},ef="1.0.0",El=1e4,tf=1e3;var vs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vs||(vs={}));var Me;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Me||(Me={}));var Ge;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ge||(Ge={}));var Dn;(function(e){e.websocket="websocket"})(Dn||(Dn={}));var zt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zt||(zt={}));class sf{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+n));o=o+n;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Sl{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const vo=(e,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=rf(o,e,t,n),i),{})},rf=(e,t,s,r)=>{const n=t.find(a=>a.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!r.includes(i)?Al(i,o):Mn(o)},Al=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return lf(t,s)}switch(e){case ne.bool:return nf(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return of(t);case ne.json:case ne.jsonb:return af(t);case ne.timestamp:return cf(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return Mn(t);default:return Mn(t)}},Mn=e=>e,nf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},of=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},af=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},lf=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Al(t,a))}return e},cf=e=>typeof e=="string"?e.replace(" ","T"):e,kl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class pn{constructor(t,s,r={},n=El){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yo||(yo={}));class zs{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=zs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=zs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(A=>A.presence_ref),p=h.map(A=>A.presence_ref),_=c.filter(A=>p.indexOf(A.presence_ref)<0),b=h.filter(A=>f.indexOf(A.presence_ref)<0);_.length>0&&(a[u]=_),b.length>0&&(l[u]=b)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(t,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(p=>p.presence_ref),f=c.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,n(a,u,l),u.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bo;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bo||(bo={}));var wo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wo||(wo={}));var ft;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class vi{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new pn(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new Sl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new zs(this),this.broadcastEndpointURL=kl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(ft.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(ft.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(ft.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,_=[];for(let b=0;b<p;b++){const A=f[b],{filter:{event:$,schema:I,table:P,filter:C}}=A,U=c&&c[b];if(U&&U.event===$&&U.schema===I&&U.table===P&&U.filter===C)_.push(Object.assign(Object.assign({},A),{id:U.id}));else{this.unsubscribe(),t==null||t(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(ft.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Me.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new pn(this,Ge.leave,{},t);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new pn(this,t,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ge;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var _,b,A;return((_=p.filter)===null||_===void 0?void 0:_.event)==="*"||((A=(b=p.filter)===null||b===void 0?void 0:b.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var _,b,A,$,I,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const C=p.id,U=(_=p.filter)===null||_===void 0?void 0:_.event;return C&&((b=s.ids)===null||b===void 0?void 0:b.includes(C))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const C=(I=($=p==null?void 0:p.filter)===null||$===void 0?void 0:$.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return C==="*"||C===((P=s==null?void 0:s.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const _=f.data,{schema:b,table:A,commit_timestamp:$,type:I,errors:P}=_;f=Object.assign(Object.assign({},{schema:b,table:A,commit_timestamp:$,eventType:I,new:{},old:{},errors:P}),this._getPayloadRecords(_))}p.callback(f,r)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&vi.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ge.close,{},t)}_onError(t){this._on(Ge.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=vo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=vo(t.columns,t.old_record)),s}}const uf=()=>{},hf=typeof WebSocket<"u",ff=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class df{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Zh,this.params={},this.timeout=El,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=uf,this.conn=null,this.sendBuffer=[],this.serializer=new sf,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>me(async()=>{const{default:l}=await Promise.resolve().then(()=>ks);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Dn.websocket}`,this.httpEndpoint=kl(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Sl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(hf){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new pf(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),me(async()=>{const{default:t}=await import("./browser-CbQ_PKh8.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ef}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case vs.connecting:return zt.Connecting;case vs.open:return zt.Open;case vs.closing:return zt.Closing;default:return zt.Closed}}isConnected(){return this.connectionState()===zt.Open}channel(t,s={config:{}}){const r=new vi(`realtime:${t}`,s,this);return this.channels.push(r),r}push(t){const{topic:s,event:r,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ge.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(tf,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ge.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([ff],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class pf{constructor(t,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=vs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class yi extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gf extends yi{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Nn extends yi{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var mf=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const xl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>me(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},_f=()=>mf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield me(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),Fn=e=>{if(Array.isArray(e))return e.map(s=>Fn(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=Fn(r)}),t};var Xt=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const gn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vf=(e,t,s)=>Xt(void 0,void 0,void 0,function*(){const r=yield _f();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{t(new gf(gn(n),e.status||500))}).catch(n=>{t(new Nn(gn(n),n))}):t(new Nn(gn(e),e))}),yf=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function ar(e,t,s,r,n,i){return Xt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,yf(t,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>vf(l,a,r))})})}function Dr(e,t,s,r){return Xt(this,void 0,void 0,function*(){return ar(e,"GET",t,s,r)})}function xt(e,t,s,r,n){return Xt(this,void 0,void 0,function*(){return ar(e,"POST",t,r,n,s)})}function bf(e,t,s,r,n){return Xt(this,void 0,void 0,function*(){return ar(e,"PUT",t,r,n,s)})}function wf(e,t,s,r){return Xt(this,void 0,void 0,function*(){return ar(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Cl(e,t,s,r,n){return Xt(this,void 0,void 0,function*(){return ar(e,"DELETE",t,r,n,s)})}var Pe=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Ef={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Sf{constructor(t,s={},r,n){this.url=t,this.headers=s,this.bucketId=r,this.fetch=xl(n)}uploadOrUpdate(t,s,r,n){return Pe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Eo),n);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}upload(t,s,r){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return Pe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:Eo.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return Pe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield xt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new yi("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}update(t,s,r){return Pe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return Pe(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}copy(t,s,r){return Pe(this,void 0,void 0,function*(){try{return{data:{path:(yield xt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return Pe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield xt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return Pe(this,void 0,void 0,function*(){try{const n=yield xt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}download(t,s){return Pe(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Dr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}info(t){return Pe(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield Dr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Fn(r),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}exists(t){return Pe(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield wf(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_e(r)&&r instanceof Nn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Pe(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}list(t,s,r){return Pe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ef),s),{prefix:t||""});return{data:yield xt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Af="2.7.1",kf={"X-Client-Info":`storage-js/${Af}`};var cs=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class xf{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},kf),s),this.fetch=xl(r)}listBuckets(){return cs(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}getBucket(t){return cs(this,void 0,void 0,function*(){try{return{data:yield Dr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return cs(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return cs(this,void 0,void 0,function*(){try{return{data:yield bf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}emptyBucket(t){return cs(this,void 0,void 0,function*(){try{return{data:yield xt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}deleteBucket(t){return cs(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}}class Cf extends xf{constructor(t,s={},r){super(t,s,r)}from(t){return new Sf(this.url,this.headers,t,this.fetch)}}const Tf="2.47.10";let Ls="";typeof Deno<"u"?Ls="deno":typeof document<"u"?Ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ls="react-native":Ls="node";const Of={"X-Client-Info":`supabase-js-${Ls}/${Tf}`},Pf={headers:Of},Rf={schema:"public"},$f={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},If={};var jf=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Lf=e=>{let t;return e?t=e:typeof fetch>"u"?t=ml:t=fetch,(...s)=>t(...s)},Uf=()=>typeof Headers>"u"?_l:Headers,Df=(e,t,s)=>{const r=Lf(s),n=Uf();return(i,o)=>jf(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Mf=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Nf(e){return e.replace(/\/$/,"")}function Ff(e,t){const{db:s,auth:r,realtime:n,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Mf(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const Tl="2.67.3",Bf="http://localhost:9999",Hf="supabase.auth.token",qf={"X-Client-Info":`gotrue-js/${Tl}`},So=10,Bn="X-Supabase-Api-Version",Ol={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Vf(e){return Math.round(Date.now()/1e3)+e}function zf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const et=()=>typeof window<"u"&&typeof document<"u",Bt={tested:!1,writable:!1},Ks=()=>{if(!et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bt.tested)return Bt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bt.tested=!0,Bt.writable=!0}catch{Bt.tested=!0,Bt.writable=!1}return Bt.writable};function Kf(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const Pl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>me(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},Wf=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Rl=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},gr=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},mr=async(e,t)=>{await e.removeItem(t)};function Gf(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class Xr{constructor(){this.promise=new Xr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Xr.promiseConstructor=Promise;function Ao(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(Gf(r))}async function Jf(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Qf(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function Yf(e){return("0"+e.toString(16)).substr(-2)}function Xf(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,Yf).join("")}async function Zf(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function ed(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function td(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Zf(e);return ed(s)}async function us(e,t,s=!1){const r=Xf();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Rl(e,`${t}-code-verifier`,n);const i=await td(r);return[i,r===i?"plain":"s256"]}const sd=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function rd(e){const t=e.headers.get(Bn);if(!t||!t.match(sd))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class bi extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class nd extends bi{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function id(e){return q(e)&&e.name==="AuthApiError"}class $l extends bi{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Zt extends bi{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class Et extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function od(e){return q(e)&&e.name==="AuthSessionMissingError"}class mn extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class _r extends Zt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vr extends Zt{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ad(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class ko extends Zt{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hn extends Zt{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function _n(e){return q(e)&&e.name==="AuthRetryableFetchError"}class xo extends Zt{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var ld=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const Vt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cd=[502,503,504];async function Co(e){var t;if(!Wf(e))throw new Hn(Vt(e),0);if(cd.includes(e.status))throw new Hn(Vt(e),e.status);let s;try{s=await e.json()}catch(i){throw new $l(Vt(i),i)}let r;const n=rd(e);if(n&&n.getTime()>=Ol["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new xo(Vt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Et}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xo(Vt(s),e.status,s.weak_password.reasons);throw new nd(Vt(s),e.status||500,r)}const ud=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function K(e,t,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Bn]||(i[Bn]=Ol["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await hd(e,t,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function hd(e,t,s,r,n,i){const o=ud(t,r,n,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new Hn(Vt(l),0)}if(a.ok||await Co(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Co(l)}}function St(e){var t;let s=null;gd(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=Vf(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function To(e){const t=St(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function fd(e){return{data:e,error:null}}function dd(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=e,o=ld(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function pd(e){return e}function gd(e){return e.access_token&&e.refresh_token&&e.expires_in}var md=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};class _d{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Pl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Tt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=md(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:dd,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:pd});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);u[`${A}Page`]=b}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Tt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Tt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(q(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}const vd={getItem:e=>Ks()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Ks()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Ks()&&globalThis.localStorage.removeItem(e)}};function Oo(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function yd(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hs={debug:!!(globalThis&&Ks()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Il extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class bd extends Il{}async function wd(e,t,s){hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),hs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw hs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new bd(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hs.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}yd();const Ed={url:Bf,storageKey:Hf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},$s=30*1e3,Po=3;async function Ro(e,t,s){return await s()}class er{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=er.nextInstanceID,er.nextInstanceID+=1,this.instanceID>0&&et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},Ed),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new _d({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Pl(n.fetch),this.lock=n.lock||Ro,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:et()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=wd:this.lock=Ro,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:Ks()?this.storage=vd:(this.memoryStorage={},this.storage=Oo(this.memoryStorage)):(this.memoryStorage={},this.storage=Oo(this.memoryStorage)),et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Tl}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Kf(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),et()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),ad(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return q(s)?{error:s}:{error:new $l("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:St}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,r,n;try{let i;if("email"in t){const{email:c,password:h,options:f}=t;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await us(this.storage,this.storageKey)),i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:_},xform:St})}else if("phone"in t){const{phone:c,password:h,options:f}=t;i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:St})}else throw new _r("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:To})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:To})}else throw new _r("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new mn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await gr(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:St});if(await mr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new mn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=t,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:St}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new mn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await us(this.storage,this.storageKey));const{error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new _r("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,r;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:St});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await us(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fd})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Et;const{error:n}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:o}=await K(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:o,error:a}=await K(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new _r("You must provide either an email or phone number and a type")}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await gr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Et}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(s){if(q(s))return od(s)&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new Et;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await us(this.storage,this.storageKey));const{data:u,error:c}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Tt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return Ao(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Et;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=Ao(t.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Et;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!et())throw new vr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ko("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ko("No code detected.");const{data:I,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new vr("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const p=f-c;p*1e3<=$s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const _=f-h;c-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,c):c-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,c);const{data:b,error:A}=await this._getUser(i);if(A)throw A;const $={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:t.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await gr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(id(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await mr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=zf(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await us(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return et()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Qf(async n=>(n>0&&await Jf(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:St})),(n,i)=>{const o=200*Math.pow(2,n);return i&&_n(i)&&Date.now()+o-r<$s})}catch(r){if(this._debug(s,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),et()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await gr(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<n+So;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${So}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),_n(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Et;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Xr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Et;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),q(i)){const o={session:null,error:i};return _n(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Rl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await mr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$s);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/$s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${$s}ms, refresh threshold is ${Po} ticks`),n<=Po&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Il)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await us(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await K(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}er.nextInstanceID=0;const Sd=er;class Ad extends Sd{constructor(t){super(t)}}var kd=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class xd{constructor(t,s,r){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Nf(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Rf,realtime:If,auth:Object.assign(Object.assign({},$f),{storageKey:l}),global:Pf},c=Ff(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Df(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Yh(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Dh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Cf(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return kd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ad({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new df(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Cd=(e,t,s)=>new xd(e,t,s),Td="https://kawdmbqsvrrmvhymflnx.supabase.co",Od="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imthd2RtYnFzdnJybXZoeW1mbG54Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQxNjQ2NDEsImV4cCI6MjA0OTc0MDY0MX0.wfcQk1sq6ft1ZqmfrtavRahgrb87nWP4pU9loYiNtjU",te=Cd(Td,Od);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const ds=typeof document<"u";function jl(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Pd(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&jl(e.default)}const Q=Object.assign;function vn(e,t){const s={};for(const r in t){const n=t[r];s[r]=Qe(n)?n.map(e):e(n)}return s}const Ws=()=>{},Qe=Array.isArray,Ll=/#/g,Rd=/&/g,$d=/\//g,Id=/=/g,jd=/\?/g,Ul=/\+/g,Ld=/%5B/g,Ud=/%5D/g,Dl=/%5E/g,Dd=/%60/g,Ml=/%7B/g,Md=/%7C/g,Nl=/%7D/g,Nd=/%20/g;function wi(e){return encodeURI(""+e).replace(Md,"|").replace(Ld,"[").replace(Ud,"]")}function Fd(e){return wi(e).replace(Ml,"{").replace(Nl,"}").replace(Dl,"^")}function qn(e){return wi(e).replace(Ul,"%2B").replace(Nd,"+").replace(Ll,"%23").replace(Rd,"%26").replace(Dd,"`").replace(Ml,"{").replace(Nl,"}").replace(Dl,"^")}function Bd(e){return qn(e).replace(Id,"%3D")}function Hd(e){return wi(e).replace(Ll,"%23").replace(jd,"%3F")}function qd(e){return e==null?"":Hd(e).replace($d,"%2F")}function tr(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Vd=/\/$/,zd=e=>e.replace(Vd,"");function yn(e,t,s="/"){let r,n={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),n=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Jd(r??t,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:tr(o)}}function Kd(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function $o(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Wd(e,t,s){const r=t.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Es(t.matched[r],s.matched[n])&&Fl(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Es(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Fl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Gd(e[s],t[s]))return!1;return!0}function Gd(e,t){return Qe(e)?Io(e,t):Qe(t)?Io(t,e):e===t}function Io(e,t){return Qe(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function Jd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const bt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var sr;(function(e){e.pop="pop",e.push="push"})(sr||(sr={}));var Gs;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Gs||(Gs={}));function Qd(e){if(!e)if(ds){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),zd(e)}const Yd=/^[^#]+#/;function Xd(e,t){return e.replace(Yd,"#")+t}function Zd(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const Zr=()=>({left:window.scrollX,top:window.scrollY});function ep(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=Zd(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function jo(e,t){return(history.state?history.state.position-t:-1)+e}const Vn=new Map;function tp(e,t){Vn.set(e,t)}function sp(e){const t=Vn.get(e);return Vn.delete(e),t}let rp=()=>location.protocol+"//"+location.host;function Bl(e,t){const{pathname:s,search:r,hash:n}=t,i=e.indexOf("#");if(i>-1){let a=n.includes(e.slice(i))?e.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),$o(l,"")}return $o(s,e)+r+n}function np(e,t,s,r){let n=[],i=[],o=null;const a=({state:f})=>{const p=Bl(e,location),_=s.value,b=t.value;let A=0;if(f){if(s.value=p,t.value=f,o&&o===_){o=null;return}A=b?f.position-b.position:0}else r(p);n.forEach($=>{$(s.value,_,{delta:A,type:sr.pop,direction:A?A>0?Gs.forward:Gs.back:Gs.unknown})})};function l(){o=s.value}function u(f){n.push(f);const p=()=>{const _=n.indexOf(f);_>-1&&n.splice(_,1)};return i.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(Q({},f.state,{scroll:Zr()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function Lo(e,t,s,r=!1,n=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:n?Zr():null}}function ip(e){const{history:t,location:s}=window,r={value:Bl(e,s)},n={value:t.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=e.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+l:rp()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),n.value=u}catch(p){console.error(p),s[c?"replace":"assign"](f)}}function o(l,u){const c=Q({},t.state,Lo(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=Q({},n.value,t.state,{forward:l,scroll:Zr()});i(c.current,c,!0);const h=Q({},Lo(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function op(e){e=Qd(e);const t=ip(e),s=np(e,t.state,t.location,t.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=Q({location:"",base:e,go:r,createHref:Xd.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function ap(e){return typeof e=="string"||e&&typeof e=="object"}function Hl(e){return typeof e=="string"||typeof e=="symbol"}const ql=Symbol("");var Uo;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Uo||(Uo={}));function Ss(e,t){return Q(new Error,{type:e,[ql]:!0},t)}function ut(e,t){return e instanceof Error&&ql in e&&(t==null||!!(e.type&t))}const Do="[^/]+?",lp={sensitive:!1,strict:!1,start:!0,end:!0},cp=/[.+*?^${}()[\]/\\]/g;function up(e,t){const s=Q({},lp,t),r=[];let n=s.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(s.sensitive?.25:0);if(f.type===0)h||(n+="/"),n+=f.value.replace(cp,"\\$&"),p+=40;else if(f.type===1){const{value:_,repeatable:b,optional:A,regexp:$}=f;i.push({name:_,repeatable:b,optional:A});const I=$||Do;if(I!==Do){p+=10;try{new RegExp(`(${I})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${_}" (${I}): `+C.message)}}let P=b?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;h||(P=A&&u.length<2?`(?:/${P})`:"/"+P),A&&(P+="?"),n+=P,p+=20,A&&(p+=-8),b&&(p+=-20),I===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",_=i[f-1];h[_.name]=p&&_.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:_,repeatable:b,optional:A}=p,$=_ in u?u[_]:"";if(Qe($)&&!b)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const I=Qe($)?$.join("/"):$;if(!I)if(A)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);c+=I}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function hp(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Vl(e,t){let s=0;const r=e.score,n=t.score;for(;s<r.length&&s<n.length;){const i=hp(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(Mo(r))return 1;if(Mo(n))return-1}return n.length-r.length}function Mo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const fp={type:0,value:""},dp=/[a-zA-Z0-9_]/;function pp(e){if(!e)return[[]];if(e==="/")return[[fp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${u}": ${p}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):f();break;case 4:f(),s=r;break;case 1:l==="("?s=2:dp.test(l)?f():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function gp(e,t,s){const r=up(pp(e.path),s),n=Q(r,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function mp(e,t){const s=[],r=new Map;t=Ho({strict:!1,end:!0,sensitive:!1},t);function n(h){return r.get(h)}function i(h,f,p){const _=!p,b=Fo(h);b.aliasOf=p&&p.record;const A=Ho(t,h),$=[b];if("alias"in h){const C=typeof h.alias=="string"?[h.alias]:h.alias;for(const U of C)$.push(Fo(Q({},b,{components:p?p.record.components:b.components,path:U,aliasOf:p?p.record:b})))}let I,P;for(const C of $){const{path:U}=C;if(f&&U[0]!=="/"){const pe=f.record.path,X=pe[pe.length-1]==="/"?"":"/";C.path=f.record.path+(U&&X+U)}if(I=gp(C,f,A),p?p.alias.push(I):(P=P||I,P!==I&&P.alias.push(I),_&&h.name&&!Bo(I)&&o(h.name)),zl(I)&&l(I),b.children){const pe=b.children;for(let X=0;X<pe.length;X++)i(pe[X],I,p&&p.children[X])}p=p||I}return P?()=>{o(P)}:Ws}function o(h){if(Hl(h)){const f=r.get(h);f&&(r.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const f=yp(h,s);s.splice(f,0,h),h.record.name&&!Bo(h)&&r.set(h.record.name,h)}function u(h,f){let p,_={},b,A;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw Ss(1,{location:h});A=p.record.name,_=Q(No(f.params,p.keys.filter(P=>!P.optional).concat(p.parent?p.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),h.params&&No(h.params,p.keys.map(P=>P.name))),b=p.stringify(_)}else if(h.path!=null)b=h.path,p=s.find(P=>P.re.test(b)),p&&(_=p.parse(b),A=p.record.name);else{if(p=f.name?r.get(f.name):s.find(P=>P.re.test(f.path)),!p)throw Ss(1,{location:h,currentLocation:f});A=p.record.name,_=Q({},f.params,h.params),b=p.stringify(_)}const $=[];let I=p;for(;I;)$.unshift(I.record),I=I.parent;return{name:A,path:b,params:_,matched:$,meta:vp($)}}e.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function No(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function Fo(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:_p(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function _p(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="object"?s[r]:s;return t}function Bo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function vp(e){return e.reduce((t,s)=>Q(t,s.meta),{})}function Ho(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}function yp(e,t){let s=0,r=t.length;for(;s!==r;){const i=s+r>>1;Vl(e,t[i])<0?r=i:s=i+1}const n=bp(e);return n&&(r=t.lastIndexOf(n,r-1)),r}function bp(e){let t=e;for(;t=t.parent;)if(zl(t)&&Vl(e,t)===0)return t}function zl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function wp(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(Ul," "),o=i.indexOf("="),a=tr(o<0?i:i.slice(0,o)),l=o<0?null:tr(i.slice(o+1));if(a in t){let u=t[a];Qe(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function qo(e){let t="";for(let s in e){const r=e[s];if(s=Bd(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(Qe(r)?r.map(i=>i&&qn(i)):[r&&qn(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function Ep(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=Qe(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return t}const Sp=Symbol(""),Vo=Symbol(""),en=Symbol(""),Ei=Symbol(""),zn=Symbol("");function Is(){let e=[];function t(r){return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Ct(e,t,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(Ss(4,{from:s,to:t})):f instanceof Error?l(f):ap(f)?l(Ss(2,{from:t,to:f})):(o&&r.enterCallbacks[n]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>e.call(r&&r.instances[n],t,s,u));let h=Promise.resolve(c);e.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function bn(e,t,s,r,n=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(jl(l)){const c=(l.__vccOpts||l)[t];c&&i.push(Ct(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Pd(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[t];return p&&Ct(p,s,r,o,a,n)()}))}}return i}function zo(e){const t=qe(en),s=qe(Ei),r=ue(()=>{const l=ms(e.to);return t.resolve(l)}),n=ue(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const f=h.findIndex(Es.bind(null,c));if(f>-1)return f;const p=Ko(l[u-2]);return u>1&&Ko(c)===p&&h[h.length-1].path!==p?h.findIndex(Es.bind(null,l[u-2])):f}),i=ue(()=>n.value>-1&&Tp(s.params,r.value.params)),o=ue(()=>n.value>-1&&n.value===s.matched.length-1&&Fl(s.params,r.value.params));function a(l={}){if(Cp(l)){const u=t[ms(e.replace)?"replace":"push"](ms(e.to)).catch(Ws);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:ue(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Ap(e){return e.length===1?e[0]:e}const kp=Vr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zo,setup(e,{slots:t}){const s=ot(zo(e)),{options:r}=qe(en),n=ue(()=>({[Wo(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Wo(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&Ap(t.default(s));return e.custom?i:ll("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),xp=kp;function Cp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Tp(e,t){for(const s in t){const r=t[s],n=e[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Qe(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function Ko(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Wo=(e,t,s)=>e??t??s,Op=Vr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=qe(zn),n=ue(()=>e.route||r.value),i=qe(Vo,0),o=ue(()=>{let u=ms(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=ue(()=>n.value.matched[o.value]);wr(Vo,ue(()=>o.value+1)),wr(Sp,a),wr(zn,n);const l=Ke();return $t(()=>[l.value,a.value,e.name],([u,c,h],[f,p,_])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Es(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(b=>b(u))},{flush:"post"}),()=>{const u=n.value,c=e.name,h=a.value,f=h&&h.components[c];if(!f)return Go(s.default,{Component:f,route:u});const p=h.props[c],_=p?p===!0?u.params:typeof p=="function"?p(u):p:null,A=ll(f,Q({},_,t,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return Go(s.default,{Component:A,route:u})||A}}});function Go(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Pp=Op;function Rp(e){const t=mp(e.routes,e),s=e.parseQuery||wp,r=e.stringifyQuery||qo,n=e.history,i=Is(),o=Is(),a=Is(),l=Cc(bt);let u=bt;ds&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=vn.bind(null,y=>""+y),h=vn.bind(null,qd),f=vn.bind(null,tr);function p(y,j){let O,L;return Hl(y)?(O=t.getRecordMatcher(y),L=j):L=y,t.addRoute(L,O)}function _(y){const j=t.getRecordMatcher(y);j&&t.removeRoute(j)}function b(){return t.getRoutes().map(y=>y.record)}function A(y){return!!t.getRecordMatcher(y)}function $(y,j){if(j=Q({},j||l.value),typeof y=="string"){const g=yn(s,y,j.path),m=t.resolve({path:g.path},j),w=n.createHref(g.fullPath);return Q(g,m,{params:f(m.params),hash:tr(g.hash),redirectedFrom:void 0,href:w})}let O;if(y.path!=null)O=Q({},y,{path:yn(s,y.path,j.path).path});else{const g=Q({},y.params);for(const m in g)g[m]==null&&delete g[m];O=Q({},y,{params:h(g)}),j.params=h(j.params)}const L=t.resolve(O,j),Z=y.hash||"";L.params=c(f(L.params));const ce=Kd(r,Q({},y,{hash:Fd(Z),path:L.path})),d=n.createHref(ce);return Q({fullPath:ce,hash:Z,query:r===qo?Ep(y.query):y.query||{}},L,{redirectedFrom:void 0,href:d})}function I(y){return typeof y=="string"?yn(s,y,l.value.path):Q({},y)}function P(y,j){if(u!==y)return Ss(8,{from:j,to:y})}function C(y){return X(y)}function U(y){return C(Q(I(y),{replace:!0}))}function pe(y){const j=y.matched[y.matched.length-1];if(j&&j.redirect){const{redirect:O}=j;let L=typeof O=="function"?O(y):O;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=I(L):{path:L},L.params={}),Q({query:y.query,hash:y.hash,params:L.path!=null?{}:y.params},L)}}function X(y,j){const O=u=$(y),L=l.value,Z=y.state,ce=y.force,d=y.replace===!0,g=pe(O);if(g)return X(Q(I(g),{state:typeof g=="object"?Q({},Z,g.state):Z,force:ce,replace:d}),j||O);const m=O;m.redirectedFrom=j;let w;return!ce&&Wd(r,L,O)&&(w=Ss(16,{to:m,from:L}),Ye(L,L,!0,!1)),(w?Promise.resolve(w):le(m,L)).catch(v=>ut(v)?ut(v,2)?v:yt(v):J(v,m,L)).then(v=>{if(v){if(ut(v,2))return X(Q({replace:d},I(v.to),{state:typeof v.to=="object"?Q({},Z,v.to.state):Z,force:ce}),j||m)}else v=Ie(m,L,!0,d,Z);return Ae(m,L,v),v})}function V(y,j){const O=P(y,j);return O?Promise.reject(O):Promise.resolve()}function z(y){const j=ts.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(y):y()}function le(y,j){let O;const[L,Z,ce]=$p(y,j);O=bn(L.reverse(),"beforeRouteLeave",y,j);for(const g of L)g.leaveGuards.forEach(m=>{O.push(Ct(m,y,j))});const d=V.bind(null,y,j);return O.push(d),Be(O).then(()=>{O=[];for(const g of i.list())O.push(Ct(g,y,j));return O.push(d),Be(O)}).then(()=>{O=bn(Z,"beforeRouteUpdate",y,j);for(const g of Z)g.updateGuards.forEach(m=>{O.push(Ct(m,y,j))});return O.push(d),Be(O)}).then(()=>{O=[];for(const g of ce)if(g.beforeEnter)if(Qe(g.beforeEnter))for(const m of g.beforeEnter)O.push(Ct(m,y,j));else O.push(Ct(g.beforeEnter,y,j));return O.push(d),Be(O)}).then(()=>(y.matched.forEach(g=>g.enterCallbacks={}),O=bn(ce,"beforeRouteEnter",y,j,z),O.push(d),Be(O))).then(()=>{O=[];for(const g of o.list())O.push(Ct(g,y,j));return O.push(d),Be(O)}).catch(g=>ut(g,8)?g:Promise.reject(g))}function Ae(y,j,O){a.list().forEach(L=>z(()=>L(y,j,O)))}function Ie(y,j,O,L,Z){const ce=P(y,j);if(ce)return ce;const d=j===bt,g=ds?history.state:{};O&&(L||d?n.replace(y.fullPath,Q({scroll:d&&g&&g.scroll},Z)):n.push(y.fullPath,Z)),l.value=y,Ye(y,j,O,d),yt()}let Te;function Mt(){Te||(Te=n.listen((y,j,O)=>{if(!cr.listening)return;const L=$(y),Z=pe(L);if(Z){X(Q(Z,{replace:!0,force:!0}),L).catch(Ws);return}u=L;const ce=l.value;ds&&tp(jo(ce.fullPath,O.delta),Zr()),le(L,ce).catch(d=>ut(d,12)?d:ut(d,2)?(X(Q(I(d.to),{force:!0}),L).then(g=>{ut(g,20)&&!O.delta&&O.type===sr.pop&&n.go(-1,!1)}).catch(Ws),Promise.reject()):(O.delta&&n.go(-O.delta,!1),J(d,L,ce))).then(d=>{d=d||Ie(L,ce,!1),d&&(O.delta&&!ut(d,8)?n.go(-O.delta,!1):O.type===sr.pop&&ut(d,20)&&n.go(-1,!1)),Ae(L,ce,d)}).catch(Ws)}))}let vt=Is(),ae=Is(),H;function J(y,j,O){yt(y);const L=ae.list();return L.length?L.forEach(Z=>Z(y,j,O)):console.error(y),Promise.reject(y)}function lt(){return H&&l.value!==bt?Promise.resolve():new Promise((y,j)=>{vt.add([y,j])})}function yt(y){return H||(H=!y,Mt(),vt.list().forEach(([j,O])=>y?O(y):j()),vt.reset()),y}function Ye(y,j,O,L){const{scrollBehavior:Z}=e;if(!ds||!Z)return Promise.resolve();const ce=!O&&sp(jo(y.fullPath,0))||(L||!O)&&history.state&&history.state.scroll||null;return Ot().then(()=>Z(y,j,ce)).then(d=>d&&ep(d)).catch(d=>J(d,y,j))}const Oe=y=>n.go(y);let es;const ts=new Set,cr={currentRoute:l,listening:!0,addRoute:p,removeRoute:_,clearRoutes:t.clearRoutes,hasRoute:A,getRoutes:b,resolve:$,options:e,push:C,replace:U,go:Oe,back:()=>Oe(-1),forward:()=>Oe(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ae.add,isReady:lt,install(y){const j=this;y.component("RouterLink",xp),y.component("RouterView",Pp),y.config.globalProperties.$router=j,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>ms(l)}),ds&&!es&&l.value===bt&&(es=!0,C(n.location).catch(Z=>{}));const O={};for(const Z in bt)Object.defineProperty(O,Z,{get:()=>l.value[Z],enumerable:!0});y.provide(en,j),y.provide(Ei,Ca(O)),y.provide(zn,l);const L=y.unmount;ts.add(y),y.unmount=function(){ts.delete(y),ts.size<1&&(u=bt,Te&&Te(),Te=null,l.value=bt,es=!1,H=!1),L()}}};function Be(y){return y.reduce((j,O)=>j.then(()=>z(O)),Promise.resolve())}return cr}function $p(e,t){const s=[],r=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>Es(u,a))?r.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(u=>Es(u,l))||n.push(l))}return[s,r,n]}function Ip(){return qe(en)}function Gg(e){return qe(Ei)}const jp=Yr("friend",()=>{const e=Ke([]);return{getFriends:async n=>{const{data:i,error:o}=await te.from("users").select("friends").eq("id",n).single();return o?(console.error("Error fetching friends:",o),[]):(i&&Array.isArray(i.friends)?e.value=i.friends:e.value=[],e.value)},addFriend:async(n,i)=>{try{const{data:o}=await te.from("users").select("username").eq("id",i).single(),l=[...Array.isArray(e.value)?e.value:[],{id:i,username:o.username}];await te.from("users").update({friends:l}).eq("id",n)}catch(o){console.error("Error adding friend:",o)}},removeFriend:async(n,i)=>{try{const o=e.value.filter(f=>f.id!==i),{error:a}=await te.from("users").update({friends:o}).eq("id",n);if(a)throw new Error(`Ошибка при удалении друга у текущего пользователя: ${a.message}`);const{data:l,error:u}=await te.from("users").select("friends").eq("id",i).single();if(u)throw new Error(`Ошибка при получении данных друга: ${u.message}`);const c=l.friends.filter(f=>f.id!==n),{error:h}=await te.from("users").update({friends:c}).eq("id",i);if(h)throw new Error(`Ошибка при удалении текущего пользователя у друга: ${h.message}`);console.log("Друг успешно удален у обоих пользователей.")}catch(o){console.error("Ошибка в функции removeFriend:",o.message)}},friends:e}}),ye=[];for(let e=0;e<256;++e)ye.push((e+256).toString(16).slice(1));function Lp(e,t=0){return(ye[e[t+0]]+ye[e[t+1]]+ye[e[t+2]]+ye[e[t+3]]+"-"+ye[e[t+4]]+ye[e[t+5]]+"-"+ye[e[t+6]]+ye[e[t+7]]+"-"+ye[e[t+8]]+ye[e[t+9]]+"-"+ye[e[t+10]]+ye[e[t+11]]+ye[e[t+12]]+ye[e[t+13]]+ye[e[t+14]]+ye[e[t+15]]).toLowerCase()}let wn;const Up=new Uint8Array(16);function Dp(){if(!wn){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");wn=crypto.getRandomValues.bind(crypto)}return wn(Up)}const Mp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Jo={randomUUID:Mp};function Qo(e,t,s){if(Jo.randomUUID&&!t&&!e)return Jo.randomUUID();e=e||{};const r=e.random||(e.rng||Dp)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Lp(r)}const Np=Yr("notice",()=>{const e=Ke([]);return{addNotice:async(i,o,a,l)=>{const{data:u}=await te.from("users").select("notices").eq("id",o).single(),c=u.notices.length>0?[...u.notices,{id:Qo(),sender_id:i,recipient_id:o,message:a,notice_type:l}]:[{id:Qo(),sender_id:i,recipient_id:o,message:a,notice_type:l}];await te.from("users").update({notices:c}).eq("id",o)},getNotices:async i=>{const{data:o,error:a}=await te.from("users").select("notices").eq("id",i).single();return e.value=(o==null?void 0:o.notices)||[],(o==null?void 0:o.notices)||[]},removeNotice:async(i,o)=>{const{data:a}=await te.from("users").select("notices").eq("id",i).single(),l=a.notices.filter(u=>u.id!==o);await te.from("users").update({notices:l}).eq("id",i)},removeSentNotice:async(i,o)=>{const{data:a}=await te.from("users").select("notices").eq("id",i).single(),l=a.notices.filter(u=>u.notice_type!=="sentFriend"&&u.sender_id!==o);await te.from("users").update({notices:l}).eq("id",i)},notices:e}}),Fp=Yr("Chat",()=>{const e=ue(()=>s.user),t=Ke([]),s=tn();return{fetchChats:async()=>{if(!e.value)return;const{data:n,error:i}=await te.from("chats").select("*").or(`user1_id.eq.${e.value.id},user2_id.eq.${e.value.id}`);if(i){console.error("Error fetching chats:",i);return}const o=n.flatMap(f=>[f.user1_id,f.user2_id]),a=[...new Set(o.filter(Boolean))],{data:l,error:u}=await te.from("users").select("id, username").in("id",a);if(u){console.error("Error fetching usernames:",u);return}const c=new Map;l.forEach(f=>{c.set(f.id,f.username)});const h=n.map(f=>({...f,user1_name:c.get(f.user1_id)||"Unknown User",user2_name:c.get(f.user2_id)||"Unknown User"}));t.value=h},chats:t}});/*! js-cookie v3.0.5 | MIT */function yr(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)e[r]=s[r]}return e}var Bp={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Kn(e,t){function s(n,i,o){if(!(typeof document>"u")){o=yr({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=n+"="+e.write(i,n)+a}}function r(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var i=document.cookie?document.cookie.split("; "):[],o={},a=0;a<i.length;a++){var l=i[a].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(o[c]=e.read(u,c),n===c)break}catch{}}return n?o[n]:o}}return Object.create({set:s,get:r,remove:function(n,i){s(n,"",yr({},i,{expires:-1}))},withAttributes:function(n){return Kn(this.converter,yr({},this.attributes,n))},withConverter:function(n){return Kn(yr({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Us=Kn(Bp,{path:"/"});const tn=Yr("user",()=>{const e=Ip(),t=jp(),s=Np(),r=Fp(),n=ot({currentUser:null,email:"",username:null,birthdate:null,avatar_url:null,usernamesCache:{},session:null,avatarsCache:{byUserId:{},byUsername:{}}}),i=ue(()=>n.currentUser),o=ue(()=>{var c;return((c=n.currentUser)==null?void 0:c.id)||null}),a=(c,h="")=>{throw console.error(`[User Store Error] ${h}:`,c),c},l=c=>{Us.set("userSession",JSON.stringify(c),{expires:30,secure:!0,sameSite:"strict"})},u={async fetchUser(){try{const c=Us.get("userSession");if(c){const b=JSON.parse(c),{data:A}=await te.from("users").select().eq("id",b.userId).single();if(A)return this.updateUserState(A),A}const{data:{user:h},error:f}=await te.auth.getUser();if(f)throw f;if(!h)return null;const{data:p,error:_}=await te.from("users").select().eq("email",h.email).single();if(_)throw _;return this.updateUserState(p),l({userId:p.id}),p}catch(c){return a(c,"fetchUser"),null}},updateUserState(c){n.currentUser=c,n.email=c.email,n.username=c.username,n.birthdate=c.birthdate,n.avatar_url=c.avatar_url,c!=null&&c.id&&(n.avatarsCache.byUserId[c.id]=c.avatar_url),c!=null&&c.username&&(n.avatarsCache.byUsername[c.username]=c.avatar_url)},async logout(){try{await te.auth.signOut(),n.currentUser=null,n.avatarsCache.byUserId={},n.avatarsCache.byUsername={},Us.remove("userSession"),e.push("/")}catch(c){a(c,"logout")}},async getUsers(c=""){try{if(!n.currentUser)throw new Error("User not authenticated");let h=te.from("users").select("id, username, avatar_url").neq("id",n.currentUser.id);c&&(h=h.ilike("username",`%${c}%`));const{data:f,error:p}=await h;if(p)throw p;return f.forEach(_=>{n.avatarsCache.byUserId[_.id]=_.avatar_url,n.avatarsCache.byUsername[_.username]=_.avatar_url}),f}catch(h){return a(h,"getUsers"),[]}},async getUserByUsername(c){try{const{data:h,error:f}=await te.from("users").select("*").eq("username",c).single();if(f)throw f;return h}catch(h){return a(h,"getUserByUsername"),null}},async getAvatar(c){const h="https://kawdmbqsvrrmvhymflnx.supabase.co/storage/v1/object/public/avatars/avatars/default-avatar-icon-of-social-media-user-vector.jpg";try{if(!c)return h;if(n.avatarsCache.byUserId[c])return n.avatarsCache.byUserId[c];const{data:f,error:p}=await te.from("users").select("avatar_url").eq("id",c).single(),_=p?h:f.avatar_url||h;return n.avatarsCache.byUserId[c]=_,f!=null&&f.username&&(n.avatarsCache.byUsername[f.username]=_),_}catch{return h}},async getAvatarByUsername(c){const h="https://kawdmbqsvrrmvhymflnx.supabase.co/storage/v1/object/public/avatars/avatars/default-avatar-icon-of-social-media-user-vector.jpg";try{if(!c)return h;if(n.avatarsCache.byUsername[c])return n.avatarsCache.byUsername[c];const{data:f,error:p}=await te.from("users").select("avatar_url, id").eq("username",c).single(),_=p?h:f.avatar_url||h;return n.avatarsCache.byUsername[c]=_,f!=null&&f.id&&(n.avatarsCache.byUserId[f.id]=_),_}catch{return h}},async getUsername(c){try{if(!c)return"Unknown User";if(n.usernamesCache[c])return n.usernamesCache[c];const{data:h,error:f}=await te.from("users").select("username").eq("id",c).single();return!f&&h.username?(n.usernamesCache[c]=h.username,h.username):"Unknown User"}catch{return"Unknown User"}},async updateProfile(c){try{if(!n.currentUser)throw new Error("User not authenticated");const{data:h,error:f}=await te.from("users").update(c).eq("id",n.currentUser.id).select().single();if(f)throw f;return c.avatar_url&&(n.avatarsCache.byUserId[n.currentUser.id]=c.avatar_url,n.avatarsCache.byUsername[n.currentUser.username]=c.avatar_url),this.updateUserState({...n.currentUser,...h}),h}catch(h){a(h,"updateProfile")}},async changeStatus(c){try{if(!n.currentUser)throw new Error("User not authenticated");const{error:h}=await te.from("users").update({status:c}).eq("id",n.currentUser.id);if(h)throw h}catch(h){a(h,"changeStatus")}}};return $t(()=>n.currentUser,c=>{c&&(s.getNotices(c.id),t.getFriends(c.id),r.fetchChats())},{immediate:!0}),te.auth.onAuthStateChange((c,h)=>{c==="SIGNED_OUT"&&(n.currentUser=null,Us.remove("userSession"))}),{email:ue(()=>n.email),username:ue(()=>n.username),birthdate:ue(()=>n.birthdate),avatar_url:ue(()=>n.avatar_url),user:ue(()=>n.currentUser),userId:o,isAuthenticated:i,...u}}),lr=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},Hp={},qp={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};function Vp(e,t){return Ne(),mt("svg",qp,t[0]||(t[0]=[$e("circle",{cx:"12",cy:"7",r:"4"},null,-1),$e("path",{d:"M4 21c0-4 4-7 8-7s8 3 8 7"},null,-1)]))}const zp=lr(Hp,[["render",Vp]]),Kp={},Wp={xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"32",height:"32",x:"0",y:"0",viewBox:"0 0 48 48",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve",class:""};function Gp(e,t){return Ne(),mt("svg",Wp,t[0]||(t[0]=[$e("g",null,[$e("path",{d:"M34.8 27.4c3.4 0 6.2-2.8 6.2-6.2s-2.8-6.3-6.3-6.3c-3.4 0-6.2 2.8-6.2 6.2 0 3.5 2.8 6.3 6.3 6.3-.1 0 0 0 0 0zm-3.3-6.3c0-1.8 1.5-3.2 3.3-3.2s3.2 1.5 3.2 3.3-1.5 3.2-3.2 3.2v1.5-1.5c-1.8 0-3.3-1.5-3.3-3.3zM18.5 21.7c4.6 0 8.3-3.7 8.4-8.3 0-4.6-3.7-8.4-8.4-8.4-4.6 0-8.3 3.7-8.4 8.3 0 2.2.9 4.3 2.4 5.9 1.6 1.6 3.7 2.5 6 2.5-.1 0 0 0 0 0zm-5.4-8.4c0-2.9 2.4-5.3 5.4-5.3s5.4 2.4 5.3 5.4c0 2.9-2.4 5.3-5.4 5.3v1.5-1.5c-1.4 0-2.8-.6-3.8-1.6s-1.5-2.4-1.5-3.8zM.5 41.2c0 .4.1.8.4 1.1s.7.5 1.1.5l32.7.2H46c.4 0 .8-.2 1.1-.5s.4-.7.4-1.1C47.1 35 41.5 30 34.7 30h-.1c-1.3 0-2.5.2-3.7.6-3.2-3-7.7-4.9-12.6-5C9 25.6 1.2 32.5.5 41.2zM34.7 33c4.6 0 8.5 3 9.5 7H36c-.4-2.5-1.4-4.8-2.8-6.8.5-.1 1-.2 1.5-.2zm-16.3-4.4c7.2 0 13.3 4.9 14.6 11.3l-29.3-.1c1.3-6.4 7.5-11.2 14.7-11.2z",fill:"#fff",opacity:"1","data-original":"#000000",class:""})],-1)]))}const Jp=lr(Kp,[["render",Gp]]),Qp={},Yp={xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"32",height:"32",x:"0",y:"0",viewBox:"0 0 404.009 404.009",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve",class:""};function Xp(e,t){return Ne(),mt("svg",Yp,t[0]||(t[0]=[Iu('<g><path d="M46.594 315.11c-13.5 0-26.689-3.445-38.642-10.157-6.15-3.167-8.532-11.091-4.858-17.052 12.207-19.506 16.615-43.35 11.026-65.774C8.327 198.88-.055 179.301.005 154.691.213 68.35 72.078-1.646 158.331.029c83.31 1.678 151.969 71.71 151.97 155.042.001 108.833-114.057 185.243-214.75 143.216-13.879 10.894-31.324 16.823-48.957 16.823zM30.19 288.538c18.968 5.891 40.301 1.185 54.928-12.956a11.998 11.998 0 0 1 13.517-2.199C184.842 314.6 286.301 249.996 286.3 155.071c0-70.834-57.624-129.621-128.452-131.047C84.856 22.574 24.181 81.69 24.005 154.749c-.057 23.375 9.063 42.056 14.047 64.199 5.251 23.335 2.485 48.011-7.862 69.59z" fill="#fff" opacity="1" data-original="#fff" class=""></path><path d="M357.414 404.009c-17.632 0-35.078-5.93-48.955-16.822-53.55 22.349-117.248 12.171-161.155-25.747-5.016-4.332-5.57-11.909-1.239-16.926 4.332-5.015 11.909-5.571 16.925-1.238 38.942 33.63 95.973 41.195 142.384 19.007a11.997 11.997 0 0 1 13.517 2.199c14.626 14.14 35.96 18.849 54.928 12.955-12.206-25.459-13.897-54.626-4.438-81.628.085-.243.178-.482.278-.72 6.908-16.285 10.389-33.593 10.346-51.441-.076-31.468-10.544-60.577-30.274-84.182-4.25-5.086-3.573-12.653 1.512-16.903 5.084-4.251 12.653-3.573 16.903 1.512 23.036 27.561 35.771 62.902 35.859 99.515.051 20.971-4.018 41.323-12.093 60.499-8.482 24.553-4.581 50.842 9.002 72.709 3.677 5.962 1.293 13.887-4.859 17.056-11.951 6.709-25.143 10.154-38.641 10.155z" fill="#fff" opacity="1" data-original="#fff" class=""></path><ellipse cx="155.152" cy="155.669" rx="18.988" ry="18.978" fill="#fff" opacity="1" data-original="#fff" class=""></ellipse><ellipse cx="85.196" cy="155.669" rx="18.988" ry="18.978" fill="#fff" opacity="1" data-original="#fff" class=""></ellipse><ellipse cx="225.109" cy="155.669" rx="18.988" ry="18.978" fill="#fff" opacity="1" data-original="#fff" class=""></ellipse></g>',1)]))}const Zp=lr(Qp,[["render",Xp]]),eg={},tg={xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"32",height:"32",x:"0",y:"0",viewBox:"0 0 512 512",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve",class:""};function sg(e,t){return Ne(),mt("svg",tg,t[0]||(t[0]=[$e("g",null,[$e("path",{d:"M363.335 488a24 24 0 0 1-24 24H113.082a80.09 80.09 0 0 1-80-80V80a80.09 80.09 0 0 1 80-80h226.253a24 24 0 0 1 0 48H113.082a32.035 32.035 0 0 0-32 32v352a32.034 32.034 0 0 0 32 32h226.253a24 24 0 0 1 24 24zm108.553-248.97L357.837 124.978a24 24 0 1 0-33.937 33.941L396.977 232H208.041a24 24 0 1 0 0 48h188.935l-73.08 73.08a24 24 0 1 0 33.941 33.941l114.051-114.05a24 24 0 0 0 0-33.941z",fill:"#fff",opacity:"1","data-original":"#fff",class:""})],-1)]))}const rg=lr(eg,[["render",sg]]),ng={},ig={width:"32px",height:"32px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function og(e,t){return Ne(),mt("svg",ig,t[0]||(t[0]=[$e("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),$e("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),$e("g",{id:"SVGRepo_iconCarrier"},[$e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33497 4.72727V5.25342C6.64516 6.35644 4.76592 9.97935 4.83412 13.1192L4.83409 14.8631C3.45713 16.6333 3.53815 19.2727 6.9735 19.2727H9.33497C9.33497 19.996 9.61684 20.6897 10.1186 21.2012C10.6203 21.7127 11.3008 22 12.0104 22C12.72 22 13.4005 21.7127 13.9022 21.2012C14.404 20.6897 14.6858 19.996 14.6858 19.2727H17.0538C20.4826 19.2727 20.5323 16.6278 19.1555 14.8576L19.1938 13.1216C19.2631 9.97811 17.3803 6.35194 14.6858 5.25049V4.72727C14.6858 4.00396 14.404 3.31026 13.9022 2.7988C13.4005 2.28734 12.72 2 12.0104 2C11.3008 2 10.6203 2.28734 10.1186 2.7988C9.61684 3.31026 9.33497 4.00395 9.33497 4.72727ZM12.9022 4.72727C12.9022 4.74573 12.9017 4.76414 12.9006 4.78246C12.6101 4.74603 12.3142 4.72727 12.014 4.72727C11.7113 4.72727 11.413 4.74634 11.1203 4.78335C11.1192 4.76474 11.1186 4.74603 11.1186 4.72727C11.1186 4.48617 11.2126 4.25494 11.3798 4.08445C11.547 3.91396 11.7739 3.81818 12.0104 3.81818C12.2469 3.81818 12.4738 3.91396 12.641 4.08445C12.8083 4.25494 12.9022 4.48617 12.9022 4.72727ZM11.1186 19.2727C11.1186 19.5138 11.2126 19.7451 11.3798 19.9156C11.547 20.086 11.7739 20.1818 12.0104 20.1818C12.2469 20.1818 12.4738 20.086 12.641 19.9156C12.8083 19.7451 12.9022 19.5138 12.9022 19.2727H11.1186ZM17.0538 17.4545C17.8157 17.4545 18.2267 16.5435 17.7309 15.9538C17.49 15.6673 17.3616 15.3028 17.3699 14.9286L17.4106 13.0808C17.4787 9.99416 15.0427 6.54545 12.014 6.54545C8.98598 6.54545 6.55028 9.99301 6.61731 13.0789L6.65748 14.9289C6.66561 15.303 6.53726 15.6674 6.29639 15.9538C5.80054 16.5435 6.21158 17.4545 6.9735 17.4545H17.0538Z",fill:"#ffffff"})],-1)]))}const ag=lr(ng,[["render",og]]),lg={class:"nav__links"},cg={__name:"BaseHeader",setup(e){const t=tn(),s=Ke(ue(()=>t.user)),r=Ke([]),n=async()=>{await t.logout()},i=()=>{r.value=s.value!==null?[{path:`/profile/${t.user.username}`,name:"Профиль",icon:Kt(zp)},{path:"/friends",name:"Друзья",icon:Kt(Jp)},{path:"/chats",name:"Чаты",icon:Kt(Zp)},{path:"/notices",name:"Уведомления",icon:Kt(ag)}]:[{path:"/login",name:"Вход"},{path:"/register",name:"Регистрация"}]};return ir(i),$t(s,()=>{i()}),(o,a)=>{const l=Na("router-link");return Ne(),mt("header",null,[$e("nav",null,[de(l,{to:"/",class:"nav__logo"},{default:Cn(()=>a[0]||(a[0]=[kr("TogetherTalk")])),_:1}),$e("div",lg,[(Ne(!0),mt(st,null,eu(r.value,u=>(Ne(),Sr(l,{key:u.name,to:u.path,class:"nav__link"},{default:Cn(()=>[(Ne(),Sr(Ri(u.icon))),kr(" "+la(u.name),1)]),_:2},1032,["to"]))),128)),s.value?(Ne(),mt("a",{key:0,onClick:n,class:"nav__link"},[(Ne(),Sr(Ri(rg))),a[1]||(a[1]=kr(" Выйти "))])):ju("",!0)])])])}}},ug={class:"container"},hg={__name:"App",setup(e){const t=tn(),s=Us.get("userSession");return ir(async()=>{s&&await t.fetchUser()}),(r,n)=>{const i=Na("router-view");return Ne(),mt("div",ug,[de(cg),de(i)])}}},fg=[{path:"/",name:"Home",component:()=>me(()=>import("./HomePage-DKOJOHLC.js"),__vite__mapDeps([0,1,2,3,4,5]))},{path:"/login",name:"Login",component:()=>me(()=>import("./LoginPage-CAH-IlpY.js"),__vite__mapDeps([6,7]))},{path:"/register",name:"Register",component:()=>me(()=>import("./RegisterPage-DOuGwJ7u.js"),__vite__mapDeps([8,7]))},{path:"/friends",name:"Friends",component:()=>me(()=>import("./FriendsPage-u7ac17B-.js"),__vite__mapDeps([9,10]))},{path:"/profile/:username",name:"Profile",component:()=>me(()=>import("./ProfilePage-CLN8SvXQ.js"),__vite__mapDeps([11,1,2,3,4,5,12]))},{path:"/notices",name:"Notices",component:()=>me(()=>import("./NoticesPage-DsJce7Yi.js"),__vite__mapDeps([13,14]))},{path:"/settings",name:"Settings",component:()=>me(()=>import("./SettingsPage-xbNaks9B.js"),__vite__mapDeps([15,4,7,16]))},{path:"/chats",component:()=>me(()=>import("./ChatsPage-BX_lO8q6.js"),__vite__mapDeps([17,18])),children:[{path:"",components:{sidebar:()=>me(()=>import("./ChatSlideBar-CJpIwaDd.js"),__vite__mapDeps([19,20])),default:()=>me(()=>import("./ChatDefault-C-yuB3Iz.js"),[])}},{path:":id",components:{sidebar:()=>me(()=>import("./ChatSlideBar-CJpIwaDd.js"),__vite__mapDeps([19,20])),default:()=>me(()=>import("./ChatsDetailsPage-DsUinj2p.js"),__vite__mapDeps([21,2,3,22]))},name:"ChatsDetails"}]}],Kl=Rp({history:op(),routes:fg});Kl.beforeEach((e,t,s)=>{const r=e.meta.title||"Мой мессенджер";document.title=r,s()});/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */function Wl(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Wn=Wl(function(e){const t=Object.prototype.toString,s=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;e.exports=(i,...o)=>{if(!n(i))throw new TypeError("expected the first argument to be an object");if(o.length===0||typeof Symbol!="function"||typeof r!="function")return i;for(let a of o){let l=r(a);for(let u of l)s.call(a,u)&&(i[u]=a[u])}return i};function n(i){return typeof i=="function"||t.call(i)==="[object Object]"||Array.isArray(i)}}),Yo=Object.freeze({__proto__:null,default:Wn,__moduleExports:Wn}),dg=Yo&&Wn||Yo,Xo=Wl(function(e){const t=Object.prototype.toString,s=o=>o!=="__proto__"&&o!=="constructor"&&o!=="prototype",r=e.exports=(o,...a)=>{let l=0;for(i(o)&&(o=a[l++]),o||(o={});l<a.length;l++)if(n(a[l])){for(const u of Object.keys(a[l]))s(u)&&(n(o[u])&&n(a[l][u])?r(o[u],a[l][u]):o[u]=a[l][u]);dg(o,a[l])}return o};function n(o){return typeof o=="function"||t.call(o)==="[object Object]"}function i(o){return typeof o=="object"?o===null:typeof o!="function"}});const jt=typeof window<"u"&&window!==null,Zo=pg();function pg(){return jt&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}const Ht={event:"event",observer:"observer"};function Ds(e,t){if(!e.length)return;const s=e.indexOf(t);if(s>-1)return e.splice(s,1)}function ea(e,t){if(e.tagName!=="IMG"||!e.getAttribute("data-srcset"))return"";let s=e.getAttribute("data-srcset").trim().split(",");const r=[],i=e.parentNode.offsetWidth*t;let o,a,l;s.forEach(h=>{h=h.trim(),o=h.lastIndexOf(" "),o===-1?(a=h,l=99999):(a=h.substr(0,o),l=parseInt(h.substr(o+1,h.length-o-2),10)),r.push([l,a])}),r.sort((h,f)=>{if(h[0]<f[0])return 1;if(h[0]>f[0])return-1;if(h[0]===f[0]){if(f[1].indexOf(".webp",f[1].length-5)!==-1)return 1;if(h[1].indexOf(".webp",h[1].length-5)!==-1)return-1}return 0});let u="",c;for(let h=0;h<r.length;h++){c=r[h],u=c[1];const f=r[h+1];if(f&&f[0]<i){u=c[1];break}else if(!f){u=c[1];break}}return u}const gg=(e=1)=>jt&&window.devicePixelRatio||e;function mg(){if(!jt)return!1;let e=!0;function t(s,r){const n={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},i=new Image;i.onload=function(){const o=i.width>0&&i.height>0;r(o)},i.onerror=function(){r(!1)},i.src="data:image/webp;base64,"+n[s]}return t("lossy",s=>{e=s}),t("lossless",s=>{e=s}),t("alpha",s=>{e=s}),t("animation",s=>{e=s}),e}function _g(e,t){let s=null,r=0;return function(){if(s)return;const n=Date.now()-r,i=this,o=arguments,a=function(){r=Date.now(),s=!1,e.apply(i,o)};n>=t?a():s=setTimeout(a,t)}}function vg(){if(!jt)return!1;let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",Si,t)}catch{}return e}const yg=vg(),bg={on(e,t,s,r=!1){yg?e.addEventListener(t,s,{capture:r,passive:!0}):e.addEventListener(t,s,r)},off(e,t,s,r=!1){e.removeEventListener(t,s,r)}},Gn=(e,t,s)=>{let r=new Image;if(!e||!e.src){const n=new Error("image src is required");return s(n)}e.cors&&(r.crossOrigin=e.cors),r.src=e.src,r.onload=function(){t({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src}),r=null},r.onerror=function(n){s(n)}},En=(e,t)=>typeof getComputedStyle<"u"?getComputedStyle(e,null).getPropertyValue(t):e.style[t],wg=e=>En(e,"overflow")+En(e,"overflowY")+En(e,"overflowX"),Eg=e=>{if(!jt)return;if(!(e instanceof Element))return window;let t=e;for(;t&&!(t===document.body||t===document.documentElement||!t.parentNode);){if(/(scroll|auto)/.test(wg(t)))return t;t=t.parentNode}return window};function Sg(e){return e!==null&&typeof e=="object"}function Si(){}class Ag{constructor(t){this.max=t||100,this._caches=[]}has(t){return this._caches.indexOf(t)>-1}add(t){this.has(t)||(this._caches.push(t),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class kg{constructor(t,s,r,n,i,o,a,l,u,c){this.el=t,this.src=s,this.error=r,this.loading=n,this.bindType=i,this.attempt=0,this.cors=l,this.naturalHeight=0,this.naturalWidth=0,this.options=a,this.rect={},this.$parent=o,this.elRenderer=u,this._imageCache=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(t){this.performanceData[t]=Date.now()}update(t){const s=this.src;this.src=t.src,this.loading=t.loading,this.error=t.error,this.filter(),s!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const t in this.options.filter)this.options.filter[t](this,this.options)}renderLoading(t){this.state.loading=!0,Gn({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,t()},()=>{t(),this.state.loading=!1,this.options.silent||console.warn(`VueLazyload log: load failed with loading image(${this.loading})`)})}load(t=Si){if(this.attempt>this.options.attempt-1&&this.state.error){this.options.silent||console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`),t();return}if(!(this.state.rendered&&this.state.loaded)){if(this._imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,t();this.renderLoading(()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),Gn({src:this.src,cors:this.cors},s=>{this.naturalHeight=s.naturalHeight,this.naturalWidth=s.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),t()},s=>{!this.options.silent&&console.error(s),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(t,s){this.elRenderer(this,t,s)}performance(){let t="loading",s=0;return this.state.loaded&&(t="loaded",s=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:s}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const ta="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",xg=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],Cg={rootMargin:"0px",threshold:0};class Tg{constructor({preLoad:t,error:s,throttleWait:r,preLoadTop:n,dispatchEvent:i,loading:o,attempt:a,silent:l=!0,scale:u,listenEvents:c,filter:h,adapter:f,observer:p,observerOptions:_}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=Ht.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:l,dispatchEvent:!!i,throttleWait:r||200,preLoad:t||1.3,preLoadTop:n||0,error:s||ta,loading:o||ta,attempt:a||3,scale:u||gg(u),listenEvents:c||xg,supportWebp:mg(),filter:h||{},adapter:f||{},observer:!!p,observerOptions:_||Cg},this._initEvent(),this._imageCache=new Ag(200),this.lazyLoadHandler=_g(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?Ht.observer:Ht.event)}performance(){const t=[];return this.ListenerQueue.map(s=>t.push(s.performance())),t}addLazyBox(t){this.ListenerQueue.push(t),jt&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}add(t,s,r){if(this.ListenerQueue.some(l=>l.el===t))return this.update(t,s),Ot(this.lazyLoadHandler);let{src:n,loading:i,error:o,cors:a}=this._valueFormatter(s.value);Ot(()=>{n=ea(t,this.options.scale)||n,this._observer&&this._observer.observe(t);const l=Object.keys(s.modifiers)[0];let u;l&&(u=s.instance.$refs[l],u=u?u.el||u:document.getElementById(l)),u||(u=Eg(t));const c=new kg(t,n,o,i,s.arg,u,this.options,a,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(c),jt&&(this._addListenerTarget(window),this._addListenerTarget(u)),Ot(this.lazyLoadHandler)})}update(t,s,r){let{src:n,loading:i,error:o}=this._valueFormatter(s.value);n=ea(t,this.options.scale)||n;const a=this.ListenerQueue.find(l=>l.el===t);a?a.update({src:n,loading:i,error:o}):(t.getAttribute("lazy")!=="loaded"||t.dataset.src!==n)&&this.add(t,s,r),this._observer&&(this._observer.unobserve(t),this._observer.observe(t)),Ot(this.lazyLoadHandler)}remove(t){if(!t)return;this._observer&&this._observer.unobserve(t);const s=this.ListenerQueue.find(r=>r.el===t);s&&(this._removeListenerTarget(s.$parent),this._removeListenerTarget(window),Ds(this.ListenerQueue,s),s.$destroy&&s.$destroy())}removeComponent(t){t&&(Ds(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}setMode(t){!Zo&&t===Ht.observer&&(t=Ht.event),this.mode=t,t===Ht.event?(this._observer&&(this.ListenerQueue.forEach(s=>{this._observer.unobserve(s.el)}),this._observer=null),this.TargetQueue.forEach(s=>{this._initListen(s.el,!0)})):(this.TargetQueue.forEach(s=>{this._initListen(s.el,!1)}),this._initIntersectionObserver())}_addListenerTarget(t){if(!t)return;let s=this.TargetQueue.find(r=>r.el===t);return s?s.childrenCount++:(s={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===Ht.event&&this._initListen(s.el,!0),this.TargetQueue.push(s)),this.TargetIndex}_removeListenerTarget(t){this.TargetQueue.forEach((s,r)=>{s.el===t&&(s.childrenCount--,s.childrenCount||(this._initListen(s.el,!1),this.TargetQueue.splice(r,1),s=null))})}_initListen(t,s){this.options.listenEvents.forEach(r=>bg[s?"on":"off"](t,r,this.lazyLoadHandler))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(t,s)=>{this.Event.listeners[t]||(this.Event.listeners[t]=[]),this.Event.listeners[t].push(s)},this.$once=(t,s)=>{const r=this;function n(){r.$off(t,n),s.apply(r,arguments)}this.$on(t,n)},this.$off=(t,s)=>{if(!s){if(!this.Event.listeners[t])return;this.Event.listeners[t].length=0;return}Ds(this.Event.listeners[t],s)},this.$emit=(t,s,r)=>{this.Event.listeners[t]&&this.Event.listeners[t].forEach(n=>n(s,r))}}_lazyLoadHandler(){const t=[];this.ListenerQueue.forEach((s,r)=>{(!s.el||!s.el.parentNode||s.state.loaded)&&t.push(s),s.checkInView()&&(s.state.loaded||s.load())}),t.forEach(s=>{Ds(this.ListenerQueue,s),s.$destroy&&s.$destroy()})}_initIntersectionObserver(){Zo&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(t=>{this._observer.observe(t.el)}))}_observerHandler(t){t.forEach(s=>{s.isIntersecting&&this.ListenerQueue.forEach(r=>{if(r.el===s.target){if(r.state.loaded)return this._observer.unobserve(r.el);r.load()}})})}_elRenderer(t,s,r){if(!t.el)return;const{el:n,bindType:i}=t;let o;switch(s){case"loading":o=t.loading;break;case"error":o=t.error;break;default:o=t.src;break}if(i?n.style[i]='url("'+o+'")':n.getAttribute("src")!==o&&n.setAttribute("src",o),n.setAttribute("lazy",s),this.$emit(s,t,r),this.options.adapter[s]&&this.options.adapter[s](t,this.options),this.options.dispatchEvent){const a=new CustomEvent(s,{detail:t});n.dispatchEvent(a)}}_valueFormatter(t){return Sg(t)?(!t.src&&!this.options.silent&&console.error("Vue Lazyload warning: miss src with "+t),{src:t.src,loading:t.loading||this.options.loading,error:t.error||this.options.error,cors:this.options.cors}):{src:t,loading:this.options.loading,error:this.options.error,cors:this.options.cors}}}const Gl=(e,t)=>{let s=ot({});const r=()=>{s=e.value.getBoundingClientRect()};return{rect:s,checkInView:()=>(r(),jt&&s.top<window.innerHeight*t&&s.bottom>0&&s.left<window.innerWidth*t&&s.right>0)}};var Og=e=>Vr({props:{tag:{type:String,default:"div"}},emits:["show"],setup(t,{emit:s,slots:r}){const n=Ke(),i=ot({loaded:!1,error:!1,attempt:0}),o=Ke(!1),{rect:a,checkInView:l}=Gl(n,e.options.preLoad),u=()=>{o.value=!0,i.loaded=!0,s("show",o.value)},c=ue(()=>({el:n.value,rect:a,checkInView:l,load:u,state:i}));return ir(()=>{e.addLazyBox(c.value),e.lazyLoadHandler()}),Kr(()=>{e.removeComponent(c.value)}),()=>{var h;return de(t.tag,{ref:n},[o.value&&((h=r.default)===null||h===void 0?void 0:h.call(r))])}}});class Pg{constructor(t){this.lazy=t,t.lazyContainerMananger=this,this._queue=[]}bind(t,s,r){const n=new $g(t,s,r,this.lazy);this._queue.push(n)}update(t,s,r){const n=this._queue.find(i=>i.el===t);n&&n.update(t,s)}unbind(t,s,r){const n=this._queue.find(i=>i.el===t);n&&(n.clear(),Ds(this._queue,n))}}const Rg={selector:"img",error:"",loading:""};class $g{constructor(t,s,r,n){this.el=t,this.vnode=r,this.binding=s,this.options={},this.lazy=n,this._queue=[],this.update(t,s)}update(t,s){this.el=t,this.options=Xo({},Rg,s.value),this.getImgs().forEach(n=>{this.lazy.add(n,Xo({},this.binding,{value:{src:n.getAttribute("data-src")||n.dataset.src,error:n.getAttribute("data-error")||n.dataset.error||this.options.error,loading:n.getAttribute("data-loading")||n.dataset.loading||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(s=>this.lazy.remove(s)),this.vnode=null,this.binding=null,this.lazy=null}}var Ig=e=>Vr({setup(t,{slots:s}){const r=Ke(),n=ot({src:"",error:"",loading:"",attempt:e.options.attempt}),i=ot({loaded:!1,error:!1,attempt:0}),{rect:o,checkInView:a}=Gl(r,e.options.preLoad),l=Ke(""),u=(f=Si)=>{if(i.attempt>n.attempt-1&&i.error)return e.options.silent||console.log(`VueLazyload log: ${n.src} tried too more than ${n.attempt} times`),f();const p=n.src;Gn({src:p},({src:_})=>{l.value=_,i.loaded=!0},()=>{i.attempt++,l.value=n.error,i.error=!0})},c=ue(()=>({el:r.value,rect:o,checkInView:a,load:u,state:i}));ir(()=>{e.addLazyBox(c.value),e.lazyLoadHandler()}),Kr(()=>{e.removeComponent(c.value)});const h=()=>{const{src:f,loading:p,error:_}=e._valueFormatter(t.src);i.loaded=!1,n.src=f,n.error=_,n.loading=p,l.value=n.loading};return $t(()=>t.src,()=>{h(),e.addLazyBox(c.value),e.lazyLoadHandler()},{immediate:!0}),()=>{var f;return de(t.tag||"img",{src:l.value,ref:r},[(f=s.default)===null||f===void 0?void 0:f.call(s)])}}}),jg={install(e,t={}){const s=new Tg(t),r=new Pg(s);if(Number(e.version.split(".")[0])<3)return new Error("Vue version at least 3.0");e.config.globalProperties.$Lazyload=s,e.provide("Lazyload",s),t.lazyComponent&&e.component("lazy-component",Og(s)),t.lazyImage&&e.component("lazy-image",Ig(s)),e.directive("lazy",{beforeMount:s.add.bind(s),beforeUpdate:s.update.bind(s),updated:s.lazyLoadHandler.bind(s),unmounted:s.remove.bind(s)}),e.directive("lazy-container",{beforeMount:r.bind.bind(r),updated:r.update.bind(r),unmounted:r.unbind.bind(r)})}};const Lg=Ah();bh(hg).use(Lg).use(Kl).use(jg).mount("#app");const Ug=tn();window.addEventListener("beforeunload",async()=>{await Ug.changeStatus("offline")});export{ei as A,Bg as B,Fg as C,Mg as D,Fp as E,st as F,Mh as G,Hg as H,ot as I,Gc as J,Gg as K,Ot as L,Zn as M,lr as _,mt as a,$e as b,ue as c,de as d,Ne as e,Yr as f,Ip as g,Dg as h,ju as i,eu as j,kr as k,Ng as l,jp as m,Np as n,ir as o,Sr as p,Na as q,Ke as r,te as s,la as t,tn as u,to as v,$t as w,Cn as x,ms as y,Kr as z};
