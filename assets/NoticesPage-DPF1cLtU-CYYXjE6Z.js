import{e as y,Z as k,S as c,$ as d,d as g,U as F,g as C,B as s,o as n,h as b,i as f,l as $,b as _}from"./index-QomUHjFO.js";const h={class:"btns"},B=["onClick"],S={key:1},q=["onClick"],x=["onClick"],I={__name:"FriendRequests",setup(m){const e=F(),o=k(),u=C(),r=c(()=>e.notices),a=c(()=>o.user.id),p=async(i,l)=>{await e.removeNotice(a.value,l),await u.addFriend(a.value,i),await u.getFriends(a.value),await e.getNotices(a.value)},w=async(i,l)=>{await e.removeNotice(a.value,l),await u.addNotice(a.value,i,"Пользователь отменил ваш запрос в друзья","cancelFriend"),await e.getNotices(a.value)},N=async i=>{await e.removeNotice(a.value,i),await e.getNotices(a.value)};return(i,l)=>(s(),d("div",null,[l[0]||(l[0]=n("h3",null,"Запросы в друзья",-1)),n("ul",null,[(s(!0),d(b,null,f(r.value,t=>(s(),d("li",{key:t.id},[n("h4",null,$(t.message),1),n("div",h,[t.notice_type==="cancelFriend"?(s(),d("button",{key:0,onClick:v=>N(t.id)},"Ок",8,B)):_("",!0),t.notice_type==="addFriend"?(s(),d("div",S,[n("button",{onClick:v=>p(t.sender_id,t.id)},"Принять",8,q),n("button",{onClick:v=>w(t.sender_id,t.id)},"Отклонить",8,x)])):_("",!0)])]))),128))])]))}},R=y(I,[["__scopeId","data-v-8f88f501"]]),Z={__name:"NoticesPage",setup(m){const e=k(),o=c(()=>e.user_id);return(u,r)=>(s(),d("div",null,[g(R,{user_id:o.value},null,8,["user_id"])]))}};export{Z as default};
