import{_ as w,n as y,u as p,m as g,c as u,e as o,a as c,b as i,F as h,j as f,t as C,i as v,d as b}from"./index-CpXpfZ6u.js";const S={class:"btns"},$=["onClick"],x={key:1},B=["onClick"],V=["onClick"],q={__name:"FriendRequests",setup(m){const t=y(),d=p(),r=g(),l=u(()=>t.notices),e=u(()=>d.user.id),F=async(a,n)=>{await t.removeNotice(e.value,n),await r.addFriend(e.value,a),await r.addFriend(a,e.value),await r.getFriends(e.value),await t.getNotices(e.value)},N=async(a,n)=>{await t.removeNotice(e.value,n),await r.addNotice(e.value,a,"Пользователь отменил ваш запрос в друзья","cancelFriend"),await t.getNotices(e.value)},k=async a=>{await t.removeNotice(e.value,a),await t.getNotices(e.value)};return(a,n)=>(o(),c("div",null,[n[0]||(n[0]=i("h3",{class:"notices-title"},"Запросы в друзья",-1)),i("ul",null,[(o(!0),c(h,null,f(l.value,s=>(o(),c("li",{key:s.id,class:"noteces-content"},[i("h4",null,C(s.message),1),i("div",S,[s.notice_type==="cancelFriend"?(o(),c("button",{key:0,onClick:_=>k(s.id)},"Ок",8,$)):v("",!0),s.notice_type==="addFriend"?(o(),c("div",x,[i("button",{onClick:_=>F(s.sender_id,s.id)},"Принять",8,B),i("button",{onClick:_=>N(s.sender_id,s.id)},"Отклонить",8,V)])):v("",!0)])]))),128))])]))}},R=w(q,[["__scopeId","data-v-d32f46a2"]]),j={class:"notices"},E={__name:"NoticesPage",setup(m){const t=p(),d=u(()=>t.user_id);return(r,l)=>(o(),c("div",j,[b(R,{user_id:d.value},null,8,["user_id"])]))}};export{E as default};
