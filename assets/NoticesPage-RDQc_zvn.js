import{_ as w,n as y,u as p,m as g,c as u,e as i,a as o,b as c,F as h,j as C,t as f,i as v,d as b}from"./index-CauTUp0A.js";const S={class:"btns"},$=["onClick"],x={key:1},B=["onClick"],V=["onClick"],q={__name:"FriendRequests",setup(m){const t=y(),d=p(),r=g(),l=u(()=>t.notices),e=u(()=>d.user.id),F=async(a,n)=>{await t.removeNotice(e.value,n),await r.addFriend(e.value,a),await r.addFriend(a,e.value),await r.getFriends(e.value),await t.getNotices(e.value)},N=async(a,n)=>{await t.removeNotice(e.value,n),await r.addNotice(e.value,a,"Пользователь отменил ваш запрос в друзья","cancelFriend"),await t.getNotices(e.value)},k=async a=>{await t.removeNotice(e.value,a),await t.getNotices(e.value)};return(a,n)=>(i(),o("div",null,[n[0]||(n[0]=c("h3",{class:"notices-title"},"Запросы в друзья",-1)),c("ul",null,[(i(!0),o(h,null,C(l.value,s=>(i(),o("li",{key:s.id,class:"noteces-content"},[c("h4",null,f(s.message),1),c("div",S,[s.notice_type==="cancelFriend"?(i(),o("button",{key:0,onClick:_=>k(s.id)},"Ок",8,$)):v("",!0),s.notice_type==="addFriend"?(i(),o("div",x,[c("button",{onClick:_=>F(s.sender_id,s.id)},"Принять",8,B),c("button",{onClick:_=>N(s.sender_id,s.id)},"Отклонить",8,V)])):v("",!0)])]))),128))])]))}},R=w(q,[["__scopeId","data-v-d664dc9a"]]),j={class:"notices"},E={__name:"NoticesPage",setup(m){const t=p(),d=u(()=>t.user_id);return(r,l)=>(i(),o("div",j,[b(R,{user_id:d.value},null,8,["user_id"])]))}};export{E as default};
