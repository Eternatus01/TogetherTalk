import{f as g,g as m,u as f,s as v,r as u,a as h,h as p,v as d,b as n,t as w,e as U}from"./index-CauTUp0A.js";import{u as _}from"./errors-BKPfROAa.js";const y=g("userLogin",()=>{const c=_(),o=m(),e=f();async function s(a,l){const{error:r}=await v.auth.signInWithPassword({email:a,password:l});r?(console.error("Ошибка при входе после авторизации:",r),c.setErrors("Неверный логин или пароль")):(console.log("Пользователь успешно вошел в систему:",a),await e.fetchUser(),o.push("/"))}return{loginUser:s}}),x={class:"form"},S={__name:"LoginPage",setup(c){const o=y(),e=u(""),s=u(""),a=u(o.errorMessages),l=async()=>{try{await o.loginUser(e.value,s.value)}catch(r){console.error(r)}};return(r,t)=>(U(),h("div",x,[p(n("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=i=>e.value=i),placeholder:"Почта",maxlength:"25"},null,512),[[d,e.value]]),p(n("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=i=>s.value=i),placeholder:"Пароль",maxlength:"20"},null,512),[[d,s.value]]),n("button",{onClick:l,class:"form__btn"},"Войти"),n("pre",null,w(a.value),1)]))}};export{S as default};
