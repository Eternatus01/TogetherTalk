import{_ as g,p as w,a as p,n as y,e as u,o as i,c,b as o,F as f,j as h,t as C,i as v,g as b}from"./index-B_YhoeON.js";const S={class:"btns"},x=["onClick"],$={key:1},B=["onClick"],V=["onClick"],q={__name:"FriendRequests",setup(m){const e=w(),d=p(),r=y(),l=u(()=>e.notices),t=u(()=>d.user.id),N=async(a,n)=>{await e.removeNotice(t.value,n),await r.addFriend(t.value,a),await r.getFriends(t.value),await e.getNotices(t.value)},F=async(a,n)=>{await e.removeNotice(t.value,n),await r.addNotice(t.value,a,"Пользователь отменил ваш запрос в друзья","cancelFriend"),await e.getNotices(t.value)},k=async a=>{await e.removeNotice(t.value,a),await e.getNotices(t.value)};return(a,n)=>(i(),c("div",null,[n[0]||(n[0]=o("h3",null,"Запросы в друзья",-1)),o("ul",null,[(i(!0),c(f,null,h(l.value,s=>(i(),c("li",{key:s.id},[o("h4",null,C(s.message),1),o("div",S,[s.notice_type==="cancelFriend"?(i(),c("button",{key:0,onClick:_=>k(s.id)},"Ок",8,x)):v("",!0),s.notice_type==="addFriend"?(i(),c("div",$,[o("button",{onClick:_=>N(s.sender_id,s.id)},"Принять",8,B),o("button",{onClick:_=>F(s.sender_id,s.id)},"Отклонить",8,V)])):v("",!0)])]))),128))])]))}},R=g(q,[["__scopeId","data-v-8f88f501"]]),D={__name:"NoticesPage",setup(m){const e=p(),d=u(()=>e.user_id);return(r,l)=>(i(),c("div",null,[b(R,{user_id:d.value},null,8,["user_id"])]))}};export{D as default};
