const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginPage-D70BFTQp.js","assets/errors-ptkwsH4S.js","assets/RegisterPage-CQcvccQi.js","assets/PersonalProfilePage-DArx3E4g.js","assets/PersonalProfilePage-zNqbIaso.css","assets/FriendsPage-D-On8di-.js","assets/FriendsPage-BjGI8GiC.css","assets/ProfilePage-ItwmKgu1.js","assets/ProfilePage-DU7dPsQC.css","assets/NoticesPage-DPF1cLtU.js","assets/NoticesPage-BargIcbs.css","assets/ChatsPage-C6wyps7s.js","assets/ChatsPage-DUPsc5NR.css","assets/ChatSlideBar-CfChXzOU.js","assets/ChatSlideBar-Lcv8jytC.css","assets/ChatsDetailsPage-DH1WKgQr.js","assets/ChatsDetailsPage-DFXYQHu6.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Jn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const te={},ds=[],rt=()=>{},Gl=()=>!1,Dr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Gn=e=>e.startsWith("onUpdate:"),ve=Object.assign,Qn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Ql=Object.prototype.hasOwnProperty,Y=(e,t)=>Ql.call(e,t),M=Array.isArray,ps=e=>sr(e)==="[object Map]",Ss=e=>sr(e)==="[object Set]",xi=e=>sr(e)==="[object Date]",B=e=>typeof e=="function",he=e=>typeof e=="string",nt=e=>typeof e=="symbol",ie=e=>e!==null&&typeof e=="object",sa=e=>(ie(e)||B(e))&&B(e.then)&&B(e.catch),ra=Object.prototype.toString,sr=e=>ra.call(e),Yl=e=>sr(e).slice(8,-1),na=e=>sr(e)==="[object Object]",Yn=e=>he(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Us=Jn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ur=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Xl=/-(\w)/g,ze=Ur(e=>e.replace(Xl,(t,s)=>s?s.toUpperCase():"")),Zl=/\B([A-Z])/g,Lt=Ur(e=>e.replace(Zl,"-$1").toLowerCase()),Mr=Ur(e=>e.charAt(0).toUpperCase()+e.slice(1)),tn=Ur(e=>e?`on${Mr(e)}`:""),Pt=(e,t)=>!Object.is(e,t),vr=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},ia=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},kr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ti;const Nr=()=>Ti||(Ti=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Xn(e){if(M(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=he(r)?rc(r):Xn(r);if(n)for(const i in n)t[i]=n[i]}return t}else if(he(e)||ie(e))return e}const ec=/;(?![^(]*\))/g,tc=/:([^]+)/,sc=/\/\*[^]*?\*\//g;function rc(e){const t={};return e.replace(sc,"").split(ec).forEach(s=>{if(s){const r=s.split(tc);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Zn(e){let t="";if(he(e))t=e;else if(M(e))for(let s=0;s<e.length;s++){const r=Zn(e[s]);r&&(t+=r+" ")}else if(ie(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const nc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ic=Jn(nc);function oa(e){return!!e||e===""}function oc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=Jt(e[r],t[r]);return s}function Jt(e,t){if(e===t)return!0;let s=xi(e),r=xi(t);if(s||r)return s&&r?e.getTime()===t.getTime():!1;if(s=nt(e),r=nt(t),s||r)return e===t;if(s=M(e),r=M(t),s||r)return s&&r?oc(e,t):!1;if(s=ie(e),r=ie(t),s||r){if(!s||!r)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Jt(e[o],t[o]))return!1}}return String(e)===String(t)}function ei(e,t){return e.findIndex(s=>Jt(s,t))}const aa=e=>!!(e&&e.__v_isRef===!0),la=e=>he(e)?e:e==null?"":M(e)||ie(e)&&(e.toString===ra||!B(e.toString))?aa(e)?la(e.value):JSON.stringify(e,ca,2):String(e),ca=(e,t)=>aa(t)?ca(e,t.value):ps(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n],i)=>(s[sn(r,i)+" =>"]=n,s),{})}:Ss(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>sn(s))}:nt(t)?sn(t):ie(t)&&!M(t)&&!na(t)?String(t):t,sn=(e,t="")=>{var s;return nt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Te;class ua{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Te,!t&&Te&&(this.index=(Te.scopes||(Te.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Te;try{return Te=this,t()}finally{Te=s}}}on(){Te=this}off(){Te=this.parent}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function ha(e){return new ua(e)}function fa(){return Te}function ac(e,t=!1){Te&&Te.cleanups.push(e)}let ne;const rn=new WeakSet;class da{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Te&&Te.active&&Te.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,rn.has(this)&&(rn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||ga(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Oi(this),ma(this);const t=ne,s=Je;ne=this,Je=!0;try{return this.fn()}finally{_a(this),ne=t,Je=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ri(t);this.deps=this.depsTail=void 0,Oi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?rn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){En(this)&&this.run()}get dirty(){return En(this)}}let pa=0,Ms,Ns;function ga(e,t=!1){if(e.flags|=8,t){e.next=Ns,Ns=e;return}e.next=Ms,Ms=e}function ti(){pa++}function si(){if(--pa>0)return;if(Ns){let t=Ns;for(Ns=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ms;){let t=Ms;for(Ms=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function ma(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function _a(e){let t,s=e.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),ri(r),lc(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=s}function En(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(va(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function va(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Js))return;e.globalVersion=Js;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!En(e)){e.flags&=-3;return}const s=ne,r=Je;ne=e,Je=!0;try{ma(e);const n=e.fn(e._value);(t.version===0||Pt(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{ne=s,Je=r,_a(e),e.flags&=-3}}function ri(e,t=!1){const{dep:s,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)ri(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function lc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Je=!0;const ya=[];function Dt(){ya.push(Je),Je=!1}function Ut(){const e=ya.pop();Je=e===void 0?!0:e}function Oi(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ne;ne=void 0;try{t()}finally{ne=s}}}let Js=0;class cc{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ni{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ne||!Je||ne===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ne)s=this.activeLink=new cc(ne,this),ne.deps?(s.prevDep=ne.depsTail,ne.depsTail.nextDep=s,ne.depsTail=s):ne.deps=ne.depsTail=s,ba(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ne.depsTail,s.nextDep=void 0,ne.depsTail.nextDep=s,ne.depsTail=s,ne.deps===s&&(ne.deps=r)}return s}trigger(t){this.version++,Js++,this.notify(t)}notify(t){ti();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{si()}}}function ba(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)ba(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const xr=new WeakMap,Wt=Symbol(""),An=Symbol(""),Gs=Symbol("");function Ee(e,t,s){if(Je&&ne){let r=xr.get(e);r||xr.set(e,r=new Map);let n=r.get(s);n||(r.set(s,n=new ni),n.map=r,n.key=s),n.track()}}function ft(e,t,s,r,n,i){const o=xr.get(e);if(!o){Js++;return}const a=l=>{l&&l.trigger()};if(ti(),t==="clear")o.forEach(a);else{const l=M(e),c=l&&Yn(s);if(l&&s==="length"){const u=Number(r);o.forEach((h,f)=>{(f==="length"||f===Gs||!nt(f)&&f>=u)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(Gs)),t){case"add":l?c&&a(o.get("length")):(a(o.get(Wt)),ps(e)&&a(o.get(An)));break;case"delete":l||(a(o.get(Wt)),ps(e)&&a(o.get(An)));break;case"set":ps(e)&&a(o.get(Wt));break}}si()}function uc(e,t){const s=xr.get(e);return s&&s.get(t)}function ts(e){const t=J(e);return t===e?t:(Ee(t,"iterate",Gs),He(e)?t:t.map(Ae))}function Fr(e){return Ee(e=J(e),"iterate",Gs),e}const hc={__proto__:null,[Symbol.iterator](){return nn(this,Symbol.iterator,Ae)},concat(...e){return ts(this).concat(...e.map(t=>M(t)?ts(t):t))},entries(){return nn(this,"entries",e=>(e[1]=Ae(e[1]),e))},every(e,t){return lt(this,"every",e,t,void 0,arguments)},filter(e,t){return lt(this,"filter",e,t,s=>s.map(Ae),arguments)},find(e,t){return lt(this,"find",e,t,Ae,arguments)},findIndex(e,t){return lt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return lt(this,"findLast",e,t,Ae,arguments)},findLastIndex(e,t){return lt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return lt(this,"forEach",e,t,void 0,arguments)},includes(...e){return on(this,"includes",e)},indexOf(...e){return on(this,"indexOf",e)},join(e){return ts(this).join(e)},lastIndexOf(...e){return on(this,"lastIndexOf",e)},map(e,t){return lt(this,"map",e,t,void 0,arguments)},pop(){return Ts(this,"pop")},push(...e){return Ts(this,"push",e)},reduce(e,...t){return Pi(this,"reduce",e,t)},reduceRight(e,...t){return Pi(this,"reduceRight",e,t)},shift(){return Ts(this,"shift")},some(e,t){return lt(this,"some",e,t,void 0,arguments)},splice(...e){return Ts(this,"splice",e)},toReversed(){return ts(this).toReversed()},toSorted(e){return ts(this).toSorted(e)},toSpliced(...e){return ts(this).toSpliced(...e)},unshift(...e){return Ts(this,"unshift",e)},values(){return nn(this,"values",Ae)}};function nn(e,t,s){const r=Fr(e),n=r[t]();return r!==e&&!He(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const fc=Array.prototype;function lt(e,t,s,r,n,i){const o=Fr(e),a=o!==e&&!He(e),l=o[t];if(l!==fc[t]){const h=l.apply(e,i);return a?Ae(h):h}let c=s;o!==e&&(a?c=function(h,f){return s.call(this,Ae(h),f,e)}:s.length>2&&(c=function(h,f){return s.call(this,h,f,e)}));const u=l.call(o,c,r);return a&&n?n(u):u}function Pi(e,t,s,r){const n=Fr(e);let i=s;return n!==e&&(He(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,Ae(a),l,e)}),n[t](i,...r)}function on(e,t,s){const r=J(e);Ee(r,"iterate",Gs);const n=r[t](...s);return(n===-1||n===!1)&&ai(s[0])?(s[0]=J(s[0]),r[t](...s)):n}function Ts(e,t,s=[]){Dt(),ti();const r=J(e)[t].apply(e,s);return si(),Ut(),r}const dc=Jn("__proto__,__v_isRef,__isVue"),wa=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(nt));function pc(e){nt(e)||(e=String(e));const t=J(this);return Ee(t,"has",e),t.hasOwnProperty(e)}class Ea{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Sc:xa:i?ka:Sa).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=M(t);if(!n){let l;if(o&&(l=hc[s]))return l;if(s==="hasOwnProperty")return pc}const a=Reflect.get(t,s,ue(t)?t:r);return(nt(s)?wa.has(s):dc(s))||(n||Ee(t,"get",s),i)?a:ue(a)?o&&Yn(s)?a:a.value:ie(a)?n?Oa(a):gt(a):a}}class Aa extends Ea{constructor(t=!1){super(!1,t)}set(t,s,r,n){let i=t[s];if(!this._isShallow){const l=Gt(i);if(!He(r)&&!Gt(r)&&(i=J(i),r=J(r)),!M(t)&&ue(i)&&!ue(r))return l?!1:(i.value=r,!0)}const o=M(t)&&Yn(s)?Number(s)<t.length:Y(t,s),a=Reflect.set(t,s,r,ue(t)?t:n);return t===J(n)&&(o?Pt(r,i)&&ft(t,"set",s,r):ft(t,"add",s,r)),a}deleteProperty(t,s){const r=Y(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&r&&ft(t,"delete",s,void 0),n}has(t,s){const r=Reflect.has(t,s);return(!nt(s)||!wa.has(s))&&Ee(t,"has",s),r}ownKeys(t){return Ee(t,"iterate",M(t)?"length":Wt),Reflect.ownKeys(t)}}class gc extends Ea{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const mc=new Aa,_c=new gc,vc=new Aa(!0);const Sn=e=>e,lr=e=>Reflect.getPrototypeOf(e);function yc(e,t,s){return function(...r){const n=this.__v_raw,i=J(n),o=ps(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=n[e](...r),u=s?Sn:t?kn:Ae;return!t&&Ee(i,"iterate",l?An:Wt),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function cr(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function bc(e,t){const s={get(n){const i=this.__v_raw,o=J(i),a=J(n);e||(Pt(n,a)&&Ee(o,"get",n),Ee(o,"get",a));const{has:l}=lr(o),c=t?Sn:e?kn:Ae;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&Ee(J(n),"iterate",Wt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=J(i),a=J(n);return e||(Pt(n,a)&&Ee(o,"has",n),Ee(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=J(a),c=t?Sn:e?kn:Ae;return!e&&Ee(l,"iterate",Wt),a.forEach((u,h)=>n.call(i,c(u),c(h),o))}};return ve(s,e?{add:cr("add"),set:cr("set"),delete:cr("delete"),clear:cr("clear")}:{add(n){!t&&!He(n)&&!Gt(n)&&(n=J(n));const i=J(this);return lr(i).has.call(i,n)||(i.add(n),ft(i,"add",n,n)),this},set(n,i){!t&&!He(i)&&!Gt(i)&&(i=J(i));const o=J(this),{has:a,get:l}=lr(o);let c=a.call(o,n);c||(n=J(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?Pt(i,u)&&ft(o,"set",n,i):ft(o,"add",n,i),this},delete(n){const i=J(this),{has:o,get:a}=lr(i);let l=o.call(i,n);l||(n=J(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&ft(i,"delete",n,void 0),c},clear(){const n=J(this),i=n.size!==0,o=n.clear();return i&&ft(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=yc(n,e,t)}),s}function ii(e,t){const s=bc(e,t);return(r,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(Y(s,n)&&n in r?s:r,n,i)}const wc={get:ii(!1,!1)},Ec={get:ii(!1,!0)},Ac={get:ii(!0,!1)};const Sa=new WeakMap,ka=new WeakMap,xa=new WeakMap,Sc=new WeakMap;function kc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function xc(e){return e.__v_skip||!Object.isExtensible(e)?0:kc(Yl(e))}function gt(e){return Gt(e)?e:oi(e,!1,mc,wc,Sa)}function Ta(e){return oi(e,!1,vc,Ec,ka)}function Oa(e){return oi(e,!0,_c,Ac,xa)}function oi(e,t,s,r,n){if(!ie(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=xc(e);if(o===0)return e;const a=new Proxy(e,o===2?r:s);return n.set(e,a),a}function Rt(e){return Gt(e)?Rt(e.__v_raw):!!(e&&e.__v_isReactive)}function Gt(e){return!!(e&&e.__v_isReadonly)}function He(e){return!!(e&&e.__v_isShallow)}function ai(e){return e?!!e.__v_raw:!1}function J(e){const t=e&&e.__v_raw;return t?J(t):e}function gs(e){return!Y(e,"__v_skip")&&Object.isExtensible(e)&&ia(e,"__v_skip",!0),e}const Ae=e=>ie(e)?gt(e):e,kn=e=>ie(e)?Oa(e):e;function ue(e){return e?e.__v_isRef===!0:!1}function fe(e){return Pa(e,!1)}function Tc(e){return Pa(e,!0)}function Pa(e,t){return ue(e)?e:new Oc(e,t)}class Oc{constructor(t,s){this.dep=new ni,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:J(t),this._value=s?t:Ae(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||He(t)||Gt(t);t=r?t:J(t),Pt(t,s)&&(this._rawValue=t,this._value=r?t:Ae(t),this.dep.trigger())}}function ms(e){return ue(e)?e.value:e}const Pc={get:(e,t,s)=>t==="__v_raw"?e:ms(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return ue(n)&&!ue(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function Ra(e){return Rt(e)?e:new Proxy(e,Pc)}function Rc(e){const t=M(e)?new Array(e.length):{};for(const s in e)t[s]=$c(e,s);return t}class Cc{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return uc(J(this._object),this._key)}}function $c(e,t,s){const r=e[t];return ue(r)?r:new Cc(e,t,s)}class jc{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new ni(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Js-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ne!==this)return ga(this,!0),!0}get value(){const t=this.dep.track();return va(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Ic(e,t,s=!1){let r,n;return B(e)?r=e:(r=e.get,n=e.set),new jc(r,n,s)}const ur={},Tr=new WeakMap;let qt;function Lc(e,t=!1,s=qt){if(s){let r=Tr.get(s);r||Tr.set(s,r=[]),r.push(e)}}function Dc(e,t,s=te){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,c=x=>n?x:He(x)||n===!1||n===0?dt(x,1):dt(x);let u,h,f,g,_=!1,b=!1;if(ue(e)?(h=()=>e.value,_=He(e)):Rt(e)?(h=()=>c(e),_=!0):M(e)?(b=!0,_=e.some(x=>Rt(x)||He(x)),h=()=>e.map(x=>{if(ue(x))return x.value;if(Rt(x))return c(x);if(B(x))return l?l(x,2):x()})):B(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){Dt();try{f()}finally{Ut()}}const x=qt;qt=u;try{return l?l(e,3,[g]):e(g)}finally{qt=x}}:h=rt,t&&n){const x=h,L=n===!0?1/0:n;h=()=>dt(x(),L)}const T=fa(),$=()=>{u.stop(),T&&T.active&&Qn(T.effects,u)};if(i&&t){const x=t;t=(...L)=>{x(...L),$()}}let A=b?new Array(e.length).fill(ur):ur;const E=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const L=u.run();if(n||_||(b?L.some((pe,X)=>Pt(pe,A[X])):Pt(L,A))){f&&f();const pe=qt;qt=u;try{const X=[L,A===ur?void 0:b&&A[0]===ur?[]:A,g];l?l(t,3,X):t(...X),A=L}finally{qt=pe}}}else u.run()};return a&&a(E),u=new da(h),u.scheduler=o?()=>o(E,!1):E,g=x=>Lc(x,!1,u),f=u.onStop=()=>{const x=Tr.get(u);if(x){if(l)l(x,4);else for(const L of x)L();Tr.delete(u)}},t?r?E(!0):A=u.run():o?o(E.bind(null,!0),!0):u.run(),$.pause=u.pause.bind(u),$.resume=u.resume.bind(u),$.stop=$,$}function dt(e,t=1/0,s){if(t<=0||!ie(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ue(e))dt(e.value,t,s);else if(M(e))for(let r=0;r<e.length;r++)dt(e[r],t,s);else if(Ss(e)||ps(e))e.forEach(r=>{dt(r,t,s)});else if(na(e)){for(const r in e)dt(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&dt(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rr(e,t,s,r){try{return r?e(...r):e()}catch(n){Br(n,t,s)}}function it(e,t,s,r){if(B(e)){const n=rr(e,t,s,r);return n&&sa(n)&&n.catch(i=>{Br(i,t,s)}),n}if(M(e)){const n=[];for(let i=0;i<e.length;i++)n.push(it(e[i],t,s,r));return n}}function Br(e,t,s,r=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||te;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,c)===!1)return}a=a.parent}if(i){Dt(),rr(i,null,10,[e,l,c]),Ut();return}}Uc(e,s,n,r,o)}function Uc(e,t,s,r=!0,n=!1){if(n)throw e;console.error(e)}const Oe=[];let et=-1;const _s=[];let At=null,hs=0;const Ca=Promise.resolve();let Or=null;function Ot(e){const t=Or||Ca;return e?t.then(this?e.bind(this):e):t}function Mc(e){let t=et+1,s=Oe.length;for(;t<s;){const r=t+s>>>1,n=Oe[r],i=Qs(n);i<e||i===e&&n.flags&2?t=r+1:s=r}return t}function li(e){if(!(e.flags&1)){const t=Qs(e),s=Oe[Oe.length-1];!s||!(e.flags&2)&&t>=Qs(s)?Oe.push(e):Oe.splice(Mc(t),0,e),e.flags|=1,$a()}}function $a(){Or||(Or=Ca.then(Ia))}function Nc(e){M(e)?_s.push(...e):At&&e.id===-1?At.splice(hs+1,0,e):e.flags&1||(_s.push(e),e.flags|=1),$a()}function Ri(e,t,s=et+1){for(;s<Oe.length;s++){const r=Oe[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;Oe.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ja(e){if(_s.length){const t=[...new Set(_s)].sort((s,r)=>Qs(s)-Qs(r));if(_s.length=0,At){At.push(...t);return}for(At=t,hs=0;hs<At.length;hs++){const s=At[hs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}At=null,hs=0}}const Qs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ia(e){try{for(et=0;et<Oe.length;et++){const t=Oe[et];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;et<Oe.length;et++){const t=Oe[et];t&&(t.flags&=-2)}et=-1,Oe.length=0,ja(),Or=null,(Oe.length||_s.length)&&Ia()}}let $e=null,La=null;function Pr(e){const t=$e;return $e=e,La=e&&e.type.__scopeId||null,t}function xn(e,t=$e,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&Fi(-1);const i=Pr(t);let o;try{o=e(...n)}finally{Pr(i),r._d&&Fi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function jg(e,t){if($e===null)return e;const s=Kr($e),r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,o,a,l=te]=t[n];i&&(B(i)&&(i={mounted:i,updated:i}),i.deep&&dt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Nt(e,t,s,r){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Dt(),it(l,s,8,[e.el,a,e,t]),Ut())}}const Fc=Symbol("_vte"),Bc=e=>e.__isTeleport;function ci(e,t){e.shapeFlag&6&&e.component?(e.transition=t,ci(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Hr(e,t){return B(e)?ve({name:e.name},t,{setup:e}):e}function Da(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Rr(e,t,s,r,n=!1){if(M(e)){e.forEach((_,b)=>Rr(_,t&&(M(t)?t[b]:t),s,r,n));return}if(Fs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Rr(e,t,s,r.component.subTree);return}const i=r.shapeFlag&4?Kr(r.component):r.el,o=n?null:i,{i:a,r:l}=e,c=t&&t.r,u=a.refs===te?a.refs={}:a.refs,h=a.setupState,f=J(h),g=h===te?()=>!1:_=>Y(f,_);if(c!=null&&c!==l&&(he(c)?(u[c]=null,g(c)&&(h[c]=null)):ue(c)&&(c.value=null)),B(l))rr(l,a,12,[o,u]);else{const _=he(l),b=ue(l);if(_||b){const T=()=>{if(e.f){const $=_?g(l)?h[l]:u[l]:l.value;n?M($)&&Qn($,i):M($)?$.includes(i)||$.push(i):_?(u[l]=[i],g(l)&&(h[l]=u[l])):(l.value=[i],e.k&&(u[e.k]=l.value))}else _?(u[l]=o,g(l)&&(h[l]=o)):b&&(l.value=o,e.k&&(u[e.k]=o))};o?(T.id=-1,Ue(T,s)):T()}}}Nr().requestIdleCallback;Nr().cancelIdleCallback;const Fs=e=>!!e.type.__asyncLoader,Ua=e=>e.type.__isKeepAlive;function Hc(e,t){Ma(e,"a",t)}function qc(e,t){Ma(e,"da",t)}function Ma(e,t,s=be){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(qr(t,r,s),s){let n=s.parent;for(;n&&n.parent;)Ua(n.parent.vnode)&&Vc(r,t,s,n),n=n.parent}}function Vc(e,t,s,r){const n=qr(t,e,r,!0);Vr(()=>{Qn(r[t],n)},s)}function qr(e,t,s=be,r=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Dt();const a=ir(s),l=it(t,s,e,o);return a(),Ut(),l});return r?n.unshift(i):n.push(i),i}}const mt=e=>(t,s=be)=>{(!Xs||e==="sp")&&qr(e,(...r)=>t(...r),s)},zc=mt("bm"),nr=mt("m"),Wc=mt("bu"),Kc=mt("u"),Jc=mt("bum"),Vr=mt("um"),Gc=mt("sp"),Qc=mt("rtg"),Yc=mt("rtc");function Xc(e,t=be){qr("ec",e,t)}const ui="components",Zc="directives";function Na(e,t){return hi(ui,e,!0,t)||e}const Fa=Symbol.for("v-ndc");function Ci(e){return he(e)?hi(ui,e,!1)||e:e||Fa}function Ig(e){return hi(Zc,e)}function hi(e,t,s=!0,r=!1){const n=$e||be;if(n){const i=n.type;if(e===ui){const a=qu(i,!1);if(a&&(a===t||a===ze(t)||a===Mr(ze(t))))return i}const o=$i(n[e]||i[e],t)||$i(n.appContext[e],t);return!o&&r?i:o}}function $i(e,t){return e&&(e[t]||e[ze(t)]||e[Mr(ze(t))])}function eu(e,t,s,r){let n;const i=s,o=M(e);if(o||he(e)){const a=o&&Rt(e);let l=!1;a&&(l=!He(e),e=Fr(e)),n=new Array(e.length);for(let c=0,u=e.length;c<u;c++)n[c]=t(l?Ae(e[c]):e[c],c,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(ie(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=t(e[u],u,l,i)}}else n=[];return n}const Tn=e=>e?ol(e)?Kr(e):Tn(e.parent):null,Bs=ve(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Tn(e.parent),$root:e=>Tn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>fi(e),$forceUpdate:e=>e.f||(e.f=()=>{li(e.update)}),$nextTick:e=>e.n||(e.n=Ot.bind(e.proxy)),$watch:e=>Eu.bind(e)}),an=(e,t)=>e!==te&&!e.__isScriptSetup&&Y(e,t),tu={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const g=o[t];if(g!==void 0)switch(g){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(an(r,t))return o[t]=1,r[t];if(n!==te&&Y(n,t))return o[t]=2,n[t];if((c=e.propsOptions[0])&&Y(c,t))return o[t]=3,i[t];if(s!==te&&Y(s,t))return o[t]=4,s[t];On&&(o[t]=0)}}const u=Bs[t];let h,f;if(u)return t==="$attrs"&&Ee(e.attrs,"get",""),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==te&&Y(s,t))return o[t]=4,s[t];if(f=l.config.globalProperties,Y(f,t))return f[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:i}=e;return an(n,t)?(n[t]=s,!0):r!==te&&Y(r,t)?(r[t]=s,!0):Y(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||e!==te&&Y(e,o)||an(t,o)||(a=i[0])&&Y(a,o)||Y(r,o)||Y(Bs,o)||Y(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Y(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function ji(e){return M(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let On=!0;function su(e){const t=fi(e),s=e.proxy,r=e.ctx;On=!1,t.beforeCreate&&Ii(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:f,beforeUpdate:g,updated:_,activated:b,deactivated:T,beforeDestroy:$,beforeUnmount:A,destroyed:E,unmounted:x,render:L,renderTracked:pe,renderTriggered:X,errorCaptured:V,serverPrefetch:z,expose:ae,inheritAttrs:ke,components:je,directives:Pe,filters:Mt}=t;if(c&&ru(c,r,null),o)for(const H in o){const G=o[H];B(G)&&(r[H]=G.bind(s))}if(n){const H=n.call(s,s);ie(H)&&(e.data=gt(H))}if(On=!0,i)for(const H in i){const G=i[H],at=B(G)?G.bind(s,s):B(G.get)?G.get.bind(s,s):rt,vt=!B(G)&&B(G.set)?G.set.bind(s):rt,Qe=Se({get:at,set:vt});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>Qe.value,set:Re=>Qe.value=Re})}if(a)for(const H in a)Ba(a[H],r,s,H);if(l){const H=B(l)?l.call(s):l;Reflect.ownKeys(H).forEach(G=>{yr(G,H[G])})}u&&Ii(u,e,"c");function oe(H,G){M(G)?G.forEach(at=>H(at.bind(s))):G&&H(G.bind(s))}if(oe(zc,h),oe(nr,f),oe(Wc,g),oe(Kc,_),oe(Hc,b),oe(qc,T),oe(Xc,V),oe(Yc,pe),oe(Qc,X),oe(Jc,A),oe(Vr,x),oe(Gc,z),M(ae))if(ae.length){const H=e.exposed||(e.exposed={});ae.forEach(G=>{Object.defineProperty(H,G,{get:()=>s[G],set:at=>s[G]=at})})}else e.exposed||(e.exposed={});L&&e.render===rt&&(e.render=L),ke!=null&&(e.inheritAttrs=ke),je&&(e.components=je),Pe&&(e.directives=Pe),z&&Da(e)}function ru(e,t,s=rt){M(e)&&(e=Pn(e));for(const r in e){const n=e[r];let i;ie(n)?"default"in n?i=qe(n.from||r,n.default,!0):i=qe(n.from||r):i=qe(n),ue(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Ii(e,t,s){it(M(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ba(e,t,s,r){let n=r.includes(".")?tl(s,r):()=>s[r];if(he(e)){const i=t[e];B(i)&&Ct(n,i)}else if(B(e))Ct(n,e.bind(s));else if(ie(e))if(M(e))e.forEach(i=>Ba(i,t,s,r));else{const i=B(e.handler)?e.handler.bind(s):t[e.handler];B(i)&&Ct(n,i,e)}}function fi(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!s&&!r?l=t:(l={},n.length&&n.forEach(c=>Cr(l,c,o,!0)),Cr(l,t,o)),ie(t)&&i.set(t,l),l}function Cr(e,t,s,r=!1){const{mixins:n,extends:i}=t;i&&Cr(e,i,s,!0),n&&n.forEach(o=>Cr(e,o,s,!0));for(const o in t)if(!(r&&o==="expose")){const a=nu[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const nu={data:Li,props:Di,emits:Di,methods:Is,computed:Is,beforeCreate:xe,created:xe,beforeMount:xe,mounted:xe,beforeUpdate:xe,updated:xe,beforeDestroy:xe,beforeUnmount:xe,destroyed:xe,unmounted:xe,activated:xe,deactivated:xe,errorCaptured:xe,serverPrefetch:xe,components:Is,directives:Is,watch:ou,provide:Li,inject:iu};function Li(e,t){return t?e?function(){return ve(B(e)?e.call(this,this):e,B(t)?t.call(this,this):t)}:t:e}function iu(e,t){return Is(Pn(e),Pn(t))}function Pn(e){if(M(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function xe(e,t){return e?[...new Set([].concat(e,t))]:t}function Is(e,t){return e?ve(Object.create(null),e,t):t}function Di(e,t){return e?M(e)&&M(t)?[...new Set([...e,...t])]:ve(Object.create(null),ji(e),ji(t??{})):t}function ou(e,t){if(!e)return t;if(!t)return e;const s=ve(Object.create(null),e);for(const r in t)s[r]=xe(e[r],t[r]);return s}function Ha(){return{app:null,config:{isNativeTag:Gl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let au=0;function lu(e,t){return function(r,n=null){B(r)||(r=ve({},r)),n!=null&&!ie(n)&&(n=null);const i=Ha(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:au++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:zu,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&B(u.install)?(o.add(u),u.install(c,...h)):B(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,f){if(!l){const g=c._ceVNode||de(r,n);return g.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),h&&t?t(g,u):e(g,u,f),l=!0,c._container=u,u.__vue_app__=c,Kr(g.component)}},onUnmount(u){a.push(u)},unmount(){l&&(it(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=Kt;Kt=c;try{return u()}finally{Kt=h}}};return c}}let Kt=null;function yr(e,t){if(be){let s=be.provides;const r=be.parent&&be.parent.provides;r===s&&(s=be.provides=Object.create(r)),s[e]=t}}function qe(e,t,s=!1){const r=be||$e;if(r||Kt){const n=Kt?Kt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&B(t)?t.call(r&&r.proxy):t}}function cu(){return!!(be||$e||Kt)}const qa={},Va=()=>Object.create(qa),za=e=>Object.getPrototypeOf(e)===qa;function uu(e,t,s,r=!1){const n={},i=Va();e.propsDefaults=Object.create(null),Wa(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=r?n:Ta(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function hu(e,t,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=J(n),[l]=e.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let f=u[h];if(zr(e.emitsOptions,f))continue;const g=t[f];if(l)if(Y(i,f))g!==i[f]&&(i[f]=g,c=!0);else{const _=ze(f);n[_]=Rn(l,a,_,g,e,!1)}else g!==i[f]&&(i[f]=g,c=!0)}}}else{Wa(e,t,n,i)&&(c=!0);let u;for(const h in a)(!t||!Y(t,h)&&((u=Lt(h))===h||!Y(t,u)))&&(l?s&&(s[h]!==void 0||s[u]!==void 0)&&(n[h]=Rn(l,a,h,void 0,e,!0)):delete n[h]);if(i!==a)for(const h in i)(!t||!Y(t,h))&&(delete i[h],c=!0)}c&&ft(e.attrs,"set","")}function Wa(e,t,s,r){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Us(l))continue;const c=t[l];let u;n&&Y(n,u=ze(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:zr(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=J(s),c=a||te;for(let u=0;u<i.length;u++){const h=i[u];s[h]=Rn(n,l,h,c[h],e,!Y(c,h))}}return o}function Rn(e,t,s,r,n,i){const o=e[s];if(o!=null){const a=Y(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:c}=n;if(s in c)r=c[s];else{const u=ir(n);r=c[s]=l.call(null,t),u()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Lt(s))&&(r=!0))}return r}const fu=new WeakMap;function Ka(e,t,s=!1){const r=s?fu:t.propsCache,n=r.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!B(e)){const u=h=>{l=!0;const[f,g]=Ka(h,t,!0);ve(o,f),g&&a.push(...g)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!i&&!l)return ie(e)&&r.set(e,ds),ds;if(M(i))for(let u=0;u<i.length;u++){const h=ze(i[u]);Ui(h)&&(o[h]=te)}else if(i)for(const u in i){const h=ze(u);if(Ui(h)){const f=i[u],g=o[h]=M(f)||B(f)?{type:f}:ve({},f),_=g.type;let b=!1,T=!0;if(M(_))for(let $=0;$<_.length;++$){const A=_[$],E=B(A)&&A.name;if(E==="Boolean"){b=!0;break}else E==="String"&&(T=!1)}else b=B(_)&&_.name==="Boolean";g[0]=b,g[1]=T,(b||Y(g,"default"))&&a.push(h)}}const c=[o,a];return ie(e)&&r.set(e,c),c}function Ui(e){return e[0]!=="$"&&!Us(e)}const Ja=e=>e[0]==="_"||e==="$stable",di=e=>M(e)?e.map(st):[st(e)],du=(e,t,s)=>{if(t._n)return t;const r=xn((...n)=>di(t(...n)),s);return r._c=!1,r},Ga=(e,t,s)=>{const r=e._ctx;for(const n in e){if(Ja(n))continue;const i=e[n];if(B(i))t[n]=du(n,i,r);else if(i!=null){const o=di(i);t[n]=()=>o}}},Qa=(e,t)=>{const s=di(t);e.slots.default=()=>s},Ya=(e,t,s)=>{for(const r in t)(s||r!=="_")&&(e[r]=t[r])},pu=(e,t,s)=>{const r=e.slots=Va();if(e.vnode.shapeFlag&32){const n=t._;n?(Ya(r,t,s),s&&ia(r,"_",n,!0)):Ga(t,r)}else t&&Qa(e,t)},gu=(e,t,s)=>{const{vnode:r,slots:n}=e;let i=!0,o=te;if(r.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:Ya(n,t,s):(i=!t.$stable,Ga(t,n)),o=t}else t&&(Qa(e,t),o={default:1});if(i)for(const a in n)!Ja(a)&&o[a]==null&&delete n[a]},Ue=Pu;function mu(e){return _u(e)}function _u(e,t){const s=Nr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:f,setScopeId:g=rt,insertStaticContent:_}=e,b=(d,p,m,w=null,v=null,S=null,R=void 0,P=null,O=!!p.dynamicChildren)=>{if(d===p)return;d&&!Os(d,p)&&(w=y(d),Re(d,v,S,!0),d=null),p.patchFlag===-2&&(O=!1,p.dynamicChildren=null);const{type:k,ref:N,shapeFlag:j}=p;switch(k){case Wr:T(d,p,m,w);break;case Qt:$(d,p,m,w);break;case br:d==null&&A(p,m,w,R);break;case tt:je(d,p,m,w,v,S,R,P,O);break;default:j&1?L(d,p,m,w,v,S,R,P,O):j&6?Pe(d,p,m,w,v,S,R,P,O):(j&64||j&128)&&k.process(d,p,m,w,v,S,R,P,O,D)}N!=null&&v&&Rr(N,d&&d.ref,S,p||d,!p)},T=(d,p,m,w)=>{if(d==null)r(p.el=a(p.children),m,w);else{const v=p.el=d.el;p.children!==d.children&&c(v,p.children)}},$=(d,p,m,w)=>{d==null?r(p.el=l(p.children||""),m,w):p.el=d.el},A=(d,p,m,w)=>{[d.el,d.anchor]=_(d.children,p,m,w,d.el,d.anchor)},E=({el:d,anchor:p},m,w)=>{let v;for(;d&&d!==p;)v=f(d),r(d,m,w),d=v;r(p,m,w)},x=({el:d,anchor:p})=>{let m;for(;d&&d!==p;)m=f(d),n(d),d=m;n(p)},L=(d,p,m,w,v,S,R,P,O)=>{p.type==="svg"?R="svg":p.type==="math"&&(R="mathml"),d==null?pe(p,m,w,v,S,R,P,O):z(d,p,v,S,R,P,O)},pe=(d,p,m,w,v,S,R,P)=>{let O,k;const{props:N,shapeFlag:j,transition:U,dirs:F}=d;if(O=d.el=o(d.type,S,N&&N.is,N),j&8?u(O,d.children):j&16&&V(d.children,O,null,w,v,ln(d,S),R,P),F&&Nt(d,null,w,"created"),X(O,d,d.scopeId,R,w),N){for(const se in N)se!=="value"&&!Us(se)&&i(O,se,null,N[se],S,w);"value"in N&&i(O,"value",null,N.value,S),(k=N.onVnodeBeforeMount)&&Xe(k,w,d)}F&&Nt(d,null,w,"beforeMount");const K=vu(v,U);K&&U.beforeEnter(O),r(O,p,m),((k=N&&N.onVnodeMounted)||K||F)&&Ue(()=>{k&&Xe(k,w,d),K&&U.enter(O),F&&Nt(d,null,w,"mounted")},v)},X=(d,p,m,w,v)=>{if(m&&g(d,m),w)for(let S=0;S<w.length;S++)g(d,w[S]);if(v){let S=v.subTree;if(p===S||rl(S.type)&&(S.ssContent===p||S.ssFallback===p)){const R=v.vnode;X(d,R,R.scopeId,R.slotScopeIds,v.parent)}}},V=(d,p,m,w,v,S,R,P,O=0)=>{for(let k=O;k<d.length;k++){const N=d[k]=P?St(d[k]):st(d[k]);b(null,N,p,m,w,v,S,R,P)}},z=(d,p,m,w,v,S,R)=>{const P=p.el=d.el;let{patchFlag:O,dynamicChildren:k,dirs:N}=p;O|=d.patchFlag&16;const j=d.props||te,U=p.props||te;let F;if(m&&Ft(m,!1),(F=U.onVnodeBeforeUpdate)&&Xe(F,m,p,d),N&&Nt(p,d,m,"beforeUpdate"),m&&Ft(m,!0),(j.innerHTML&&U.innerHTML==null||j.textContent&&U.textContent==null)&&u(P,""),k?ae(d.dynamicChildren,k,P,m,w,ln(p,v),S):R||G(d,p,P,null,m,w,ln(p,v),S,!1),O>0){if(O&16)ke(P,j,U,m,v);else if(O&2&&j.class!==U.class&&i(P,"class",null,U.class,v),O&4&&i(P,"style",j.style,U.style,v),O&8){const K=p.dynamicProps;for(let se=0;se<K.length;se++){const ee=K[se],Ie=j[ee],we=U[ee];(we!==Ie||ee==="value")&&i(P,ee,Ie,we,v,m)}}O&1&&d.children!==p.children&&u(P,p.children)}else!R&&k==null&&ke(P,j,U,m,v);((F=U.onVnodeUpdated)||N)&&Ue(()=>{F&&Xe(F,m,p,d),N&&Nt(p,d,m,"updated")},w)},ae=(d,p,m,w,v,S,R)=>{for(let P=0;P<p.length;P++){const O=d[P],k=p[P],N=O.el&&(O.type===tt||!Os(O,k)||O.shapeFlag&70)?h(O.el):m;b(O,k,N,null,w,v,S,R,!0)}},ke=(d,p,m,w,v)=>{if(p!==m){if(p!==te)for(const S in p)!Us(S)&&!(S in m)&&i(d,S,p[S],null,v,w);for(const S in m){if(Us(S))continue;const R=m[S],P=p[S];R!==P&&S!=="value"&&i(d,S,P,R,v,w)}"value"in m&&i(d,"value",p.value,m.value,v)}},je=(d,p,m,w,v,S,R,P,O)=>{const k=p.el=d?d.el:a(""),N=p.anchor=d?d.anchor:a("");let{patchFlag:j,dynamicChildren:U,slotScopeIds:F}=p;F&&(P=P?P.concat(F):F),d==null?(r(k,m,w),r(N,m,w),V(p.children||[],m,N,v,S,R,P,O)):j>0&&j&64&&U&&d.dynamicChildren?(ae(d.dynamicChildren,U,m,v,S,R,P),(p.key!=null||v&&p===v.subTree)&&Xa(d,p,!0)):G(d,p,m,N,v,S,R,P,O)},Pe=(d,p,m,w,v,S,R,P,O)=>{p.slotScopeIds=P,d==null?p.shapeFlag&512?v.ctx.activate(p,m,w,R,O):Mt(p,m,w,v,S,R,O):_t(d,p,O)},Mt=(d,p,m,w,v,S,R)=>{const P=d.component=Mu(d,w,v);if(Ua(d)&&(P.ctx.renderer=D),Nu(P,!1,R),P.asyncDep){if(v&&v.registerDep(P,oe,R),!d.el){const O=P.subTree=de(Qt);$(null,O,p,m)}}else oe(P,d,p,m,v,S,R)},_t=(d,p,m)=>{const w=p.component=d.component;if(Tu(d,p,m))if(w.asyncDep&&!w.asyncResolved){H(w,p,m);return}else w.next=p,w.update();else p.el=d.el,w.vnode=p},oe=(d,p,m,w,v,S,R)=>{const P=()=>{if(d.isMounted){let{next:j,bu:U,u:F,parent:K,vnode:se}=d;{const Le=Za(d);if(Le){j&&(j.el=se.el,H(d,j,R)),Le.asyncDep.then(()=>{d.isUnmounted||P()});return}}let ee=j,Ie;Ft(d,!1),j?(j.el=se.el,H(d,j,R)):j=se,U&&vr(U),(Ie=j.props&&j.props.onVnodeBeforeUpdate)&&Xe(Ie,K,j,se),Ft(d,!0);const we=cn(d),We=d.subTree;d.subTree=we,b(We,we,h(We.el),y(We),d,v,S),j.el=we.el,ee===null&&Ou(d,we.el),F&&Ue(F,v),(Ie=j.props&&j.props.onVnodeUpdated)&&Ue(()=>Xe(Ie,K,j,se),v)}else{let j;const{el:U,props:F}=p,{bm:K,m:se,parent:ee,root:Ie,type:we}=d,We=Fs(p);if(Ft(d,!1),K&&vr(K),!We&&(j=F&&F.onVnodeBeforeMount)&&Xe(j,ee,p),Ft(d,!0),U&&le){const Le=()=>{d.subTree=cn(d),le(U,d.subTree,d,v,null)};We&&we.__asyncHydrate?we.__asyncHydrate(U,d,Le):Le()}else{Ie.ce&&Ie.ce._injectChildStyle(we);const Le=d.subTree=cn(d);b(null,Le,m,w,d,v,S),p.el=Le.el}if(se&&Ue(se,v),!We&&(j=F&&F.onVnodeMounted)){const Le=p;Ue(()=>Xe(j,ee,Le),v)}(p.shapeFlag&256||ee&&Fs(ee.vnode)&&ee.vnode.shapeFlag&256)&&d.a&&Ue(d.a,v),d.isMounted=!0,p=m=w=null}};d.scope.on();const O=d.effect=new da(P);d.scope.off();const k=d.update=O.run.bind(O),N=d.job=O.runIfDirty.bind(O);N.i=d,N.id=d.uid,O.scheduler=()=>li(N),Ft(d,!0),k()},H=(d,p,m)=>{p.component=d;const w=d.vnode.props;d.vnode=p,d.next=null,hu(d,p.props,w,m),gu(d,p.children,m),Dt(),Ri(d),Ut()},G=(d,p,m,w,v,S,R,P,O=!1)=>{const k=d&&d.children,N=d?d.shapeFlag:0,j=p.children,{patchFlag:U,shapeFlag:F}=p;if(U>0){if(U&128){vt(k,j,m,w,v,S,R,P,O);return}else if(U&256){at(k,j,m,w,v,S,R,P,O);return}}F&8?(N&16&&Fe(k,v,S),j!==k&&u(m,j)):N&16?F&16?vt(k,j,m,w,v,S,R,P,O):Fe(k,v,S,!0):(N&8&&u(m,""),F&16&&V(j,m,w,v,S,R,P,O))},at=(d,p,m,w,v,S,R,P,O)=>{d=d||ds,p=p||ds;const k=d.length,N=p.length,j=Math.min(k,N);let U;for(U=0;U<j;U++){const F=p[U]=O?St(p[U]):st(p[U]);b(d[U],F,m,null,v,S,R,P,O)}k>N?Fe(d,v,S,!0,!1,j):V(p,m,w,v,S,R,P,O,j)},vt=(d,p,m,w,v,S,R,P,O)=>{let k=0;const N=p.length;let j=d.length-1,U=N-1;for(;k<=j&&k<=U;){const F=d[k],K=p[k]=O?St(p[k]):st(p[k]);if(Os(F,K))b(F,K,m,null,v,S,R,P,O);else break;k++}for(;k<=j&&k<=U;){const F=d[j],K=p[U]=O?St(p[U]):st(p[U]);if(Os(F,K))b(F,K,m,null,v,S,R,P,O);else break;j--,U--}if(k>j){if(k<=U){const F=U+1,K=F<N?p[F].el:w;for(;k<=U;)b(null,p[k]=O?St(p[k]):st(p[k]),m,K,v,S,R,P,O),k++}}else if(k>U)for(;k<=j;)Re(d[k],v,S,!0),k++;else{const F=k,K=k,se=new Map;for(k=K;k<=U;k++){const De=p[k]=O?St(p[k]):st(p[k]);De.key!=null&&se.set(De.key,k)}let ee,Ie=0;const we=U-K+1;let We=!1,Le=0;const xs=new Array(we);for(k=0;k<we;k++)xs[k]=0;for(k=F;k<=j;k++){const De=d[k];if(Ie>=we){Re(De,v,S,!0);continue}let Ye;if(De.key!=null)Ye=se.get(De.key);else for(ee=K;ee<=U;ee++)if(xs[ee-K]===0&&Os(De,p[ee])){Ye=ee;break}Ye===void 0?Re(De,v,S,!0):(xs[Ye-K]=k+1,Ye>=Le?Le=Ye:We=!0,b(De,p[Ye],m,null,v,S,R,P,O),Ie++)}const Si=We?yu(xs):ds;for(ee=Si.length-1,k=we-1;k>=0;k--){const De=K+k,Ye=p[De],ki=De+1<N?p[De+1].el:w;xs[k]===0?b(null,Ye,m,ki,v,S,R,P,O):We&&(ee<0||k!==Si[ee]?Qe(Ye,m,ki,2):ee--)}}},Qe=(d,p,m,w,v=null)=>{const{el:S,type:R,transition:P,children:O,shapeFlag:k}=d;if(k&6){Qe(d.component.subTree,p,m,w);return}if(k&128){d.suspense.move(p,m,w);return}if(k&64){R.move(d,p,m,D);return}if(R===tt){r(S,p,m);for(let j=0;j<O.length;j++)Qe(O[j],p,m,w);r(d.anchor,p,m);return}if(R===br){E(d,p,m);return}if(w!==2&&k&1&&P)if(w===0)P.beforeEnter(S),r(S,p,m),Ue(()=>P.enter(S),v);else{const{leave:j,delayLeave:U,afterLeave:F}=P,K=()=>r(S,p,m),se=()=>{j(S,()=>{K(),F&&F()})};U?U(S,K,se):se()}else r(S,p,m)},Re=(d,p,m,w=!1,v=!1)=>{const{type:S,props:R,ref:P,children:O,dynamicChildren:k,shapeFlag:N,patchFlag:j,dirs:U,cacheIndex:F}=d;if(j===-2&&(v=!1),P!=null&&Rr(P,null,m,d,!0),F!=null&&(p.renderCache[F]=void 0),N&256){p.ctx.deactivate(d);return}const K=N&1&&U,se=!Fs(d);let ee;if(se&&(ee=R&&R.onVnodeBeforeUnmount)&&Xe(ee,p,d),N&6)ar(d.component,m,w);else{if(N&128){d.suspense.unmount(m,w);return}K&&Nt(d,null,p,"beforeUnmount"),N&64?d.type.remove(d,p,m,D,w):k&&!k.hasOnce&&(S!==tt||j>0&&j&64)?Fe(k,p,m,!1,!0):(S===tt&&j&384||!v&&N&16)&&Fe(O,p,m),w&&Zt(d)}(se&&(ee=R&&R.onVnodeUnmounted)||K)&&Ue(()=>{ee&&Xe(ee,p,d),K&&Nt(d,null,p,"unmounted")},m)},Zt=d=>{const{type:p,el:m,anchor:w,transition:v}=d;if(p===tt){es(m,w);return}if(p===br){x(d);return}const S=()=>{n(m),v&&!v.persisted&&v.afterLeave&&v.afterLeave()};if(d.shapeFlag&1&&v&&!v.persisted){const{leave:R,delayLeave:P}=v,O=()=>R(m,S);P?P(d.el,S,O):O()}else S()},es=(d,p)=>{let m;for(;d!==p;)m=f(d),n(d),d=m;n(p)},ar=(d,p,m)=>{const{bum:w,scope:v,job:S,subTree:R,um:P,m:O,a:k}=d;Mi(O),Mi(k),w&&vr(w),v.stop(),S&&(S.flags|=8,Re(R,d,p,m)),P&&Ue(P,p),Ue(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Fe=(d,p,m,w=!1,v=!1,S=0)=>{for(let R=S;R<d.length;R++)Re(d[R],p,m,w,v)},y=d=>{if(d.shapeFlag&6)return y(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const p=f(d.anchor||d.el),m=p&&p[Fc];return m?f(m):p};let I=!1;const C=(d,p,m)=>{d==null?p._vnode&&Re(p._vnode,null,null,!0):b(p._vnode||null,d,p,null,null,null,m),p._vnode=d,I||(I=!0,Ri(),ja(),I=!1)},D={p:b,um:Re,m:Qe,r:Zt,mt:Mt,mc:V,pc:G,pbc:ae,n:y,o:e};let Z,le;return{render:C,hydrate:Z,createApp:lu(C,Z)}}function ln({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Ft({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function vu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Xa(e,t,s=!1){const r=e.children,n=t.children;if(M(r)&&M(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=St(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Xa(o,a)),a.type===Wr&&(a.el=o.el)}}function yu(e){const t=e.slice(),s=[0];let r,n,i,o,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(n=s[s.length-1],e[n]<c){t[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<c?i=a+1:o=a;c<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function Za(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Za(t)}function Mi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const bu=Symbol.for("v-scx"),wu=()=>qe(bu);function Ct(e,t,s){return el(e,t,s)}function el(e,t,s=te){const{immediate:r,deep:n,flush:i,once:o}=s,a=ve({},s),l=t&&r||!t&&i!=="post";let c;if(Xs){if(i==="sync"){const g=wu();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=rt,g.resume=rt,g.pause=rt,g}}const u=be;a.call=(g,_,b)=>it(g,u,_,b);let h=!1;i==="post"?a.scheduler=g=>{Ue(g,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,_)=>{_?g():li(g)}),a.augmentJob=g=>{t&&(g.flags|=4),h&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const f=Dc(e,t,a);return Xs&&(c?c.push(f):l&&f()),f}function Eu(e,t,s){const r=this.proxy,n=he(e)?e.includes(".")?tl(r,e):()=>r[e]:e.bind(r,r);let i;B(t)?i=t:(i=t.handler,s=t);const o=ir(this),a=el(n,i.bind(r),s);return o(),a}function tl(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const Au=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ze(t)}Modifiers`]||e[`${Lt(t)}Modifiers`];function Su(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||te;let n=s;const i=t.startsWith("update:"),o=i&&Au(r,t.slice(7));o&&(o.trim&&(n=s.map(u=>he(u)?u.trim():u)),o.number&&(n=s.map(kr)));let a,l=r[a=tn(t)]||r[a=tn(ze(t))];!l&&i&&(l=r[a=tn(Lt(t))]),l&&it(l,e,6,n);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,it(c,e,6,n)}}function sl(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!B(e)){const l=c=>{const u=sl(c,t,!0);u&&(a=!0,ve(o,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(ie(e)&&r.set(e,null),null):(M(i)?i.forEach(l=>o[l]=null):ve(o,i),ie(e)&&r.set(e,o),o)}function zr(e,t){return!e||!Dr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Y(e,t[0].toLowerCase()+t.slice(1))||Y(e,Lt(t))||Y(e,t))}function cn(e){const{type:t,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:f,setupState:g,ctx:_,inheritAttrs:b}=e,T=Pr(e);let $,A;try{if(s.shapeFlag&4){const x=n||r,L=x;$=st(c.call(L,x,u,h,g,f,_)),A=a}else{const x=t;$=st(x.length>1?x(h,{attrs:a,slots:o,emit:l}):x(h,null)),A=t.props?a:ku(a)}}catch(x){Hs.length=0,Br(x,e,1),$=de(Qt)}let E=$;if(A&&b!==!1){const x=Object.keys(A),{shapeFlag:L}=E;x.length&&L&7&&(i&&x.some(Gn)&&(A=xu(A,i)),E=ys(E,A,!1,!0))}return s.dirs&&(E=ys(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(s.dirs):s.dirs),s.transition&&ci(E,s.transition),$=E,Pr(T),$}const ku=e=>{let t;for(const s in e)(s==="class"||s==="style"||Dr(s))&&((t||(t={}))[s]=e[s]);return t},xu=(e,t)=>{const s={};for(const r in e)(!Gn(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function Tu(e,t,s){const{props:r,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ni(r,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const f=u[h];if(o[f]!==r[f]&&!zr(c,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ni(r,o,c):!0:!!o;return!1}function Ni(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(t[i]!==e[i]&&!zr(s,i))return!0}return!1}function Ou({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const rl=e=>e.__isSuspense;function Pu(e,t){t&&t.pendingBranch?M(e)?t.effects.push(...e):t.effects.push(e):Nc(e)}const tt=Symbol.for("v-fgt"),Wr=Symbol.for("v-txt"),Qt=Symbol.for("v-cmt"),br=Symbol.for("v-stc"),Hs=[];let Ne=null;function Be(e=!1){Hs.push(Ne=e?null:[])}function Ru(){Hs.pop(),Ne=Hs[Hs.length-1]||null}let Ys=1;function Fi(e,t=!1){Ys+=e,e<0&&Ne&&t&&(Ne.hasOnce=!0)}function nl(e){return e.dynamicChildren=Ys>0?Ne||ds:null,Ru(),Ys>0&&Ne&&Ne.push(e),e}function $t(e,t,s,r,n,i){return nl(ot(e,t,s,r,n,i,!0))}function wr(e,t,s,r,n){return nl(de(e,t,s,r,n,!0))}function $r(e){return e?e.__v_isVNode===!0:!1}function Os(e,t){return e.type===t.type&&e.key===t.key}const il=({key:e})=>e??null,Er=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?he(e)||ue(e)||B(e)?{i:$e,r:e,k:t,f:!!s}:e:null);function ot(e,t=null,s=null,r=0,n=null,i=e===tt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&il(t),ref:t&&Er(t),scopeId:La,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:$e};return a?(pi(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=he(s)?8:16),Ys>0&&!o&&Ne&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ne.push(l),l}const de=Cu;function Cu(e,t=null,s=null,r=0,n=null,i=!1){if((!e||e===Fa)&&(e=Qt),$r(e)){const a=ys(e,t,!0);return s&&pi(a,s),Ys>0&&!i&&Ne&&(a.shapeFlag&6?Ne[Ne.indexOf(e)]=a:Ne.push(a)),a.patchFlag=-2,a}if(Vu(e)&&(e=e.__vccOpts),t){t=$u(t);let{class:a,style:l}=t;a&&!he(a)&&(t.class=Zn(a)),ie(l)&&(ai(l)&&!M(l)&&(l=ve({},l)),t.style=Xn(l))}const o=he(e)?1:rl(e)?128:Bc(e)?64:ie(e)?4:B(e)?2:0;return ot(e,t,s,r,n,o,i,!0)}function $u(e){return e?ai(e)||za(e)?ve({},e):e:null}function ys(e,t,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,c=t?Lu(n||{},t):n,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&il(c),ref:t&&t.ref?s&&i?M(i)?i.concat(Er(t)):[i,Er(t)]:Er(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==tt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ys(e.ssContent),ssFallback:e.ssFallback&&ys(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&ci(u,l.clone(u)),u}function Ar(e=" ",t=0){return de(Wr,null,e,t)}function ju(e,t){const s=de(br,null,e);return s.staticCount=t,s}function Iu(e="",t=!1){return t?(Be(),wr(Qt,null,e)):de(Qt,null,e)}function st(e){return e==null||typeof e=="boolean"?de(Qt):M(e)?de(tt,null,e.slice()):$r(e)?St(e):de(Wr,null,String(e))}function St(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ys(e)}function pi(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(M(t))s=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),pi(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!za(t)?t._ctx=$e:n===3&&$e&&($e.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else B(t)?(t={default:t,_ctx:$e},s=32):(t=String(t),r&64?(s=16,t=[Ar(t)]):s=8);e.children=t,e.shapeFlag|=s}function Lu(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=Zn([t.class,r.class]));else if(n==="style")t.style=Xn([t.style,r.style]);else if(Dr(n)){const i=t[n],o=r[n];o&&i!==o&&!(M(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=r[n])}return t}function Xe(e,t,s,r=null){it(e,t,7,[s,r])}const Du=Ha();let Uu=0;function Mu(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||Du,i={uid:Uu++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ua(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ka(r,n),emitsOptions:sl(r,n),emit:null,emitted:null,propsDefaults:te,inheritAttrs:r.inheritAttrs,ctx:te,data:te,props:te,attrs:te,slots:te,refs:te,setupState:te,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Su.bind(null,i),e.ce&&e.ce(i),i}let be=null,jr,Cn;{const e=Nr(),t=(s,r)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};jr=t("__VUE_INSTANCE_SETTERS__",s=>be=s),Cn=t("__VUE_SSR_SETTERS__",s=>Xs=s)}const ir=e=>{const t=be;return jr(e),e.scope.on(),()=>{e.scope.off(),jr(t)}},Bi=()=>{be&&be.scope.off(),jr(null)};function ol(e){return e.vnode.shapeFlag&4}let Xs=!1;function Nu(e,t=!1,s=!1){t&&Cn(t);const{props:r,children:n}=e.vnode,i=ol(e);uu(e,r,i,t),pu(e,n,s);const o=i?Fu(e,t):void 0;return t&&Cn(!1),o}function Fu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,tu);const{setup:r}=s;if(r){Dt();const n=e.setupContext=r.length>1?Hu(e):null,i=ir(e),o=rr(r,e,0,[e.props,n]),a=sa(o);if(Ut(),i(),(a||e.sp)&&!Fs(e)&&Da(e),a){if(o.then(Bi,Bi),t)return o.then(l=>{Hi(e,l,t)}).catch(l=>{Br(l,e,0)});e.asyncDep=o}else Hi(e,o,t)}else al(e,t)}function Hi(e,t,s){B(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ie(t)&&(e.setupState=Ra(t)),al(e,s)}let qi;function al(e,t,s){const r=e.type;if(!e.render){if(!t&&qi&&!r.render){const n=r.template||fi(e).template;if(n){const{isCustomElement:i,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=ve(ve({isCustomElement:i,delimiters:a},o),l);r.render=qi(n,c)}}e.render=r.render||rt}{const n=ir(e);Dt();try{su(e)}finally{Ut(),n()}}}const Bu={get(e,t){return Ee(e,"get",""),e[t]}};function Hu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Bu),slots:e.slots,emit:e.emit,expose:t}}function Kr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ra(gs(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Bs)return Bs[s](e)},has(t,s){return s in t||s in Bs}})):e.proxy}function qu(e,t=!0){return B(e)?e.displayName||e.name:e.name||t&&e.__name}function Vu(e){return B(e)&&"__vccOpts"in e}const Se=(e,t)=>Ic(e,t,Xs);function ll(e,t,s){const r=arguments.length;return r===2?ie(t)&&!M(t)?$r(t)?de(e,null,[t]):de(e,t):de(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&$r(s)&&(s=[s]),de(e,t,s))}const zu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let $n;const Vi=typeof window<"u"&&window.trustedTypes;if(Vi)try{$n=Vi.createPolicy("vue",{createHTML:e=>e})}catch{}const cl=$n?e=>$n.createHTML(e):e=>e,Wu="http://www.w3.org/2000/svg",Ku="http://www.w3.org/1998/Math/MathML",ut=typeof document<"u"?document:null,zi=ut&&ut.createElement("template"),Ju={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t==="svg"?ut.createElementNS(Wu,e):t==="mathml"?ut.createElementNS(Ku,e):s?ut.createElement(e,{is:s}):ut.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>ut.createTextNode(e),createComment:e=>ut.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ut.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,n,i){const o=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{zi.innerHTML=cl(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=zi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Gu=Symbol("_vtc");function Qu(e,t,s){const r=e[Gu];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ir=Symbol("_vod"),ul=Symbol("_vsh"),Lg={beforeMount(e,{value:t},{transition:s}){e[Ir]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ps(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:r}){!t!=!s&&(r?t?(r.beforeEnter(e),Ps(e,!0),r.enter(e)):r.leave(e,()=>{Ps(e,!1)}):Ps(e,t))},beforeUnmount(e,{value:t}){Ps(e,t)}};function Ps(e,t){e.style.display=t?e[Ir]:"none",e[ul]=!t}const Yu=Symbol(""),Xu=/(^|;)\s*display\s*:/;function Zu(e,t,s){const r=e.style,n=he(s);let i=!1;if(s&&!n){if(t)if(he(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Sr(r,a,"")}else for(const o in t)s[o]==null&&Sr(r,o,"");for(const o in s)o==="display"&&(i=!0),Sr(r,o,s[o])}else if(n){if(t!==s){const o=r[Yu];o&&(s+=";"+o),r.cssText=s,i=Xu.test(s)}}else t&&e.removeAttribute("style");Ir in e&&(e[Ir]=i?r.display:"",e[ul]&&(r.display="none"))}const Wi=/\s*!important$/;function Sr(e,t,s){if(M(s))s.forEach(r=>Sr(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=eh(e,t);Wi.test(s)?e.setProperty(Lt(r),s.replace(Wi,""),"important"):e[r]=s}}const Ki=["Webkit","Moz","ms"],un={};function eh(e,t){const s=un[t];if(s)return s;let r=ze(t);if(r!=="filter"&&r in e)return un[t]=r;r=Mr(r);for(let n=0;n<Ki.length;n++){const i=Ki[n]+r;if(i in e)return un[t]=i}return t}const Ji="http://www.w3.org/1999/xlink";function Gi(e,t,s,r,n,i=ic(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ji,t.slice(6,t.length)):e.setAttributeNS(Ji,t,s):s==null||i&&!oa(s)?e.removeAttribute(t):e.setAttribute(t,i?"":nt(s)?String(s):s)}function Qi(e,t,s,r,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?cl(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=oa(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function pt(e,t,s,r){e.addEventListener(t,s,r)}function th(e,t,s,r){e.removeEventListener(t,s,r)}const Yi=Symbol("_vei");function sh(e,t,s,r,n=null){const i=e[Yi]||(e[Yi]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=rh(t);if(r){const c=i[t]=oh(r,n);pt(e,a,c,l)}else o&&(th(e,a,o,l),i[t]=void 0)}}const Xi=/(?:Once|Passive|Capture)$/;function rh(e){let t;if(Xi.test(e)){t={};let r;for(;r=e.match(Xi);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Lt(e.slice(2)),t]}let hn=0;const nh=Promise.resolve(),ih=()=>hn||(nh.then(()=>hn=0),hn=Date.now());function oh(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;it(ah(r,s.value),t,5,[r])};return s.value=e,s.attached=ih(),s}function ah(e,t){if(M(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const Zi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,lh=(e,t,s,r,n,i)=>{const o=n==="svg";t==="class"?Qu(e,r,o):t==="style"?Zu(e,s,r):Dr(t)?Gn(t)||sh(e,t,s,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ch(e,t,r,o))?(Qi(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Gi(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!he(r))?Qi(e,ze(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Gi(e,t,r,o))};function ch(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Zi(t)&&B(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Zi(t)&&he(s)?!1:t in e}const jt=e=>{const t=e.props["onUpdate:modelValue"]||!1;return M(t)?s=>vr(t,s):t};function uh(e){e.target.composing=!0}function eo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Ve=Symbol("_assign"),to={created(e,{modifiers:{lazy:t,trim:s,number:r}},n){e[Ve]=jt(n);const i=r||n.props&&n.props.type==="number";pt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=kr(a)),e[Ve](a)}),s&&pt(e,"change",()=>{e.value=e.value.trim()}),t||(pt(e,"compositionstart",uh),pt(e,"compositionend",eo),pt(e,"change",eo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(e[Ve]=jt(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?kr(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||n&&e.value.trim()===l)||(e.value=l))}},hh={deep:!0,created(e,t,s){e[Ve]=jt(s),pt(e,"change",()=>{const r=e._modelValue,n=bs(e),i=e.checked,o=e[Ve];if(M(r)){const a=ei(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const c=[...r];c.splice(a,1),o(c)}}else if(Ss(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(hl(e,i))})},mounted:so,beforeUpdate(e,t,s){e[Ve]=jt(s),so(e,t,s)}};function so(e,{value:t,oldValue:s},r){e._modelValue=t;let n;if(M(t))n=ei(t,r.props.value)>-1;else if(Ss(t))n=t.has(r.props.value);else{if(t===s)return;n=Jt(t,hl(e,!0))}e.checked!==n&&(e.checked=n)}const fh={created(e,{value:t},s){e.checked=Jt(t,s.props.value),e[Ve]=jt(s),pt(e,"change",()=>{e[Ve](bs(e))})},beforeUpdate(e,{value:t,oldValue:s},r){e[Ve]=jt(r),t!==s&&(e.checked=Jt(t,r.props.value))}},dh={deep:!0,created(e,{value:t,modifiers:{number:s}},r){const n=Ss(t);pt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?kr(bs(o)):bs(o));e[Ve](e.multiple?n?new Set(i):i:i[0]),e._assigning=!0,Ot(()=>{e._assigning=!1})}),e[Ve]=jt(r)},mounted(e,{value:t}){ro(e,t)},beforeUpdate(e,t,s){e[Ve]=jt(s)},updated(e,{value:t}){e._assigning||ro(e,t)}};function ro(e,t){const s=e.multiple,r=M(t);if(!(s&&!r&&!Ss(t))){for(let n=0,i=e.options.length;n<i;n++){const o=e.options[n],a=bs(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=ei(t,a)>-1}else o.selected=t.has(a);else if(Jt(bs(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function bs(e){return"_value"in e?e._value:e.value}function hl(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Dg={created(e,t,s){hr(e,t,s,null,"created")},mounted(e,t,s){hr(e,t,s,null,"mounted")},beforeUpdate(e,t,s,r){hr(e,t,s,r,"beforeUpdate")},updated(e,t,s,r){hr(e,t,s,r,"updated")}};function ph(e,t){switch(e){case"SELECT":return dh;case"TEXTAREA":return to;default:switch(t){case"checkbox":return hh;case"radio":return fh;default:return to}}}function hr(e,t,s,r,n){const o=ph(e.tagName,s.props&&s.props.type)[n];o&&o(e,t,s,r)}const gh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ug=(e,t)=>{const s=e._withKeys||(e._withKeys={}),r=t.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const i=Lt(n.key);if(t.some(o=>o===i||gh[o]===i))return e(n)})},mh=ve({patchProp:lh},Ju);let no;function _h(){return no||(no=mu(mh))}const vh=(...e)=>{const t=_h().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=bh(r);if(!n)return;const i=t._component;!B(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,yh(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function yh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function bh(e){return he(e)?document.querySelector(e):e}var wh=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let fl;const Jr=e=>fl=e,dl=Symbol();function jn(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var qs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(qs||(qs={}));function Eh(){const e=ha(!0),t=e.run(()=>fe({}));let s=[],r=[];const n=gs({install(i){Jr(n),n._a=i,i.provide(dl,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!wh?r.push(i):s.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}const pl=()=>{};function io(e,t,s,r=pl){e.push(t);const n=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!s&&fa()&&ac(n),n}function ss(e,...t){e.slice().forEach(s=>{s(...t)})}const Ah=e=>e(),oo=Symbol(),fn=Symbol();function In(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,r)=>e.set(r,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],n=e[s];jn(n)&&jn(r)&&e.hasOwnProperty(s)&&!ue(r)&&!Rt(r)?e[s]=In(n,r):e[s]=r}return e}const Sh=Symbol();function kh(e){return!jn(e)||!e.hasOwnProperty(Sh)}const{assign:bt}=Object;function xh(e){return!!(ue(e)&&e.effect)}function Th(e,t,s,r){const{state:n,actions:i,getters:o}=t,a=s.state.value[e];let l;function c(){a||(s.state.value[e]=n?n():{});const u=Rc(s.state.value[e]);return bt(u,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=gs(Se(()=>{Jr(s);const g=s._s.get(e);return o[f].call(g,g)})),h),{}))}return l=gl(e,c,t,s,r,!0),l}function gl(e,t,s={},r,n,i){let o;const a=bt({actions:{}},s),l={deep:!0};let c,u,h=[],f=[],g;const _=r.state.value[e];!i&&!_&&(r.state.value[e]={}),fe({});let b;function T(V){let z;c=u=!1,typeof V=="function"?(V(r.state.value[e]),z={type:qs.patchFunction,storeId:e,events:g}):(In(r.state.value[e],V),z={type:qs.patchObject,payload:V,storeId:e,events:g});const ae=b=Symbol();Ot().then(()=>{b===ae&&(c=!0)}),u=!0,ss(h,z,r.state.value[e])}const $=i?function(){const{state:z}=s,ae=z?z():{};this.$patch(ke=>{bt(ke,ae)})}:pl;function A(){o.stop(),h=[],f=[],r._s.delete(e)}const E=(V,z="")=>{if(oo in V)return V[fn]=z,V;const ae=function(){Jr(r);const ke=Array.from(arguments),je=[],Pe=[];function Mt(H){je.push(H)}function _t(H){Pe.push(H)}ss(f,{args:ke,name:ae[fn],store:L,after:Mt,onError:_t});let oe;try{oe=V.apply(this&&this.$id===e?this:L,ke)}catch(H){throw ss(Pe,H),H}return oe instanceof Promise?oe.then(H=>(ss(je,H),H)).catch(H=>(ss(Pe,H),Promise.reject(H))):(ss(je,oe),oe)};return ae[oo]=!0,ae[fn]=z,ae},x={_p:r,$id:e,$onAction:io.bind(null,f),$patch:T,$reset:$,$subscribe(V,z={}){const ae=io(h,V,z.detached,()=>ke()),ke=o.run(()=>Ct(()=>r.state.value[e],je=>{(z.flush==="sync"?u:c)&&V({storeId:e,type:qs.direct,events:g},je)},bt({},l,z)));return ae},$dispose:A},L=gt(x);r._s.set(e,L);const X=(r._a&&r._a.runWithContext||Ah)(()=>r._e.run(()=>(o=ha()).run(()=>t({action:E}))));for(const V in X){const z=X[V];if(ue(z)&&!xh(z)||Rt(z))i||(_&&kh(z)&&(ue(z)?z.value=_[V]:In(z,_[V])),r.state.value[e][V]=z);else if(typeof z=="function"){const ae=E(z,V);X[V]=ae,a.actions[V]=z}}return bt(L,X),bt(J(L),X),Object.defineProperty(L,"$state",{get:()=>r.state.value[e],set:V=>{T(z=>{bt(z,V)})}}),r._p.forEach(V=>{bt(L,o.run(()=>V({store:L,app:r._a,pinia:r,options:a})))}),_&&i&&s.hydrate&&s.hydrate(L.$state,_),c=!0,u=!0,L}/*! #__NO_SIDE_EFFECTS__ */function Gr(e,t,s){let r,n;const i=typeof t=="function";typeof e=="string"?(r=e,n=i?s:t):(n=e,r=e.id);function o(a,l){const c=cu();return a=a||(c?qe(dl,null):null),a&&Jr(a),a=fl,a._s.has(r)||(i?gl(r,t,n,a):Th(r,n,a)),a._s.get(r)}return o.$id=r,o}const Oh="modulepreload",Ph=function(e){return"/"+e},ao={},me=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=Ph(l),l in ao)return;ao[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Oh,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,g)=>{h.addEventListener("load",f),h.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Rh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>me(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class gi extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class Ch extends gi{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $h extends gi{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jh extends gi{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ln;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ln||(Ln={}));var Ih=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Lh{constructor(t,{headers:s={},customFetch:r,region:n=Ln.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=Rh(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return Ih(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:c}).catch(_=>{throw new Ch(_)}),h=u.headers.get("x-relay-error");if(h&&h==="true")throw new $h(u);if(!u.ok)throw new jh(u);let f=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),g;return f==="application/json"?g=yield u.json():f==="application/octet-stream"?g=yield u.blob():f==="text/event-stream"?g=u:f==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(n){return{data:null,error:n}}})}}var Mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Uh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),s}var ge={},rs={},ns={},is={},os={},as={},Mh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ws=Mh();const Nh=ws.fetch,ml=ws.fetch.bind(ws),_l=ws.Headers,Fh=ws.Request,Bh=ws.Response,ks=Object.freeze(Object.defineProperty({__proto__:null,Headers:_l,Request:Fh,Response:Bh,default:ml,fetch:Nh},Symbol.toStringTag,{value:"Module"})),Hh=Uh(ks);var fr={},lo;function vl(){if(lo)return fr;lo=1,Object.defineProperty(fr,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return fr.default=e,fr}var co;function yl(){if(co)return as;co=1;var e=as&&as.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(as,"__esModule",{value:!0});const t=e(Hh),s=e(vl());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,f;let g=null,_=null,b=null,T=c.status,$=c.statusText;if(c.ok){if(this.method!=="HEAD"){const L=await c.text();L===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=L:_=JSON.parse(L))}const E=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),x=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");E&&x&&x.length>1&&(b=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(g={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,b=null,T=406,$="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const E=await c.text();try{g=JSON.parse(E),Array.isArray(g)&&c.status===404&&(_=[],g=null,T=200,$="OK")}catch{c.status===404&&E===""?(T=204,$="No Content"):g={message:E}}if(g&&this.isMaybeSingle&&(!((f=g==null?void 0:g.details)===null||f===void 0)&&f.includes("0 rows"))&&(g=null,T=200,$="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:_,count:b,status:T,statusText:$}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,f;return{error:{message:`${(u=c==null?void 0:c.name)!==null&&u!==void 0?u:"FetchError"}: ${c==null?void 0:c.message}`,details:`${(h=c==null?void 0:c.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=c==null?void 0:c.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return as.default=r,as}var uo;function bl(){if(uo)return os;uo=1;var e=os&&os.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(os,"__esModule",{value:!0});const t=e(yl());class s extends t.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${f}"; options=${h};`,c==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return os.default=s,os}var ho;function mi(){if(ho)return is;ho=1;var e=is&&is.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(is,"__esModule",{value:!0});const t=e(bl());class s extends t.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${c}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return is.default=s,is}var fo;function wl(){if(fo)return ns;fo=1;var e=ns&&ns.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ns,"__esModule",{value:!0});const t=e(mi());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(n??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const c=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(n)){const h=n.reduce((f,g)=>f.concat(Object.keys(g)),[]);if(h.length>0){const f=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ns.default=s,ns}var Rs={},Cs={},po;function qh(){return po||(po=1,Object.defineProperty(Cs,"__esModule",{value:!0}),Cs.version=void 0,Cs.version="0.0.0-automated"),Cs}var go;function Vh(){if(go)return Rs;go=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.DEFAULT_HEADERS=void 0;const e=qh();return Rs.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Rs}var mo;function zh(){if(mo)return rs;mo=1;var e=rs&&rs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(rs,"__esModule",{value:!0});const t=e(wl()),s=e(mi()),r=Vh();class n{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let h;const f=new URL(`${this.url}/rpc/${o}`);let g;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([b,T])=>T!==void 0).map(([b,T])=>[b,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([b,T])=>{f.searchParams.append(b,T)})):(h="POST",g=a);const _=Object.assign({},this.headers);return u&&(_.Prefer=`count=${u}`),new s.default({method:h,url:f,headers:_,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return rs.default=n,rs}var _o;function Wh(){if(_o)return ge;_o=1;var e=ge&&ge.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(ge,"__esModule",{value:!0}),ge.PostgrestError=ge.PostgrestBuilder=ge.PostgrestTransformBuilder=ge.PostgrestFilterBuilder=ge.PostgrestQueryBuilder=ge.PostgrestClient=void 0;const t=e(zh());ge.PostgrestClient=t.default;const s=e(wl());ge.PostgrestQueryBuilder=s.default;const r=e(mi());ge.PostgrestFilterBuilder=r.default;const n=e(bl());ge.PostgrestTransformBuilder=n.default;const i=e(yl());ge.PostgrestBuilder=i.default;const o=e(vl());return ge.PostgrestError=o.default,ge.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},ge}var Kh=Wh();const Jh=Dh(Kh),{PostgrestClient:Gh,PostgrestQueryBuilder:Ng,PostgrestFilterBuilder:Fg,PostgrestTransformBuilder:Bg,PostgrestBuilder:Hg,PostgrestError:qg}=Jh,Qh="2.11.2",Yh={"X-Client-Info":`realtime-js/${Qh}`},Xh="1.0.0",El=1e4,Zh=1e3;var vs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vs||(vs={}));var Me;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Me||(Me={}));var Ke;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ke||(Ke={}));var Dn;(function(e){e.websocket="websocket"})(Dn||(Dn={}));var zt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zt||(zt={}));class ef{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+n));o=o+n;const l=r.decode(t.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Al{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const vo=(e,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=tf(o,e,t,n),i),{})},tf=(e,t,s,r)=>{const n=t.find(a=>a.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!r.includes(i)?Sl(i,o):Un(o)},Sl=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return of(t,s)}switch(e){case re.bool:return sf(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return rf(t);case re.json:case re.jsonb:return nf(t);case re.timestamp:return af(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Un(t);default:return Un(t)}},Un=e=>e,sf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},rf=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nf=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},of=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Sl(t,a))}return e},af=e=>typeof e=="string"?e.replace(" ","T"):e,kl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class dn{constructor(t,s,r={},n=El){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yo||(yo={}));class Vs{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Vs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Vs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const f=u.map(T=>T.presence_ref),g=h.map(T=>T.presence_ref),_=u.filter(T=>g.indexOf(T.presence_ref)<0),b=h.filter(T=>f.indexOf(T.presence_ref)<0);_.length>0&&(a[c]=_),b.length>0&&(l[c]=b)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(t,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const h=t[a].map(g=>g.presence_ref),f=u.filter(g=>h.indexOf(g.presence_ref)<0);t[a].unshift(...f)}r(a,u,l)}),this.map(o,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),t[a]=c,n(a,c,l),c.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bo;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(bo||(bo={}));var wo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(wo||(wo={}));var ht;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class _i{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=Me.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new dn(this,Ke.join,this.params,this.timeout),this.rejoinTimer=new Al(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Me.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Me.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Me.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ke.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Vs(this),this.broadcastEndpointURL=kl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(u=>t==null?void 0:t(ht.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(ht.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(u=>u.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var h;if(this.socket.setAuth(),u===void 0){t==null||t(ht.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,g=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,_=[];for(let b=0;b<g;b++){const T=f[b],{filter:{event:$,schema:A,table:E,filter:x}}=T,L=u&&u[b];if(L&&L.event===$&&L.schema===A&&L.table===E&&L.filter===x)_.push(Object.assign(Object.assign({},T),{id:L.id}));else{this.unsubscribe(),t==null||t(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(ht.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Me.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ke.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new dn(this,Ke.leave,{},t);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new dn(this,t,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ke;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var _,b,T;return((_=g.filter)===null||_===void 0?void 0:_.event)==="*"||((T=(b=g.filter)===null||b===void 0?void 0:b.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===o}).map(g=>g.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var _,b,T,$,A,E;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const x=g.id,L=(_=g.filter)===null||_===void 0?void 0:_.event;return x&&((b=s.ids)===null||b===void 0?void 0:b.includes(x))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const x=(A=($=g==null?void 0:g.filter)===null||$===void 0?void 0:$.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return x==="*"||x===((E=s==null?void 0:s.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof f=="object"&&"ids"in f){const _=f.data,{schema:b,table:T,commit_timestamp:$,type:A,errors:E}=_;f=Object.assign(Object.assign({},{schema:b,table:T,commit_timestamp:$,eventType:A,new:{},old:{},errors:E}),this._getPayloadRecords(_))}g.callback(f,r)})}_isClosed(){return this.state===Me.closed}_isJoined(){return this.state===Me.joined}_isJoining(){return this.state===Me.joining}_isLeaving(){return this.state===Me.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&_i.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ke.close,{},t)}_onError(t){this._on(Ke.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Me.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=vo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=vo(t.columns,t.old_record)),s}}const lf=()=>{},cf=typeof WebSocket<"u",uf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hf{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Yh,this.params={},this.timeout=El,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=lf,this.conn=null,this.sendBuffer=[],this.serializer=new ef,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>me(async()=>{const{default:l}=await Promise.resolve().then(()=>ks);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Dn.websocket}`,this.httpEndpoint=kl(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Al(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(cf){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ff(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),me(async()=>{const{default:t}=await import("./browser-Dl4JI1hi.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xh}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case vs.connecting:return zt.Connecting;case vs.open:return zt.Open;case vs.closing:return zt.Closing;default:return zt.Closed}}isConnected(){return this.connectionState()===zt.Open}channel(t,s={config:{}}){const r=new _i(`realtime:${t}`,s,this);return this.channels.push(r),r}push(t){const{topic:s,event:r,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(Ke.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Zh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ke.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([uf],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class ff{constructor(t,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=vs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class vi extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function _e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class df extends vi{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Mn extends vi{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var pf=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const xl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>me(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},gf=()=>pf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield me(()=>Promise.resolve().then(()=>ks),void 0)).Response:Response}),Nn=e=>{if(Array.isArray(e))return e.map(s=>Nn(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=Nn(r)}),t};var Yt=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const pn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mf=(e,t,s)=>Yt(void 0,void 0,void 0,function*(){const r=yield gf();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{t(new df(pn(n),e.status||500))}).catch(n=>{t(new Mn(pn(n),n))}):t(new Mn(pn(e),e))}),_f=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function or(e,t,s,r,n,i){return Yt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,_f(t,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>mf(l,a,r))})})}function Lr(e,t,s,r){return Yt(this,void 0,void 0,function*(){return or(e,"GET",t,s,r)})}function kt(e,t,s,r,n){return Yt(this,void 0,void 0,function*(){return or(e,"POST",t,r,n,s)})}function vf(e,t,s,r,n){return Yt(this,void 0,void 0,function*(){return or(e,"PUT",t,r,n,s)})}function yf(e,t,s,r){return Yt(this,void 0,void 0,function*(){return or(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function Tl(e,t,s,r,n){return Yt(this,void 0,void 0,function*(){return or(e,"DELETE",t,r,n,s)})}var Ce=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const bf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Eo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wf{constructor(t,s={},r,n){this.url=t,this.headers=s,this.bucketId=r,this.fetch=xl(n)}uploadOrUpdate(t,s,r,n){return Ce(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Eo),n);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(_e(i))return{data:null,error:i};throw i}})}upload(t,s,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return Ce(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Eo.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(_e(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return Ce(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield kt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new vi("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}update(t,s,r){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return Ce(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}copy(t,s,r){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return Ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield kt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return Ce(this,void 0,void 0,function*(){try{const n=yield kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}download(t,s){return Ce(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Lr(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(_e(a))return{data:null,error:a};throw a}})}info(t){return Ce(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield Lr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Nn(r),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}exists(t){return Ce(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield yf(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(_e(r)&&r instanceof Mn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(t){return Ce(this,void 0,void 0,function*(){try{return{data:yield Tl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}list(t,s,r){return Ce(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},bf),s),{prefix:t||""});return{data:yield kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(_e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Ef="2.7.1",Af={"X-Client-Info":`storage-js/${Ef}`};var ls=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Sf{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},Af),s),this.fetch=xl(r)}listBuckets(){return ls(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(_e(t))return{data:null,error:t};throw t}})}getBucket(t){return ls(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return ls(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return ls(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(_e(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ls(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}deleteBucket(t){return ls(this,void 0,void 0,function*(){try{return{data:yield Tl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(_e(s))return{data:null,error:s};throw s}})}}class kf extends Sf{constructor(t,s={},r){super(t,s,r)}from(t){return new wf(this.url,this.headers,t,this.fetch)}}const xf="2.47.10";let Ls="";typeof Deno<"u"?Ls="deno":typeof document<"u"?Ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ls="react-native":Ls="node";const Tf={"X-Client-Info":`supabase-js-${Ls}/${xf}`},Of={headers:Tf},Pf={schema:"public"},Rf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Cf={};var $f=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};const jf=e=>{let t;return e?t=e:typeof fetch>"u"?t=ml:t=fetch,(...s)=>t(...s)},If=()=>typeof Headers>"u"?_l:Headers,Lf=(e,t,s)=>{const r=jf(s),n=If();return(i,o)=>$f(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new n(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Df=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};function Uf(e){return e.replace(/\/$/,"")}function Mf(e,t){const{db:s,auth:r,realtime:n,global:i}=e,{db:o,auth:a,realtime:l,global:c}=t,u={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},c),i),accessToken:()=>Df(this,void 0,void 0,function*(){return""})};return e.accessToken?u.accessToken=e.accessToken:delete u.accessToken,u}const Ol="2.67.3",Nf="http://localhost:9999",Ff="supabase.auth.token",Bf={"X-Client-Info":`gotrue-js/${Ol}`},Ao=10,Fn="X-Supabase-Api-Version",Pl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Hf(e){return Math.round(Date.now()/1e3)+e}function qf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ze=()=>typeof window<"u"&&typeof document<"u",Bt={tested:!1,writable:!1},zs=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bt.tested)return Bt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bt.tested=!0,Bt.writable=!0}catch{Bt.tested=!0,Bt.writable=!1}return Bt.writable};function Vf(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const Rl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>me(async()=>{const{default:r}=await Promise.resolve().then(()=>ks);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},zf=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Cl=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},dr=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},pr=async(e,t)=>{await e.removeItem(t)};function Wf(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,c,u=0;for(e=e.replace("-","+").replace("_","/");u<e.length;)o=t.indexOf(e.charAt(u++)),a=t.indexOf(e.charAt(u++)),l=t.indexOf(e.charAt(u++)),c=t.indexOf(e.charAt(u++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|c,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),c!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class Qr{constructor(){this.promise=new Qr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Qr.promiseConstructor=Promise;function So(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(Wf(r))}async function Kf(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Jf(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function Gf(e){return("0"+e.toString(16)).substr(-2)}function Qf(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,Gf).join("")}async function Yf(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Xf(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zf(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Yf(e);return Xf(s)}async function cs(e,t,s=!1){const r=Qf();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Cl(e,`${t}-code-verifier`,n);const i=await Zf(r);return[i,r===i?"plain":"s256"]}const ed=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function td(e){const t=e.headers.get(Fn);if(!t||!t.match(ed))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class yi extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sd extends yi{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function rd(e){return q(e)&&e.name==="AuthApiError"}class $l extends yi{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Xt extends yi{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class wt extends Xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nd(e){return q(e)&&e.name==="AuthSessionMissingError"}class gn extends Xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gr extends Xt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class mr extends Xt{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function id(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class ko extends Xt{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Bn extends Xt{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function mn(e){return q(e)&&e.name==="AuthRetryableFetchError"}class xo extends Xt{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var od=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const Vt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ad=[502,503,504];async function To(e){var t;if(!zf(e))throw new Bn(Vt(e),0);if(ad.includes(e.status))throw new Bn(Vt(e),e.status);let s;try{s=await e.json()}catch(i){throw new $l(Vt(i),i)}let r;const n=td(e);if(n&&n.getTime()>=Pl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new xo(Vt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new wt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new xo(Vt(s),e.status,s.weak_password.reasons);throw new sd(Vt(s),e.status||500,r)}const ld=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function W(e,t,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Fn]||(i[Fn]=Pl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await cd(e,t,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function cd(e,t,s,r,n,i){const o=ld(t,r,n,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new Bn(Vt(l),0)}if(a.ok||await To(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await To(l)}}function Et(e){var t;let s=null;dd(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=Hf(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function Oo(e){const t=Et(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ud(e){return{data:e,error:null}}function hd(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=e,o=od(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function fd(e){return e}function dd(e){return e.access_token&&e.refresh_token&&e.expires_in}var pd=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};class gd{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Rl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Tt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=pd(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:hd,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:fd});if(u.error)throw u.error;const h=await u.json(),f=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(_=>{const b=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(_.split(";")[1].split("=")[1]);c[`${T}Page`]=b}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(q(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tt})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Tt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Tt})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(q(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}const md={getItem:e=>zs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{zs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{zs()&&globalThis.localStorage.removeItem(e)}};function Po(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function _d(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const us={debug:!!(globalThis&&zs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jl extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vd extends jl{}async function yd(e,t,s){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vd(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(us.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}_d();const bd={url:Nf,storageKey:Ff,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},$s=30*1e3,Ro=3;async function Co(e,t,s){return await s()}class Zs{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zs.nextInstanceID,Zs.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},bd),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new gd({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Rl(n.fetch),this.lock=n.lock||Co,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ze()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=yd:this.lock=Co,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:zs()?this.storage=md:(this.memoryStorage={},this.storage=Po(this.memoryStorage)):(this.memoryStorage={},this.storage=Po(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ol}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Vf(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ze()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),id(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return q(s)?{error:s}:{error:new $l("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Et}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,r,n;try{let i;if("email"in t){const{email:u,password:h,options:f}=t;let g=null,_=null;this.flowType==="pkce"&&([g,_]=await cs(this.storage,this.storageKey)),i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:_},xform:Et})}else if("phone"in t){const{phone:u,password:h,options:f}=t;i=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Et})}else throw new gr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Oo})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Oo})}else throw new gr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new gn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await dr(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Et});if(await pr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new gn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=t,a=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Et}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new gn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await cs(this.storage,this.storageKey));const{error:h}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new gr("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,r;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Et});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await cs(this.storage,this.storageKey)),await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ud})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new wt;const{error:n}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:o}=await W(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:o,error:a}=await W(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new gr("You must provide either an email or phone number and a type")}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await dr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(s){if(q(s))return nd(s)&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new wt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await cs(this.storage,this.storageKey));const{data:c,error:u}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Tt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return So(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new wt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=So(t.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new wt;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Ze())throw new mr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new mr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ko("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new mr("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ko("No code detected.");const{data:A,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=t;if(!i||!a||!o||!c)throw new mr("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let f=u+h;l&&(f=parseInt(l));const g=f-u;g*1e3<=$s&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const _=f-h;u-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,u):u-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,u);const{data:b,error:T}=await this._getUser(i);if(T)throw T;const $={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:t.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await dr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(rd(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=qf(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await cs(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Ze()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Jf(async n=>(n>0&&await Kf(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Et})),(n,i)=>{const o=200*Math.pow(2,n);return i&&mn(i)&&Date.now()+o-r<$s})}catch(r){if(this._debug(s,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),Ze()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await dr(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<n+Ao;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Ao}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),mn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new wt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Qr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new wt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),q(i)){const o={session:null,error:i};return mn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Cl(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await pr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),$s);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/$s);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${$s}ms, refresh threshold is ${Ro} ticks`),n<=Ro&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await cs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await W(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await W(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await W(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Zs.nextInstanceID=0;const wd=Zs;class Ed extends wd{constructor(t){super(t)}}var Ad=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(e,t||[])).next())})};class Sd{constructor(t,s,r){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Uf(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,c={db:Pf,realtime:Cf,auth:Object.assign(Object.assign({},Rf),{storageKey:l}),global:Of},u=Mf(r??{},c);this.storageKey=(n=u.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=u.global.headers)!==null&&i!==void 0?i:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=u.auth)!==null&&o!==void 0?o:{},this.headers,u.global.fetch),this.fetch=Lf(s,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Gh(`${a}/rest/v1`,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Lh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kf(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return Ad(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},c,u){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ed({url:this.authUrl,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new hf(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kd=(e,t,s)=>new Sd(e,t,s),xd="https://kawdmbqsvrrmvhymflnx.supabase.co",Td="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imthd2RtYnFzdnJybXZoeW1mbG54Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQxNjQ2NDEsImV4cCI6MjA0OTc0MDY0MX0.wfcQk1sq6ft1ZqmfrtavRahgrb87nWP4pU9loYiNtjU",ce=kd(xd,Td);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const fs=typeof document<"u";function Il(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Od(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Il(e.default)}const Q=Object.assign;function _n(e,t){const s={};for(const r in t){const n=t[r];s[r]=Ge(n)?n.map(e):e(n)}return s}const Ws=()=>{},Ge=Array.isArray,Ll=/#/g,Pd=/&/g,Rd=/\//g,Cd=/=/g,$d=/\?/g,Dl=/\+/g,jd=/%5B/g,Id=/%5D/g,Ul=/%5E/g,Ld=/%60/g,Ml=/%7B/g,Dd=/%7C/g,Nl=/%7D/g,Ud=/%20/g;function bi(e){return encodeURI(""+e).replace(Dd,"|").replace(jd,"[").replace(Id,"]")}function Md(e){return bi(e).replace(Ml,"{").replace(Nl,"}").replace(Ul,"^")}function Hn(e){return bi(e).replace(Dl,"%2B").replace(Ud,"+").replace(Ll,"%23").replace(Pd,"%26").replace(Ld,"`").replace(Ml,"{").replace(Nl,"}").replace(Ul,"^")}function Nd(e){return Hn(e).replace(Cd,"%3D")}function Fd(e){return bi(e).replace(Ll,"%23").replace($d,"%3F")}function Bd(e){return e==null?"":Fd(e).replace(Rd,"%2F")}function er(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Hd=/\/$/,qd=e=>e.replace(Hd,"");function vn(e,t,s="/"){let r,n={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),n=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Kd(r??t,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:er(o)}}function Vd(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function $o(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function zd(e,t,s){const r=t.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Es(t.matched[r],s.matched[n])&&Fl(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Es(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Fl(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Wd(e[s],t[s]))return!1;return!0}function Wd(e,t){return Ge(e)?jo(e,t):Ge(t)?jo(t,e):e===t}function jo(e,t){return Ge(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function Kd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var tr;(function(e){e.pop="pop",e.push="push"})(tr||(tr={}));var Ks;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ks||(Ks={}));function Jd(e){if(!e)if(fs){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),qd(e)}const Gd=/^[^#]+#/;function Qd(e,t){return e.replace(Gd,"#")+t}function Yd(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const Yr=()=>({left:window.scrollX,top:window.scrollY});function Xd(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=Yd(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Io(e,t){return(history.state?history.state.position-t:-1)+e}const qn=new Map;function Zd(e,t){qn.set(e,t)}function ep(e){const t=qn.get(e);return qn.delete(e),t}let tp=()=>location.protocol+"//"+location.host;function Bl(e,t){const{pathname:s,search:r,hash:n}=t,i=e.indexOf("#");if(i>-1){let a=n.includes(e.slice(i))?e.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),$o(l,"")}return $o(s,e)+r+n}function sp(e,t,s,r){let n=[],i=[],o=null;const a=({state:f})=>{const g=Bl(e,location),_=s.value,b=t.value;let T=0;if(f){if(s.value=g,t.value=f,o&&o===_){o=null;return}T=b?f.position-b.position:0}else r(g);n.forEach($=>{$(s.value,_,{delta:T,type:tr.pop,direction:T?T>0?Ks.forward:Ks.back:Ks.unknown})})};function l(){o=s.value}function c(f){n.push(f);const g=()=>{const _=n.indexOf(f);_>-1&&n.splice(_,1)};return i.push(g),g}function u(){const{history:f}=window;f.state&&f.replaceState(Q({},f.state,{scroll:Yr()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Lo(e,t,s,r=!1,n=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:n?Yr():null}}function rp(e){const{history:t,location:s}=window,r={value:Bl(e,s)},n={value:t.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=e.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+l:tp()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),n.value=c}catch(g){console.error(g),s[u?"replace":"assign"](f)}}function o(l,c){const u=Q({},t.state,Lo(n.value.back,l,n.value.forward,!0),c,{position:n.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=Q({},n.value,t.state,{forward:l,scroll:Yr()});i(u.current,u,!0);const h=Q({},Lo(r.value,l,null),{position:u.position+1},c);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function np(e){e=Jd(e);const t=rp(e),s=sp(e,t.state,t.location,t.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=Q({location:"",base:e,go:r,createHref:Qd.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function ip(e){return typeof e=="string"||e&&typeof e=="object"}function Hl(e){return typeof e=="string"||typeof e=="symbol"}const ql=Symbol("");var Do;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Do||(Do={}));function As(e,t){return Q(new Error,{type:e,[ql]:!0},t)}function ct(e,t){return e instanceof Error&&ql in e&&(t==null||!!(e.type&t))}const Uo="[^/]+?",op={sensitive:!1,strict:!1,start:!0,end:!0},ap=/[.+*?^${}()[\]/\\]/g;function lp(e,t){const s=Q({},op,t),r=[];let n=s.start?"^":"";const i=[];for(const c of e){const u=c.length?[]:[90];s.strict&&!c.length&&(n+="/");for(let h=0;h<c.length;h++){const f=c[h];let g=40+(s.sensitive?.25:0);if(f.type===0)h||(n+="/"),n+=f.value.replace(ap,"\\$&"),g+=40;else if(f.type===1){const{value:_,repeatable:b,optional:T,regexp:$}=f;i.push({name:_,repeatable:b,optional:T});const A=$||Uo;if(A!==Uo){g+=10;try{new RegExp(`(${A})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${_}" (${A}): `+x.message)}}let E=b?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;h||(E=T&&c.length<2?`(?:/${E})`:"/"+E),T&&(E+="?"),n+=E,g+=20,T&&(g+=-8),b&&(g+=-20),A===".*"&&(g+=-50)}u.push(g)}r.push(u)}if(s.strict&&s.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let f=1;f<u.length;f++){const g=u[f]||"",_=i[f-1];h[_.name]=g&&_.repeatable?g.split("/"):g}return h}function l(c){let u="",h=!1;for(const f of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of f)if(g.type===0)u+=g.value;else if(g.type===1){const{value:_,repeatable:b,optional:T}=g,$=_ in c?c[_]:"";if(Ge($)&&!b)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const A=Ge($)?$.join("/"):$;if(!A)if(T)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);u+=A}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function cp(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Vl(e,t){let s=0;const r=e.score,n=t.score;for(;s<r.length&&s<n.length;){const i=cp(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(Mo(r))return 1;if(Mo(n))return-1}return n.length-r.length}function Mo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const up={type:0,value:""},hp=/[a-zA-Z0-9_]/;function fp(e){if(!e)return[[]];if(e==="/")return[[up]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(g){throw new Error(`ERR (${s})/"${c}": ${g}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(s===0?i.push({type:0,value:c}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),s=1):f();break;case 4:f(),s=r;break;case 1:l==="("?s=2:hp.test(l)?f():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),n}function dp(e,t,s){const r=lp(fp(e.path),s),n=Q(r,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function pp(e,t){const s=[],r=new Map;t=Ho({strict:!1,end:!0,sensitive:!1},t);function n(h){return r.get(h)}function i(h,f,g){const _=!g,b=Fo(h);b.aliasOf=g&&g.record;const T=Ho(t,h),$=[b];if("alias"in h){const x=typeof h.alias=="string"?[h.alias]:h.alias;for(const L of x)$.push(Fo(Q({},b,{components:g?g.record.components:b.components,path:L,aliasOf:g?g.record:b})))}let A,E;for(const x of $){const{path:L}=x;if(f&&L[0]!=="/"){const pe=f.record.path,X=pe[pe.length-1]==="/"?"":"/";x.path=f.record.path+(L&&X+L)}if(A=dp(x,f,T),g?g.alias.push(A):(E=E||A,E!==A&&E.alias.push(A),_&&h.name&&!Bo(A)&&o(h.name)),zl(A)&&l(A),b.children){const pe=b.children;for(let X=0;X<pe.length;X++)i(pe[X],A,g&&g.children[X])}g=g||A}return E?()=>{o(E)}:Ws}function o(h){if(Hl(h)){const f=r.get(h);f&&(r.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const f=_p(h,s);s.splice(f,0,h),h.record.name&&!Bo(h)&&r.set(h.record.name,h)}function c(h,f){let g,_={},b,T;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw As(1,{location:h});T=g.record.name,_=Q(No(f.params,g.keys.filter(E=>!E.optional).concat(g.parent?g.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),h.params&&No(h.params,g.keys.map(E=>E.name))),b=g.stringify(_)}else if(h.path!=null)b=h.path,g=s.find(E=>E.re.test(b)),g&&(_=g.parse(b),T=g.record.name);else{if(g=f.name?r.get(f.name):s.find(E=>E.re.test(f.path)),!g)throw As(1,{location:h,currentLocation:f});T=g.record.name,_=Q({},f.params,h.params),b=g.stringify(_)}const $=[];let A=g;for(;A;)$.unshift(A.record),A=A.parent;return{name:T,path:b,params:_,matched:$,meta:mp($)}}e.forEach(h=>i(h));function u(){s.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function No(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function Fo(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:gp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function gp(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="object"?s[r]:s;return t}function Bo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mp(e){return e.reduce((t,s)=>Q(t,s.meta),{})}function Ho(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}function _p(e,t){let s=0,r=t.length;for(;s!==r;){const i=s+r>>1;Vl(e,t[i])<0?r=i:s=i+1}const n=vp(e);return n&&(r=t.lastIndexOf(n,r-1)),r}function vp(e){let t=e;for(;t=t.parent;)if(zl(t)&&Vl(e,t)===0)return t}function zl({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function yp(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(Dl," "),o=i.indexOf("="),a=er(o<0?i:i.slice(0,o)),l=o<0?null:er(i.slice(o+1));if(a in t){let c=t[a];Ge(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function qo(e){let t="";for(let s in e){const r=e[s];if(s=Nd(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(Ge(r)?r.map(i=>i&&Hn(i)):[r&&Hn(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function bp(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=Ge(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return t}const wp=Symbol(""),Vo=Symbol(""),Xr=Symbol(""),wi=Symbol(""),Vn=Symbol("");function js(){let e=[];function t(r){return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function xt(e,t,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(As(4,{from:s,to:t})):f instanceof Error?l(f):ip(f)?l(As(2,{from:t,to:f})):(o&&r.enterCallbacks[n]===o&&typeof f=="function"&&o.push(f),a())},u=i(()=>e.call(r&&r.instances[n],t,s,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function yn(e,t,s,r,n=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(Il(l)){const u=(l.__vccOpts||l)[t];u&&i.push(xt(u,s,r,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Od(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const g=(h.__vccOpts||h)[t];return g&&xt(g,s,r,o,a,n)()}))}}return i}function zo(e){const t=qe(Xr),s=qe(wi),r=Se(()=>{const l=ms(e.to);return t.resolve(l)}),n=Se(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=s.matched;if(!u||!h.length)return-1;const f=h.findIndex(Es.bind(null,u));if(f>-1)return f;const g=Wo(l[c-2]);return c>1&&Wo(u)===g&&h[h.length-1].path!==g?h.findIndex(Es.bind(null,l[c-2])):f}),i=Se(()=>n.value>-1&&xp(s.params,r.value.params)),o=Se(()=>n.value>-1&&n.value===s.matched.length-1&&Fl(s.params,r.value.params));function a(l={}){if(kp(l)){const c=t[ms(e.replace)?"replace":"push"](ms(e.to)).catch(Ws);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:Se(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Ep(e){return e.length===1?e[0]:e}const Ap=Hr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zo,setup(e,{slots:t}){const s=gt(zo(e)),{options:r}=qe(Xr),n=Se(()=>({[Ko(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Ko(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&Ep(t.default(s));return e.custom?i:ll("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Sp=Ap;function kp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function xp(e,t){for(const s in t){const r=t[s],n=e[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Ge(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function Wo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ko=(e,t,s)=>e??t??s,Tp=Hr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=qe(Vn),n=Se(()=>e.route||r.value),i=qe(Vo,0),o=Se(()=>{let c=ms(i);const{matched:u}=n.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Se(()=>n.value.matched[o.value]);yr(Vo,Se(()=>o.value+1)),yr(wp,a),yr(Vn,n);const l=fe();return Ct(()=>[l.value,a.value,e.name],([c,u,h],[f,g,_])=>{u&&(u.instances[h]=c,g&&g!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!Es(u,g)||!f)&&(u.enterCallbacks[h]||[]).forEach(b=>b(c))},{flush:"post"}),()=>{const c=n.value,u=e.name,h=a.value,f=h&&h.components[u];if(!f)return Jo(s.default,{Component:f,route:c});const g=h.props[u],_=g?g===!0?c.params:typeof g=="function"?g(c):g:null,T=ll(f,Q({},_,t,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return Jo(s.default,{Component:T,route:c})||T}}});function Jo(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Op=Tp;function Pp(e){const t=pp(e.routes,e),s=e.parseQuery||yp,r=e.stringifyQuery||qo,n=e.history,i=js(),o=js(),a=js(),l=Tc(yt);let c=yt;fs&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=_n.bind(null,y=>""+y),h=_n.bind(null,Bd),f=_n.bind(null,er);function g(y,I){let C,D;return Hl(y)?(C=t.getRecordMatcher(y),D=I):D=y,t.addRoute(D,C)}function _(y){const I=t.getRecordMatcher(y);I&&t.removeRoute(I)}function b(){return t.getRoutes().map(y=>y.record)}function T(y){return!!t.getRecordMatcher(y)}function $(y,I){if(I=Q({},I||l.value),typeof y=="string"){const p=vn(s,y,I.path),m=t.resolve({path:p.path},I),w=n.createHref(p.fullPath);return Q(p,m,{params:f(m.params),hash:er(p.hash),redirectedFrom:void 0,href:w})}let C;if(y.path!=null)C=Q({},y,{path:vn(s,y.path,I.path).path});else{const p=Q({},y.params);for(const m in p)p[m]==null&&delete p[m];C=Q({},y,{params:h(p)}),I.params=h(I.params)}const D=t.resolve(C,I),Z=y.hash||"";D.params=u(f(D.params));const le=Vd(r,Q({},y,{hash:Md(Z),path:D.path})),d=n.createHref(le);return Q({fullPath:le,hash:Z,query:r===qo?bp(y.query):y.query||{}},D,{redirectedFrom:void 0,href:d})}function A(y){return typeof y=="string"?vn(s,y,l.value.path):Q({},y)}function E(y,I){if(c!==y)return As(8,{from:I,to:y})}function x(y){return X(y)}function L(y){return x(Q(A(y),{replace:!0}))}function pe(y){const I=y.matched[y.matched.length-1];if(I&&I.redirect){const{redirect:C}=I;let D=typeof C=="function"?C(y):C;return typeof D=="string"&&(D=D.includes("?")||D.includes("#")?D=A(D):{path:D},D.params={}),Q({query:y.query,hash:y.hash,params:D.path!=null?{}:y.params},D)}}function X(y,I){const C=c=$(y),D=l.value,Z=y.state,le=y.force,d=y.replace===!0,p=pe(C);if(p)return X(Q(A(p),{state:typeof p=="object"?Q({},Z,p.state):Z,force:le,replace:d}),I||C);const m=C;m.redirectedFrom=I;let w;return!le&&zd(r,D,C)&&(w=As(16,{to:m,from:D}),Qe(D,D,!0,!1)),(w?Promise.resolve(w):ae(m,D)).catch(v=>ct(v)?ct(v,2)?v:vt(v):G(v,m,D)).then(v=>{if(v){if(ct(v,2))return X(Q({replace:d},A(v.to),{state:typeof v.to=="object"?Q({},Z,v.to.state):Z,force:le}),I||m)}else v=je(m,D,!0,d,Z);return ke(m,D,v),v})}function V(y,I){const C=E(y,I);return C?Promise.reject(C):Promise.resolve()}function z(y){const I=es.values().next().value;return I&&typeof I.runWithContext=="function"?I.runWithContext(y):y()}function ae(y,I){let C;const[D,Z,le]=Rp(y,I);C=yn(D.reverse(),"beforeRouteLeave",y,I);for(const p of D)p.leaveGuards.forEach(m=>{C.push(xt(m,y,I))});const d=V.bind(null,y,I);return C.push(d),Fe(C).then(()=>{C=[];for(const p of i.list())C.push(xt(p,y,I));return C.push(d),Fe(C)}).then(()=>{C=yn(Z,"beforeRouteUpdate",y,I);for(const p of Z)p.updateGuards.forEach(m=>{C.push(xt(m,y,I))});return C.push(d),Fe(C)}).then(()=>{C=[];for(const p of le)if(p.beforeEnter)if(Ge(p.beforeEnter))for(const m of p.beforeEnter)C.push(xt(m,y,I));else C.push(xt(p.beforeEnter,y,I));return C.push(d),Fe(C)}).then(()=>(y.matched.forEach(p=>p.enterCallbacks={}),C=yn(le,"beforeRouteEnter",y,I,z),C.push(d),Fe(C))).then(()=>{C=[];for(const p of o.list())C.push(xt(p,y,I));return C.push(d),Fe(C)}).catch(p=>ct(p,8)?p:Promise.reject(p))}function ke(y,I,C){a.list().forEach(D=>z(()=>D(y,I,C)))}function je(y,I,C,D,Z){const le=E(y,I);if(le)return le;const d=I===yt,p=fs?history.state:{};C&&(D||d?n.replace(y.fullPath,Q({scroll:d&&p&&p.scroll},Z)):n.push(y.fullPath,Z)),l.value=y,Qe(y,I,C,d),vt()}let Pe;function Mt(){Pe||(Pe=n.listen((y,I,C)=>{if(!ar.listening)return;const D=$(y),Z=pe(D);if(Z){X(Q(Z,{replace:!0,force:!0}),D).catch(Ws);return}c=D;const le=l.value;fs&&Zd(Io(le.fullPath,C.delta),Yr()),ae(D,le).catch(d=>ct(d,12)?d:ct(d,2)?(X(Q(A(d.to),{force:!0}),D).then(p=>{ct(p,20)&&!C.delta&&C.type===tr.pop&&n.go(-1,!1)}).catch(Ws),Promise.reject()):(C.delta&&n.go(-C.delta,!1),G(d,D,le))).then(d=>{d=d||je(D,le,!1),d&&(C.delta&&!ct(d,8)?n.go(-C.delta,!1):C.type===tr.pop&&ct(d,20)&&n.go(-1,!1)),ke(D,le,d)}).catch(Ws)}))}let _t=js(),oe=js(),H;function G(y,I,C){vt(y);const D=oe.list();return D.length?D.forEach(Z=>Z(y,I,C)):console.error(y),Promise.reject(y)}function at(){return H&&l.value!==yt?Promise.resolve():new Promise((y,I)=>{_t.add([y,I])})}function vt(y){return H||(H=!y,Mt(),_t.list().forEach(([I,C])=>y?C(y):I()),_t.reset()),y}function Qe(y,I,C,D){const{scrollBehavior:Z}=e;if(!fs||!Z)return Promise.resolve();const le=!C&&ep(Io(y.fullPath,0))||(D||!C)&&history.state&&history.state.scroll||null;return Ot().then(()=>Z(y,I,le)).then(d=>d&&Xd(d)).catch(d=>G(d,y,I))}const Re=y=>n.go(y);let Zt;const es=new Set,ar={currentRoute:l,listening:!0,addRoute:g,removeRoute:_,clearRoutes:t.clearRoutes,hasRoute:T,getRoutes:b,resolve:$,options:e,push:x,replace:L,go:Re,back:()=>Re(-1),forward:()=>Re(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:oe.add,isReady:at,install(y){const I=this;y.component("RouterLink",Sp),y.component("RouterView",Op),y.config.globalProperties.$router=I,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>ms(l)}),fs&&!Zt&&l.value===yt&&(Zt=!0,x(n.location).catch(Z=>{}));const C={};for(const Z in yt)Object.defineProperty(C,Z,{get:()=>l.value[Z],enumerable:!0});y.provide(Xr,I),y.provide(wi,Ta(C)),y.provide(Vn,l);const D=y.unmount;es.add(y),y.unmount=function(){es.delete(y),es.size<1&&(c=yt,Pe&&Pe(),Pe=null,l.value=yt,Zt=!1,H=!1),D()}}};function Fe(y){return y.reduce((I,C)=>I.then(()=>z(C)),Promise.resolve())}return ar}function Rp(e,t){const s=[],r=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(c=>Es(c,a))?r.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Es(c,l))||n.push(l))}return[s,r,n]}function Cp(){return qe(Xr)}function Vg(e){return qe(wi)}const $p=Gr("friend",()=>{const e=fe([]);return{getFriends:async n=>{const{data:i,error:o}=await ce.from("users").select("friends").eq("id",n).single();return o?(console.error("Error fetching friends:",o),[]):(i&&Array.isArray(i.friends)?e.value=i.friends:e.value=[],e.value)},addFriend:async(n,i)=>{try{const{data:o}=await ce.from("users").select("username").eq("id",i).single(),l=[...Array.isArray(e.value)?e.value:[],{id:i,username:o.username}];await ce.from("users").update({friends:l}).eq("id",n)}catch(o){console.error("Error adding friend:",o)}},removeFriend:async(n,i)=>{try{const o=e.value.filter(f=>f.id!==i),{error:a}=await ce.from("users").update({friends:o}).eq("id",n);if(a)throw new Error(`Ошибка при удалении друга у текущего пользователя: ${a.message}`);const{data:l,error:c}=await ce.from("users").select("friends").eq("id",i).single();if(c)throw new Error(`Ошибка при получении данных друга: ${c.message}`);const u=l.friends.filter(f=>f.id!==n),{error:h}=await ce.from("users").update({friends:u}).eq("id",i);if(h)throw new Error(`Ошибка при удалении текущего пользователя у друга: ${h.message}`);console.log("Друг успешно удален у обоих пользователей.")}catch(o){console.error("Ошибка в функции removeFriend:",o.message)}},friends:e}}),ye=[];for(let e=0;e<256;++e)ye.push((e+256).toString(16).slice(1));function jp(e,t=0){return(ye[e[t+0]]+ye[e[t+1]]+ye[e[t+2]]+ye[e[t+3]]+"-"+ye[e[t+4]]+ye[e[t+5]]+"-"+ye[e[t+6]]+ye[e[t+7]]+"-"+ye[e[t+8]]+ye[e[t+9]]+"-"+ye[e[t+10]]+ye[e[t+11]]+ye[e[t+12]]+ye[e[t+13]]+ye[e[t+14]]+ye[e[t+15]]).toLowerCase()}let bn;const Ip=new Uint8Array(16);function Lp(){if(!bn){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bn=crypto.getRandomValues.bind(crypto)}return bn(Ip)}const Dp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Go={randomUUID:Dp};function Qo(e,t,s){if(Go.randomUUID&&!t&&!e)return Go.randomUUID();e=e||{};const r=e.random||(e.rng||Lp)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jp(r)}const Up=Gr("notice",()=>{const e=fe([]);return{addNotice:async(i,o,a,l)=>{const{data:c}=await ce.from("users").select("notices").eq("id",o).single(),u=c.notices.length>0?[...c.notices,{id:Qo(),sender_id:i,recipient_id:o,message:a,notice_type:l}]:[{id:Qo(),sender_id:i,recipient_id:o,message:a,notice_type:l}];await ce.from("users").update({notices:u}).eq("id",o)},getNotices:async i=>{const{data:o,error:a}=await ce.from("users").select("notices").eq("id",i).single();return e.value=(o==null?void 0:o.notices)||[],(o==null?void 0:o.notices)||[]},removeNotice:async(i,o)=>{const{data:a}=await ce.from("users").select("notices").eq("id",i).single(),l=a.notices.filter(c=>c.id!==o);await ce.from("users").update({notices:l}).eq("id",i)},removeSentNotice:async(i,o)=>{const{data:a}=await ce.from("users").select("notices").eq("id",i).single(),l=a.notices.filter(c=>c.notice_type!=="sentFriend"&&c.sender_id!==o);await ce.from("users").update({notices:l}).eq("id",i)},notices:e}}),Mp=Gr("Chat",()=>{const e=Se(()=>s.user),t=fe([]),s=Zr();return{fetchChats:async()=>{if(!e.value)return;const{data:n,error:i}=await ce.from("chats").select("*").or(`user1_id.eq.${e.value.id},user2_id.eq.${e.value.id}`);if(i)console.error(i);else{for(const o of n)o.user1_name=await s.getUsername(o.user1_id),o.user2_name=await s.getUsername(o.user2_id);t.value=n}},chats:t}});/*! js-cookie v3.0.5 | MIT */function _r(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)e[r]=s[r]}return e}var Np={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function zn(e,t){function s(n,i,o){if(!(typeof document>"u")){o=_r({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=n+"="+e.write(i,n)+a}}function r(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var i=document.cookie?document.cookie.split("; "):[],o={},a=0;a<i.length;a++){var l=i[a].split("="),c=l.slice(1).join("=");try{var u=decodeURIComponent(l[0]);if(o[u]=e.read(c,u),n===u)break}catch{}}return n?o[n]:o}}return Object.create({set:s,get:r,remove:function(n,i){s(n,"",_r({},i,{expires:-1}))},withAttributes:function(n){return zn(this.converter,_r({},this.attributes,n))},withConverter:function(n){return zn(_r({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Ei=zn(Np,{path:"/"});const Zr=Gr("user",()=>{const e=Cp(),t=$p(),s=Up(),r=Mp(),n=fe(""),i=fe(null),o=fe(null),a=fe(null),l=fe(null),c=fe(null),u=fe({}),h=async()=>{try{const A=Fp();if(A)return i.value=A,o.value=i.value.id,a.value=i.value.username,l.value=i.value.birthdate,c.value=i.value.avatar_url,A;const{data:{user:E}}=await ce.auth.getUser();if(!E){n.value="",i.value=null;return}n.value=E.email;const{data:x,error:L}=await ce.from("users").select().eq("email",n.value);if(L)throw L;return i.value=x[0],o.value=i.value.id,a.value=i.value.username,l.value=i.value.birthdate,c.value=i.value.avatar_url,Bp(i.value),console.log("user upload"),i.value}catch(A){console.error("Ошибка при получении пользователя:",A)}},f=async()=>{try{n.value="",await ce.auth.signOut(),i.value=null,Ei.remove("user"),e.push("/"),await h()}catch(A){console.error("Ошибка при выходе:",A)}},g=async A=>{try{const{data:E}=await ce.from("users").select().eq("username",A);return E[0]}catch(E){console.error("Ошибка при получении пользователя по имени:",E)}},_=async(A="")=>{try{const E=ce.from("users").select().neq("email",i.value.email);A&&E.ilike("username",`%${A}%`);const{data:x,error:L}=await E;if(L)throw L;return x}catch(E){return console.error("Ошибка при получении списка пользователей:",E),[]}},b=async A=>{try{if(A===null||A==="")return"https://kawdmbqsvrrmvhymflnx.supabase.co/storage/v1/object/public/avatars/avatars/default-avatar-icon-of-social-media-user-vector.jpg?t=2025-01-08T16%3A42%3A14.026Z";const{data:E,error:x}=await ce.from("users").select("avatar_url").eq("id",A).single();if(x)throw x;return(E==null?void 0:E.avatar_url)||"https://kawdmbqsvrrmvhymflnx.supabase.co/storage/v1/object/public/avatars/avatars/default-avatar-icon-of-social-media-user-vector.jpg?t=2025-01-08T16%3A42%3A14.026Z"}catch(E){console.error("Ошибка при получении аватара:",E)}},T=async A=>{try{if(u.value[A])return u.value[A];const{data:E}=await ce.from("users").select("username").eq("id",A).single();return u.value[A]=E.username,E.username}catch(E){console.error("Ошибка при получении имени пользователя:",E)}},$=async A=>{try{const{data:E,error:x}=await ce.from("users").update({status:A}).eq("id",o.value);if(x)throw x}catch(E){console.error("Ошибка при изменении статуса:",E)}};return Ct(()=>i.value,A=>{A&&(s.getNotices(o.value),t.getFriends(o.value),r.fetchChats())},{immediate:!0}),{getUser:h,logout:f,getUsers:_,getUsername:T,getAvatar:b,changeStatus:$,getUserByUsername:g,username:a,birthdate:l,avatar_url:c,user:i,email:n,user_id:o}}),Fp=()=>{const e=Ei.get("user");return e?JSON.parse(e):null},Bp=e=>{Ei.set("user",JSON.stringify(e),{expires:30})},en=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},Hp={},qp={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};function Vp(e,t){return Be(),$t("svg",qp,t[0]||(t[0]=[ot("circle",{cx:"12",cy:"7",r:"4"},null,-1),ot("path",{d:"M4 21c0-4 4-7 8-7s8 3 8 7"},null,-1)]))}const zp=en(Hp,[["render",Vp]]),Wp={},Kp={xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"32",height:"32",x:"0",y:"0",viewBox:"0 0 48 48",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve",class:""};function Jp(e,t){return Be(),$t("svg",Kp,t[0]||(t[0]=[ot("g",null,[ot("path",{d:"M34.8 27.4c3.4 0 6.2-2.8 6.2-6.2s-2.8-6.3-6.3-6.3c-3.4 0-6.2 2.8-6.2 6.2 0 3.5 2.8 6.3 6.3 6.3-.1 0 0 0 0 0zm-3.3-6.3c0-1.8 1.5-3.2 3.3-3.2s3.2 1.5 3.2 3.3-1.5 3.2-3.2 3.2v1.5-1.5c-1.8 0-3.3-1.5-3.3-3.3zM18.5 21.7c4.6 0 8.3-3.7 8.4-8.3 0-4.6-3.7-8.4-8.4-8.4-4.6 0-8.3 3.7-8.4 8.3 0 2.2.9 4.3 2.4 5.9 1.6 1.6 3.7 2.5 6 2.5-.1 0 0 0 0 0zm-5.4-8.4c0-2.9 2.4-5.3 5.4-5.3s5.4 2.4 5.3 5.4c0 2.9-2.4 5.3-5.4 5.3v1.5-1.5c-1.4 0-2.8-.6-3.8-1.6s-1.5-2.4-1.5-3.8zM.5 41.2c0 .4.1.8.4 1.1s.7.5 1.1.5l32.7.2H46c.4 0 .8-.2 1.1-.5s.4-.7.4-1.1C47.1 35 41.5 30 34.7 30h-.1c-1.3 0-2.5.2-3.7.6-3.2-3-7.7-4.9-12.6-5C9 25.6 1.2 32.5.5 41.2zM34.7 33c4.6 0 8.5 3 9.5 7H36c-.4-2.5-1.4-4.8-2.8-6.8.5-.1 1-.2 1.5-.2zm-16.3-4.4c7.2 0 13.3 4.9 14.6 11.3l-29.3-.1c1.3-6.4 7.5-11.2 14.7-11.2z",fill:"#fff",opacity:"1","data-original":"#000000",class:""})],-1)]))}const Gp=en(Wp,[["render",Jp]]),Qp={},Yp={xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"32",height:"32",x:"0",y:"0",viewBox:"0 0 404.009 404.009",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve",class:""};function Xp(e,t){return Be(),$t("svg",Yp,t[0]||(t[0]=[ju('<g><path d="M46.594 315.11c-13.5 0-26.689-3.445-38.642-10.157-6.15-3.167-8.532-11.091-4.858-17.052 12.207-19.506 16.615-43.35 11.026-65.774C8.327 198.88-.055 179.301.005 154.691.213 68.35 72.078-1.646 158.331.029c83.31 1.678 151.969 71.71 151.97 155.042.001 108.833-114.057 185.243-214.75 143.216-13.879 10.894-31.324 16.823-48.957 16.823zM30.19 288.538c18.968 5.891 40.301 1.185 54.928-12.956a11.998 11.998 0 0 1 13.517-2.199C184.842 314.6 286.301 249.996 286.3 155.071c0-70.834-57.624-129.621-128.452-131.047C84.856 22.574 24.181 81.69 24.005 154.749c-.057 23.375 9.063 42.056 14.047 64.199 5.251 23.335 2.485 48.011-7.862 69.59z" fill="#fff" opacity="1" data-original="#fff" class=""></path><path d="M357.414 404.009c-17.632 0-35.078-5.93-48.955-16.822-53.55 22.349-117.248 12.171-161.155-25.747-5.016-4.332-5.57-11.909-1.239-16.926 4.332-5.015 11.909-5.571 16.925-1.238 38.942 33.63 95.973 41.195 142.384 19.007a11.997 11.997 0 0 1 13.517 2.199c14.626 14.14 35.96 18.849 54.928 12.955-12.206-25.459-13.897-54.626-4.438-81.628.085-.243.178-.482.278-.72 6.908-16.285 10.389-33.593 10.346-51.441-.076-31.468-10.544-60.577-30.274-84.182-4.25-5.086-3.573-12.653 1.512-16.903 5.084-4.251 12.653-3.573 16.903 1.512 23.036 27.561 35.771 62.902 35.859 99.515.051 20.971-4.018 41.323-12.093 60.499-8.482 24.553-4.581 50.842 9.002 72.709 3.677 5.962 1.293 13.887-4.859 17.056-11.951 6.709-25.143 10.154-38.641 10.155z" fill="#fff" opacity="1" data-original="#fff" class=""></path><ellipse cx="155.152" cy="155.669" rx="18.988" ry="18.978" fill="#fff" opacity="1" data-original="#fff" class=""></ellipse><ellipse cx="85.196" cy="155.669" rx="18.988" ry="18.978" fill="#fff" opacity="1" data-original="#fff" class=""></ellipse><ellipse cx="225.109" cy="155.669" rx="18.988" ry="18.978" fill="#fff" opacity="1" data-original="#fff" class=""></ellipse></g>',1)]))}const Zp=en(Qp,[["render",Xp]]),eg={},tg={xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"32",height:"32",x:"0",y:"0",viewBox:"0 0 512 512",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve",class:""};function sg(e,t){return Be(),$t("svg",tg,t[0]||(t[0]=[ot("g",null,[ot("path",{d:"M363.335 488a24 24 0 0 1-24 24H113.082a80.09 80.09 0 0 1-80-80V80a80.09 80.09 0 0 1 80-80h226.253a24 24 0 0 1 0 48H113.082a32.035 32.035 0 0 0-32 32v352a32.034 32.034 0 0 0 32 32h226.253a24 24 0 0 1 24 24zm108.553-248.97L357.837 124.978a24 24 0 1 0-33.937 33.941L396.977 232H208.041a24 24 0 1 0 0 48h188.935l-73.08 73.08a24 24 0 1 0 33.941 33.941l114.051-114.05a24 24 0 0 0 0-33.941z",fill:"#fff",opacity:"1","data-original":"#fff",class:""})],-1)]))}const rg=en(eg,[["render",sg]]),ng={class:"nav__links"},ig={__name:"BaseHeader",setup(e){const t=Zr(),s=fe(Se(()=>t.user)),r=fe([]),n=async()=>{await t.logout()},i=()=>{r.value=s.value!==null?[{path:"/profile/personal",name:"Профиль",icon:gs(zp)},{path:"/friends",name:"Друзья",icon:gs(Gp)},{path:"/chats",name:"Чаты",icon:gs(Zp)},{path:"/notices",name:"Уведомления"}]:[{path:"/login",name:"Вход"},{path:"/register",name:"Регистрация"}]};return nr(i),Ct(s,()=>{i()}),(o,a)=>{const l=Na("router-link");return Be(),$t("header",null,[ot("nav",null,[de(l,{to:"/",class:"nav__logo"},{default:xn(()=>a[0]||(a[0]=[Ar("TogetherTalk")])),_:1}),ot("div",ng,[(Be(!0),$t(tt,null,eu(r.value,c=>(Be(),wr(l,{key:c.name,to:c.path,class:"nav__link"},{default:xn(()=>[(Be(),wr(Ci(c.icon),{class:"nav__icon"})),Ar(" "+la(c.name),1)]),_:2},1032,["to"]))),128)),s.value?(Be(),$t("a",{key:0,onClick:n,class:"nav__link"},[(Be(),wr(Ci(rg))),a[1]||(a[1]=Ar(" Выйти "))])):Iu("",!0)])])])}}},og={class:"container"},ag={__name:"App",setup(e){const t=Zr();return nr(async()=>{await t.getUser()}),(s,r)=>{const n=Na("router-view");return Be(),$t("div",og,[de(ig),de(n)])}}},lg=[{path:"/",name:"Home",component:()=>me(()=>import("./HomePage-BwNucqiT.js"),[])},{path:"/login",name:"Login",component:()=>me(()=>import("./LoginPage-D70BFTQp.js"),__vite__mapDeps([0,1]))},{path:"/register",name:"Register",component:()=>me(()=>import("./RegisterPage-CQcvccQi.js"),__vite__mapDeps([2,1]))},{path:"/profile/personal",name:"PersonalProfile",component:()=>me(()=>import("./PersonalProfilePage-DArx3E4g.js"),__vite__mapDeps([3,1,4]))},{path:"/friends",name:"Friends",component:()=>me(()=>import("./FriendsPage-D-On8di-.js"),__vite__mapDeps([5,6]))},{path:"/profile/:username",name:"Profile",component:()=>me(()=>import("./ProfilePage-ItwmKgu1.js"),__vite__mapDeps([7,8]))},{path:"/notices",name:"Notices",component:()=>me(()=>import("./NoticesPage-DPF1cLtU.js"),__vite__mapDeps([9,10]))},{path:"/chats",component:()=>me(()=>import("./ChatsPage-C6wyps7s.js"),__vite__mapDeps([11,12])),children:[{path:"",components:{sidebar:()=>me(()=>import("./ChatSlideBar-CfChXzOU.js"),__vite__mapDeps([13,14])),default:()=>me(()=>import("./ChatDefault-ClJgaCJE.js"),[])}},{path:":id",components:{sidebar:()=>me(()=>import("./ChatSlideBar-CfChXzOU.js"),__vite__mapDeps([13,14])),default:()=>me(()=>import("./ChatsDetailsPage-DH1WKgQr.js"),__vite__mapDeps([15,16]))},name:"ChatsDetails"}]}],Wl=Pp({history:np(),routes:lg});Wl.beforeEach((e,t,s)=>{const r=e.meta.title||"Мой мессенджер";document.title=r,s()});/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */function Kl(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Wn=Kl(function(e){const t=Object.prototype.toString,s=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;e.exports=(i,...o)=>{if(!n(i))throw new TypeError("expected the first argument to be an object");if(o.length===0||typeof Symbol!="function"||typeof r!="function")return i;for(let a of o){let l=r(a);for(let c of l)s.call(a,c)&&(i[c]=a[c])}return i};function n(i){return typeof i=="function"||t.call(i)==="[object Object]"||Array.isArray(i)}}),Yo=Object.freeze({__proto__:null,default:Wn,__moduleExports:Wn}),cg=Yo&&Wn||Yo,Xo=Kl(function(e){const t=Object.prototype.toString,s=o=>o!=="__proto__"&&o!=="constructor"&&o!=="prototype",r=e.exports=(o,...a)=>{let l=0;for(i(o)&&(o=a[l++]),o||(o={});l<a.length;l++)if(n(a[l])){for(const c of Object.keys(a[l]))s(c)&&(n(o[c])&&n(a[l][c])?r(o[c],a[l][c]):o[c]=a[l][c]);cg(o,a[l])}return o};function n(o){return typeof o=="function"||t.call(o)==="[object Object]"}function i(o){return typeof o=="object"?o===null:typeof o!="function"}});const It=typeof window<"u"&&window!==null,Zo=ug();function ug(){return It&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}const Ht={event:"event",observer:"observer"};function Ds(e,t){if(!e.length)return;const s=e.indexOf(t);if(s>-1)return e.splice(s,1)}function ea(e,t){if(e.tagName!=="IMG"||!e.getAttribute("data-srcset"))return"";let s=e.getAttribute("data-srcset").trim().split(",");const r=[],i=e.parentNode.offsetWidth*t;let o,a,l;s.forEach(h=>{h=h.trim(),o=h.lastIndexOf(" "),o===-1?(a=h,l=99999):(a=h.substr(0,o),l=parseInt(h.substr(o+1,h.length-o-2),10)),r.push([l,a])}),r.sort((h,f)=>{if(h[0]<f[0])return 1;if(h[0]>f[0])return-1;if(h[0]===f[0]){if(f[1].indexOf(".webp",f[1].length-5)!==-1)return 1;if(h[1].indexOf(".webp",h[1].length-5)!==-1)return-1}return 0});let c="",u;for(let h=0;h<r.length;h++){u=r[h],c=u[1];const f=r[h+1];if(f&&f[0]<i){c=u[1];break}else if(!f){c=u[1];break}}return c}const hg=(e=1)=>It&&window.devicePixelRatio||e;function fg(){if(!It)return!1;let e=!0;function t(s,r){const n={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},i=new Image;i.onload=function(){const o=i.width>0&&i.height>0;r(o)},i.onerror=function(){r(!1)},i.src="data:image/webp;base64,"+n[s]}return t("lossy",s=>{e=s}),t("lossless",s=>{e=s}),t("alpha",s=>{e=s}),t("animation",s=>{e=s}),e}function dg(e,t){let s=null,r=0;return function(){if(s)return;const n=Date.now()-r,i=this,o=arguments,a=function(){r=Date.now(),s=!1,e.apply(i,o)};n>=t?a():s=setTimeout(a,t)}}function pg(){if(!It)return!1;let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",Ai,t)}catch{}return e}const gg=pg(),mg={on(e,t,s,r=!1){gg?e.addEventListener(t,s,{capture:r,passive:!0}):e.addEventListener(t,s,r)},off(e,t,s,r=!1){e.removeEventListener(t,s,r)}},Kn=(e,t,s)=>{let r=new Image;if(!e||!e.src){const n=new Error("image src is required");return s(n)}e.cors&&(r.crossOrigin=e.cors),r.src=e.src,r.onload=function(){t({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src}),r=null},r.onerror=function(n){s(n)}},wn=(e,t)=>typeof getComputedStyle<"u"?getComputedStyle(e,null).getPropertyValue(t):e.style[t],_g=e=>wn(e,"overflow")+wn(e,"overflowY")+wn(e,"overflowX"),vg=e=>{if(!It)return;if(!(e instanceof Element))return window;let t=e;for(;t&&!(t===document.body||t===document.documentElement||!t.parentNode);){if(/(scroll|auto)/.test(_g(t)))return t;t=t.parentNode}return window};function yg(e){return e!==null&&typeof e=="object"}function Ai(){}class bg{constructor(t){this.max=t||100,this._caches=[]}has(t){return this._caches.indexOf(t)>-1}add(t){this.has(t)||(this._caches.push(t),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class wg{constructor(t,s,r,n,i,o,a,l,c,u){this.el=t,this.src=s,this.error=r,this.loading=n,this.bindType=i,this.attempt=0,this.cors=l,this.naturalHeight=0,this.naturalWidth=0,this.options=a,this.rect={},this.$parent=o,this.elRenderer=c,this._imageCache=u,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(t){this.performanceData[t]=Date.now()}update(t){const s=this.src;this.src=t.src,this.loading=t.loading,this.error=t.error,this.filter(),s!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const t in this.options.filter)this.options.filter[t](this,this.options)}renderLoading(t){this.state.loading=!0,Kn({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,t()},()=>{t(),this.state.loading=!1,this.options.silent||console.warn(`VueLazyload log: load failed with loading image(${this.loading})`)})}load(t=Ai){if(this.attempt>this.options.attempt-1&&this.state.error){this.options.silent||console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`),t();return}if(!(this.state.rendered&&this.state.loaded)){if(this._imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,t();this.renderLoading(()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),Kn({src:this.src,cors:this.cors},s=>{this.naturalHeight=s.naturalHeight,this.naturalWidth=s.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),t()},s=>{!this.options.silent&&console.error(s),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(t,s){this.elRenderer(this,t,s)}performance(){let t="loading",s=0;return this.state.loaded&&(t="loaded",s=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:s}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const ta="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Eg=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],Ag={rootMargin:"0px",threshold:0};class Sg{constructor({preLoad:t,error:s,throttleWait:r,preLoadTop:n,dispatchEvent:i,loading:o,attempt:a,silent:l=!0,scale:c,listenEvents:u,filter:h,adapter:f,observer:g,observerOptions:_}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=Ht.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:l,dispatchEvent:!!i,throttleWait:r||200,preLoad:t||1.3,preLoadTop:n||0,error:s||ta,loading:o||ta,attempt:a||3,scale:c||hg(c),listenEvents:u||Eg,supportWebp:fg(),filter:h||{},adapter:f||{},observer:!!g,observerOptions:_||Ag},this._initEvent(),this._imageCache=new bg(200),this.lazyLoadHandler=dg(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?Ht.observer:Ht.event)}performance(){const t=[];return this.ListenerQueue.map(s=>t.push(s.performance())),t}addLazyBox(t){this.ListenerQueue.push(t),It&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}add(t,s,r){if(this.ListenerQueue.some(l=>l.el===t))return this.update(t,s),Ot(this.lazyLoadHandler);let{src:n,loading:i,error:o,cors:a}=this._valueFormatter(s.value);Ot(()=>{n=ea(t,this.options.scale)||n,this._observer&&this._observer.observe(t);const l=Object.keys(s.modifiers)[0];let c;l&&(c=s.instance.$refs[l],c=c?c.el||c:document.getElementById(l)),c||(c=vg(t));const u=new wg(t,n,o,i,s.arg,c,this.options,a,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(u),It&&(this._addListenerTarget(window),this._addListenerTarget(c)),Ot(this.lazyLoadHandler)})}update(t,s,r){let{src:n,loading:i,error:o}=this._valueFormatter(s.value);n=ea(t,this.options.scale)||n;const a=this.ListenerQueue.find(l=>l.el===t);a?a.update({src:n,loading:i,error:o}):(t.getAttribute("lazy")!=="loaded"||t.dataset.src!==n)&&this.add(t,s,r),this._observer&&(this._observer.unobserve(t),this._observer.observe(t)),Ot(this.lazyLoadHandler)}remove(t){if(!t)return;this._observer&&this._observer.unobserve(t);const s=this.ListenerQueue.find(r=>r.el===t);s&&(this._removeListenerTarget(s.$parent),this._removeListenerTarget(window),Ds(this.ListenerQueue,s),s.$destroy&&s.$destroy())}removeComponent(t){t&&(Ds(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}setMode(t){!Zo&&t===Ht.observer&&(t=Ht.event),this.mode=t,t===Ht.event?(this._observer&&(this.ListenerQueue.forEach(s=>{this._observer.unobserve(s.el)}),this._observer=null),this.TargetQueue.forEach(s=>{this._initListen(s.el,!0)})):(this.TargetQueue.forEach(s=>{this._initListen(s.el,!1)}),this._initIntersectionObserver())}_addListenerTarget(t){if(!t)return;let s=this.TargetQueue.find(r=>r.el===t);return s?s.childrenCount++:(s={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===Ht.event&&this._initListen(s.el,!0),this.TargetQueue.push(s)),this.TargetIndex}_removeListenerTarget(t){this.TargetQueue.forEach((s,r)=>{s.el===t&&(s.childrenCount--,s.childrenCount||(this._initListen(s.el,!1),this.TargetQueue.splice(r,1),s=null))})}_initListen(t,s){this.options.listenEvents.forEach(r=>mg[s?"on":"off"](t,r,this.lazyLoadHandler))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(t,s)=>{this.Event.listeners[t]||(this.Event.listeners[t]=[]),this.Event.listeners[t].push(s)},this.$once=(t,s)=>{const r=this;function n(){r.$off(t,n),s.apply(r,arguments)}this.$on(t,n)},this.$off=(t,s)=>{if(!s){if(!this.Event.listeners[t])return;this.Event.listeners[t].length=0;return}Ds(this.Event.listeners[t],s)},this.$emit=(t,s,r)=>{this.Event.listeners[t]&&this.Event.listeners[t].forEach(n=>n(s,r))}}_lazyLoadHandler(){const t=[];this.ListenerQueue.forEach((s,r)=>{(!s.el||!s.el.parentNode||s.state.loaded)&&t.push(s),s.checkInView()&&(s.state.loaded||s.load())}),t.forEach(s=>{Ds(this.ListenerQueue,s),s.$destroy&&s.$destroy()})}_initIntersectionObserver(){Zo&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(t=>{this._observer.observe(t.el)}))}_observerHandler(t){t.forEach(s=>{s.isIntersecting&&this.ListenerQueue.forEach(r=>{if(r.el===s.target){if(r.state.loaded)return this._observer.unobserve(r.el);r.load()}})})}_elRenderer(t,s,r){if(!t.el)return;const{el:n,bindType:i}=t;let o;switch(s){case"loading":o=t.loading;break;case"error":o=t.error;break;default:o=t.src;break}if(i?n.style[i]='url("'+o+'")':n.getAttribute("src")!==o&&n.setAttribute("src",o),n.setAttribute("lazy",s),this.$emit(s,t,r),this.options.adapter[s]&&this.options.adapter[s](t,this.options),this.options.dispatchEvent){const a=new CustomEvent(s,{detail:t});n.dispatchEvent(a)}}_valueFormatter(t){return yg(t)?(!t.src&&!this.options.silent&&console.error("Vue Lazyload warning: miss src with "+t),{src:t.src,loading:t.loading||this.options.loading,error:t.error||this.options.error,cors:this.options.cors}):{src:t,loading:this.options.loading,error:this.options.error,cors:this.options.cors}}}const Jl=(e,t)=>{let s=gt({});const r=()=>{s=e.value.getBoundingClientRect()};return{rect:s,checkInView:()=>(r(),It&&s.top<window.innerHeight*t&&s.bottom>0&&s.left<window.innerWidth*t&&s.right>0)}};var kg=e=>Hr({props:{tag:{type:String,default:"div"}},emits:["show"],setup(t,{emit:s,slots:r}){const n=fe(),i=gt({loaded:!1,error:!1,attempt:0}),o=fe(!1),{rect:a,checkInView:l}=Jl(n,e.options.preLoad),c=()=>{o.value=!0,i.loaded=!0,s("show",o.value)},u=Se(()=>({el:n.value,rect:a,checkInView:l,load:c,state:i}));return nr(()=>{e.addLazyBox(u.value),e.lazyLoadHandler()}),Vr(()=>{e.removeComponent(u.value)}),()=>{var h;return de(t.tag,{ref:n},[o.value&&((h=r.default)===null||h===void 0?void 0:h.call(r))])}}});class xg{constructor(t){this.lazy=t,t.lazyContainerMananger=this,this._queue=[]}bind(t,s,r){const n=new Og(t,s,r,this.lazy);this._queue.push(n)}update(t,s,r){const n=this._queue.find(i=>i.el===t);n&&n.update(t,s)}unbind(t,s,r){const n=this._queue.find(i=>i.el===t);n&&(n.clear(),Ds(this._queue,n))}}const Tg={selector:"img",error:"",loading:""};class Og{constructor(t,s,r,n){this.el=t,this.vnode=r,this.binding=s,this.options={},this.lazy=n,this._queue=[],this.update(t,s)}update(t,s){this.el=t,this.options=Xo({},Tg,s.value),this.getImgs().forEach(n=>{this.lazy.add(n,Xo({},this.binding,{value:{src:n.getAttribute("data-src")||n.dataset.src,error:n.getAttribute("data-error")||n.dataset.error||this.options.error,loading:n.getAttribute("data-loading")||n.dataset.loading||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(s=>this.lazy.remove(s)),this.vnode=null,this.binding=null,this.lazy=null}}var Pg=e=>Hr({setup(t,{slots:s}){const r=fe(),n=gt({src:"",error:"",loading:"",attempt:e.options.attempt}),i=gt({loaded:!1,error:!1,attempt:0}),{rect:o,checkInView:a}=Jl(r,e.options.preLoad),l=fe(""),c=(f=Ai)=>{if(i.attempt>n.attempt-1&&i.error)return e.options.silent||console.log(`VueLazyload log: ${n.src} tried too more than ${n.attempt} times`),f();const g=n.src;Kn({src:g},({src:_})=>{l.value=_,i.loaded=!0},()=>{i.attempt++,l.value=n.error,i.error=!0})},u=Se(()=>({el:r.value,rect:o,checkInView:a,load:c,state:i}));nr(()=>{e.addLazyBox(u.value),e.lazyLoadHandler()}),Vr(()=>{e.removeComponent(u.value)});const h=()=>{const{src:f,loading:g,error:_}=e._valueFormatter(t.src);i.loaded=!1,n.src=f,n.error=_,n.loading=g,l.value=n.loading};return Ct(()=>t.src,()=>{h(),e.addLazyBox(u.value),e.lazyLoadHandler()},{immediate:!0}),()=>{var f;return de(t.tag||"img",{src:l.value,ref:r},[(f=s.default)===null||f===void 0?void 0:f.call(s)])}}}),Rg={install(e,t={}){const s=new Sg(t),r=new xg(s);if(Number(e.version.split(".")[0])<3)return new Error("Vue version at least 3.0");e.config.globalProperties.$Lazyload=s,e.provide("Lazyload",s),t.lazyComponent&&e.component("lazy-component",kg(s)),t.lazyImage&&e.component("lazy-image",Pg(s)),e.directive("lazy",{beforeMount:s.add.bind(s),beforeUpdate:s.update.bind(s),updated:s.lazyLoadHandler.bind(s),unmounted:s.remove.bind(s)}),e.directive("lazy-container",{beforeMount:r.bind.bind(r),updated:r.update.bind(r),unmounted:r.unbind.bind(r)})}};const Cg=Eh();vh(ag).use(Cg).use(Wl).use(Rg).mount("#app");const $g=Zr();window.addEventListener("beforeunload",async()=>{await $g.changeStatus("offline")});export{xn as A,Dh as B,Mg as C,Ug as D,gt as E,tt as F,Vr as G,ms as H,Vg as I,en as _,Zr as a,ot as b,$t as c,Gr as d,Se as e,Ig as f,de as g,Dg as h,Iu as i,eu as j,Ar as k,Ct as l,Lg as m,$p as n,Be as o,Up as p,nr as q,fe as r,ce as s,la as t,Cp as u,to as v,jg as w,wr as x,Na as y,Mp as z};
