const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-CKETa9g1.js","assets/PostList-DmzZ6tgL.js","assets/Avatar-Ox8f1Xwj.js","assets/Avatar-BzjOww9j.css","assets/DisplayAvatar-B4vZ9VTa.js","assets/PostList-C2_u3GZo.css","assets/LoginPage-2I4IOdux.js","assets/errors-Dj1Nw3v4.js","assets/RegisterPage-Cwnevy84.js","assets/FriendsPage-Dk4RfcI8.js","assets/FriendsPage-CoOIovj1.css","assets/ProfilePage-CaOi-cqd.js","assets/ProfilePage-xqD8vQ9E.css","assets/NoticesPage-CtfH2fKk.js","assets/NoticesPage-CGA5ohsT.css","assets/SettingsPage-C8NlscsP.js","assets/SettingsPage-CcCY_Xtd.css","assets/ChatsPage-BnSB-SBV.js","assets/ChatsPage-plSvEami.css","assets/ChatSlideBar-CHqILGav.js","assets/ChatSlideBar-QEF6kANX.css","assets/ChatsDetailsPage-FFVsb3Ks.js","assets/ChatsDetailsPage-CInnpR4a.css"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Wn(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const se={},ls=[],rt=()=>{},Wl=()=>!1,Dr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Gn=e=>e.startsWith("onUpdate:"),be=Object.assign,Jn=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},Gl=Object.prototype.hasOwnProperty,Y=(e,t)=>Gl.call(e,t),M=Array.isArray,cs=e=>sr(e)==="[object Map]",vs=e=>sr(e)==="[object Set]",Si=e=>sr(e)==="[object Date]",B=e=>typeof e=="function",he=e=>typeof e=="string",nt=e=>typeof e=="symbol",oe=e=>e!==null&&typeof e=="object",Zo=e=>(oe(e)||B(e))&&B(e.then)&&B(e.catch),ea=Object.prototype.toString,sr=e=>ea.call(e),Jl=e=>sr(e).slice(8,-1),ta=e=>sr(e)==="[object Object]",Qn=e=>he(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ds=Wn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Mr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},Ql=/-(\w)/g,qe=Mr(e=>e.replace(Ql,(t,s)=>s?s.toUpperCase():"")),Yl=/\B([A-Z])/g,jt=Mr(e=>e.replace(Yl,"-$1").toLowerCase()),Nr=Mr(e=>e.charAt(0).toUpperCase()+e.slice(1)),tn=Mr(e=>e?`on${Nr(e)}`:""),Ot=(e,t)=>!Object.is(e,t),yr=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},sa=(e,t,s,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:s})},xr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Ai;const Fr=()=>Ai||(Ai=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Yn(e){if(M(e)){const t={};for(let s=0;s<e.length;s++){const r=e[s],n=he(r)?tc(r):Yn(r);if(n)for(const i in n)t[i]=n[i]}return t}else if(he(e)||oe(e))return e}const Xl=/;(?![^(]*\))/g,Zl=/:([^]+)/,ec=/\/\*[^]*?\*\//g;function tc(e){const t={};return e.replace(ec,"").split(Xl).forEach(s=>{if(s){const r=s.split(Zl);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Xn(e){let t="";if(he(e))t=e;else if(M(e))for(let s=0;s<e.length;s++){const r=Xn(e[s]);r&&(t+=r+" ")}else if(oe(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const sc="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rc=Wn(sc);function ra(e){return!!e||e===""}function nc(e,t){if(e.length!==t.length)return!1;let s=!0;for(let r=0;s&&r<e.length;r++)s=Gt(e[r],t[r]);return s}function Gt(e,t){if(e===t)return!0;let s=Si(e),r=Si(t);if(s||r)return s&&r?e.getTime()===t.getTime():!1;if(s=nt(e),r=nt(t),s||r)return e===t;if(s=M(e),r=M(t),s||r)return s&&r?nc(e,t):!1;if(s=oe(e),r=oe(t),s||r){if(!s||!r)return!1;const n=Object.keys(e).length,i=Object.keys(t).length;if(n!==i)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!Gt(e[o],t[o]))return!1}}return String(e)===String(t)}function Zn(e,t){return e.findIndex(s=>Gt(s,t))}const na=e=>!!(e&&e.__v_isRef===!0),ia=e=>he(e)?e:e==null?"":M(e)||oe(e)&&(e.toString===ea||!B(e.toString))?na(e)?ia(e.value):JSON.stringify(e,oa,2):String(e),oa=(e,t)=>na(t)?oa(e,t.value):cs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[r,n],i)=>(s[sn(r,i)+" =>"]=n,s),{})}:vs(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>sn(s))}:nt(t)?sn(t):oe(t)&&!M(t)&&!ta(t)?String(t):t,sn=(e,t="")=>{var s;return nt(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ae;class aa{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ae,!t&&Ae&&(this.index=(Ae.scopes||(Ae.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=Ae;try{return Ae=this,t()}finally{Ae=s}}}on(){Ae=this}off(){Ae=this.parent}stop(t){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function la(e){return new aa(e)}function ca(){return Ae}function ic(e,t=!1){Ae&&Ae.cleanups.push(e)}let ie;const rn=new WeakSet;class ua{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ae&&Ae.active&&Ae.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,rn.has(this)&&(rn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||fa(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,ki(this),da(this);const t=ie,s=Ke;ie=this,Ke=!0;try{return this.fn()}finally{pa(this),ie=t,Ke=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)si(t);this.deps=this.depsTail=void 0,ki(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?rn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bn(this)&&this.run()}get dirty(){return bn(this)}}let ha=0,Ms,Ns;function fa(e,t=!1){if(e.flags|=8,t){e.next=Ns,Ns=e;return}e.next=Ms,Ms=e}function ei(){ha++}function ti(){if(--ha>0)return;if(Ns){let t=Ns;for(Ns=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;Ms;){let t=Ms;for(Ms=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=s}}if(e)throw e}function da(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function pa(e){let t,s=e.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),si(r),oc(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}e.deps=t,e.depsTail=s}function bn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(ga(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function ga(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Gs))return;e.globalVersion=Gs;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!bn(e)){e.flags&=-3;return}const s=ie,r=Ke;ie=e,Ke=!0;try{da(e);const n=e.fn(e._value);(t.version===0||Ot(n,e._value))&&(e._value=n,t.version++)}catch(n){throw t.version++,n}finally{ie=s,Ke=r,pa(e),e.flags&=-3}}function si(e,t=!1){const{dep:s,prevSub:r,nextSub:n}=e;if(r&&(r.nextSub=n,e.prevSub=void 0),n&&(n.prevSub=r,e.nextSub=void 0),s.subs===e&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)si(i,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function oc(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ke=!0;const ma=[];function Lt(){ma.push(Ke),Ke=!1}function Ut(){const e=ma.pop();Ke=e===void 0?!0:e}function ki(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=ie;ie=void 0;try{t()}finally{ie=s}}}let Gs=0;class ac{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ri{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!ie||!Ke||ie===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==ie)s=this.activeLink=new ac(ie,this),ie.deps?(s.prevDep=ie.depsTail,ie.depsTail.nextDep=s,ie.depsTail=s):ie.deps=ie.depsTail=s,_a(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=ie.depsTail,s.nextDep=void 0,ie.depsTail.nextDep=s,ie.depsTail=s,ie.deps===s&&(ie.deps=r)}return s}trigger(t){this.version++,Gs++,this.notify(t)}notify(t){ei();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{ti()}}}function _a(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)_a(r)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const Cr=new WeakMap,Kt=Symbol(""),En=Symbol(""),Js=Symbol("");function ye(e,t,s){if(Ke&&ie){let r=Cr.get(e);r||Cr.set(e,r=new Map);let n=r.get(s);n||(r.set(s,n=new ri),n.map=r,n.key=s),n.track()}}function ft(e,t,s,r,n,i){const o=Cr.get(e);if(!o){Gs++;return}const a=l=>{l&&l.trigger()};if(ei(),t==="clear")o.forEach(a);else{const l=M(e),u=l&&Qn(s);if(l&&s==="length"){const c=Number(r);o.forEach((h,f)=>{(f==="length"||f===Js||!nt(f)&&f>=c)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),u&&a(o.get(Js)),t){case"add":l?u&&a(o.get("length")):(a(o.get(Kt)),cs(e)&&a(o.get(En)));break;case"delete":l||(a(o.get(Kt)),cs(e)&&a(o.get(En)));break;case"set":cs(e)&&a(o.get(Kt));break}}ti()}function lc(e,t){const s=Cr.get(e);return s&&s.get(t)}function ts(e){const t=G(e);return t===e?t:(ye(t,"iterate",Js),Fe(e)?t:t.map(we))}function Br(e){return ye(e=G(e),"iterate",Js),e}const cc={__proto__:null,[Symbol.iterator](){return nn(this,Symbol.iterator,we)},concat(...e){return ts(this).concat(...e.map(t=>M(t)?ts(t):t))},entries(){return nn(this,"entries",e=>(e[1]=we(e[1]),e))},every(e,t){return lt(this,"every",e,t,void 0,arguments)},filter(e,t){return lt(this,"filter",e,t,s=>s.map(we),arguments)},find(e,t){return lt(this,"find",e,t,we,arguments)},findIndex(e,t){return lt(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return lt(this,"findLast",e,t,we,arguments)},findLastIndex(e,t){return lt(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return lt(this,"forEach",e,t,void 0,arguments)},includes(...e){return on(this,"includes",e)},indexOf(...e){return on(this,"indexOf",e)},join(e){return ts(this).join(e)},lastIndexOf(...e){return on(this,"lastIndexOf",e)},map(e,t){return lt(this,"map",e,t,void 0,arguments)},pop(){return bs(this,"pop")},push(...e){return bs(this,"push",e)},reduce(e,...t){return xi(this,"reduce",e,t)},reduceRight(e,...t){return xi(this,"reduceRight",e,t)},shift(){return bs(this,"shift")},some(e,t){return lt(this,"some",e,t,void 0,arguments)},splice(...e){return bs(this,"splice",e)},toReversed(){return ts(this).toReversed()},toSorted(e){return ts(this).toSorted(e)},toSpliced(...e){return ts(this).toSpliced(...e)},unshift(...e){return bs(this,"unshift",e)},values(){return nn(this,"values",we)}};function nn(e,t,s){const r=Br(e),n=r[t]();return r!==e&&!Fe(e)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const uc=Array.prototype;function lt(e,t,s,r,n,i){const o=Br(e),a=o!==e&&!Fe(e),l=o[t];if(l!==uc[t]){const h=l.apply(e,i);return a?we(h):h}let u=s;o!==e&&(a?u=function(h,f){return s.call(this,we(h),f,e)}:s.length>2&&(u=function(h,f){return s.call(this,h,f,e)}));const c=l.call(o,u,r);return a&&n?n(c):c}function xi(e,t,s,r){const n=Br(e);let i=s;return n!==e&&(Fe(e)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,e)}):i=function(o,a,l){return s.call(this,o,we(a),l,e)}),n[t](i,...r)}function on(e,t,s){const r=G(e);ye(r,"iterate",Js);const n=r[t](...s);return(n===-1||n===!1)&&oi(s[0])?(s[0]=G(s[0]),r[t](...s)):n}function bs(e,t,s=[]){Lt(),ei();const r=G(e)[t].apply(e,s);return ti(),Ut(),r}const hc=Wn("__proto__,__v_isRef,__isVue"),va=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(nt));function fc(e){nt(e)||(e=String(e));const t=G(this);return ye(t,"has",e),t.hasOwnProperty(e)}class ya{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,r){if(s==="__v_skip")return t.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?Ec:Sa:i?Ea:ba).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const o=M(t);if(!n){let l;if(o&&(l=cc[s]))return l;if(s==="hasOwnProperty")return fc}const a=Reflect.get(t,s,ue(t)?t:r);return(nt(s)?va.has(s):hc(s))||(n||ye(t,"get",s),i)?a:ue(a)?o&&Qn(s)?a:a.value:oe(a)?n?ka(a):it(a):a}}class wa extends ya{constructor(t=!1){super(!1,t)}set(t,s,r,n){let i=t[s];if(!this._isShallow){const l=Jt(i);if(!Fe(r)&&!Jt(r)&&(i=G(i),r=G(r)),!M(t)&&ue(i)&&!ue(r))return l?!1:(i.value=r,!0)}const o=M(t)&&Qn(s)?Number(s)<t.length:Y(t,s),a=Reflect.set(t,s,r,ue(t)?t:n);return t===G(n)&&(o?Ot(r,i)&&ft(t,"set",s,r):ft(t,"add",s,r)),a}deleteProperty(t,s){const r=Y(t,s);t[s];const n=Reflect.deleteProperty(t,s);return n&&r&&ft(t,"delete",s,void 0),n}has(t,s){const r=Reflect.has(t,s);return(!nt(s)||!va.has(s))&&ye(t,"has",s),r}ownKeys(t){return ye(t,"iterate",M(t)?"length":Kt),Reflect.ownKeys(t)}}class dc extends ya{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const pc=new wa,gc=new dc,mc=new wa(!0);const Sn=e=>e,cr=e=>Reflect.getPrototypeOf(e);function _c(e,t,s){return function(...r){const n=this.__v_raw,i=G(n),o=cs(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=n[e](...r),c=s?Sn:t?An:we;return!t&&ye(i,"iterate",l?En:Kt),{next(){const{value:h,done:f}=u.next();return f?{value:h,done:f}:{value:a?[c(h[0]),c(h[1])]:c(h),done:f}},[Symbol.iterator](){return this}}}}function ur(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function vc(e,t){const s={get(n){const i=this.__v_raw,o=G(i),a=G(n);e||(Ot(n,a)&&ye(o,"get",n),ye(o,"get",a));const{has:l}=cr(o),u=t?Sn:e?An:we;if(l.call(o,n))return u(i.get(n));if(l.call(o,a))return u(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!e&&ye(G(n),"iterate",Kt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=G(i),a=G(n);return e||(Ot(n,a)&&ye(o,"has",n),ye(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=G(a),u=t?Sn:e?An:we;return!e&&ye(l,"iterate",Kt),a.forEach((c,h)=>n.call(i,u(c),u(h),o))}};return be(s,e?{add:ur("add"),set:ur("set"),delete:ur("delete"),clear:ur("clear")}:{add(n){!t&&!Fe(n)&&!Jt(n)&&(n=G(n));const i=G(this);return cr(i).has.call(i,n)||(i.add(n),ft(i,"add",n,n)),this},set(n,i){!t&&!Fe(i)&&!Jt(i)&&(i=G(i));const o=G(this),{has:a,get:l}=cr(o);let u=a.call(o,n);u||(n=G(n),u=a.call(o,n));const c=l.call(o,n);return o.set(n,i),u?Ot(i,c)&&ft(o,"set",n,i):ft(o,"add",n,i),this},delete(n){const i=G(this),{has:o,get:a}=cr(i);let l=o.call(i,n);l||(n=G(n),l=o.call(i,n)),a&&a.call(i,n);const u=i.delete(n);return l&&ft(i,"delete",n,void 0),u},clear(){const n=G(this),i=n.size!==0,o=n.clear();return i&&ft(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=_c(n,e,t)}),s}function ni(e,t){const s=vc(e,t);return(r,n,i)=>n==="__v_isReactive"?!e:n==="__v_isReadonly"?e:n==="__v_raw"?r:Reflect.get(Y(s,n)&&n in r?s:r,n,i)}const yc={get:ni(!1,!1)},wc={get:ni(!1,!0)},bc={get:ni(!0,!1)};const ba=new WeakMap,Ea=new WeakMap,Sa=new WeakMap,Ec=new WeakMap;function Sc(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ac(e){return e.__v_skip||!Object.isExtensible(e)?0:Sc(Jl(e))}function it(e){return Jt(e)?e:ii(e,!1,pc,yc,ba)}function Aa(e){return ii(e,!1,mc,wc,Ea)}function ka(e){return ii(e,!0,gc,bc,Sa)}function ii(e,t,s,r,n){if(!oe(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=n.get(e);if(i)return i;const o=Ac(e);if(o===0)return e;const a=new Proxy(e,o===2?r:s);return n.set(e,a),a}function Pt(e){return Jt(e)?Pt(e.__v_raw):!!(e&&e.__v_isReactive)}function Jt(e){return!!(e&&e.__v_isReadonly)}function Fe(e){return!!(e&&e.__v_isShallow)}function oi(e){return e?!!e.__v_raw:!1}function G(e){const t=e&&e.__v_raw;return t?G(t):e}function zt(e){return!Y(e,"__v_skip")&&Object.isExtensible(e)&&sa(e,"__v_skip",!0),e}const we=e=>oe(e)?it(e):e,An=e=>oe(e)?ka(e):e;function ue(e){return e?e.__v_isRef===!0:!1}function Ve(e){return xa(e,!1)}function kc(e){return xa(e,!0)}function xa(e,t){return ue(e)?e:new xc(e,t)}class xc{constructor(t,s){this.dep=new ri,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:G(t),this._value=s?t:we(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,r=this.__v_isShallow||Fe(t)||Jt(t);t=r?t:G(t),Ot(t,s)&&(this._rawValue=t,this._value=r?t:we(t),this.dep.trigger())}}function us(e){return ue(e)?e.value:e}const Cc={get:(e,t,s)=>t==="__v_raw"?e:us(Reflect.get(e,t,s)),set:(e,t,s,r)=>{const n=e[t];return ue(n)&&!ue(s)?(n.value=s,!0):Reflect.set(e,t,s,r)}};function Ca(e){return Pt(e)?e:new Proxy(e,Cc)}function Tc(e){const t=M(e)?new Array(e.length):{};for(const s in e)t[s]=Pc(e,s);return t}class Oc{constructor(t,s,r){this._object=t,this._key=s,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return lc(G(this._object),this._key)}}function Pc(e,t,s){const r=e[t];return ue(r)?r:new Oc(e,t,s)}class Rc{constructor(t,s,r){this.fn=t,this.setter=s,this._value=void 0,this.dep=new ri(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Gs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&ie!==this)return fa(this,!0),!0}get value(){const t=this.dep.track();return ga(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function $c(e,t,s=!1){let r,n;return B(e)?r=e:(r=e.get,n=e.set),new Rc(r,n,s)}const hr={},Tr=new WeakMap;let Ht;function Ic(e,t=!1,s=Ht){if(s){let r=Tr.get(s);r||Tr.set(s,r=[]),r.push(e)}}function jc(e,t,s=se){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,u=C=>n?C:Fe(C)||n===!1||n===0?dt(C,1):dt(C);let c,h,f,p,_=!1,E=!1;if(ue(e)?(h=()=>e.value,_=Fe(e)):Pt(e)?(h=()=>u(e),_=!0):M(e)?(E=!0,_=e.some(C=>Pt(C)||Fe(C)),h=()=>e.map(C=>{if(ue(C))return C.value;if(Pt(C))return u(C);if(B(C))return l?l(C,2):C()})):B(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){Lt();try{f()}finally{Ut()}}const C=Ht;Ht=c;try{return l?l(e,3,[p]):e(p)}finally{Ht=C}}:h=rt,t&&n){const C=h,U=n===!0?1/0:n;h=()=>dt(C(),U)}const A=ca(),$=()=>{c.stop(),A&&A.active&&Jn(A.effects,c)};if(i&&t){const C=t;t=(...U)=>{C(...U),$()}}let I=E?new Array(e.length).fill(hr):hr;const P=C=>{if(!(!(c.flags&1)||!c.dirty&&!C))if(t){const U=c.run();if(n||_||(E?U.some((de,X)=>Ot(de,I[X])):Ot(U,I))){f&&f();const de=Ht;Ht=c;try{const X=[U,I===hr?void 0:E&&I[0]===hr?[]:I,p];l?l(t,3,X):t(...X),I=U}finally{Ht=de}}}else c.run()};return a&&a(P),c=new ua(h),c.scheduler=o?()=>o(P,!1):P,p=C=>Ic(C,!1,c),f=c.onStop=()=>{const C=Tr.get(c);if(C){if(l)l(C,4);else for(const U of C)U();Tr.delete(c)}},t?r?P(!0):I=c.run():o?o(P.bind(null,!0),!0):c.run(),$.pause=c.pause.bind(c),$.resume=c.resume.bind(c),$.stop=$,$}function dt(e,t=1/0,s){if(t<=0||!oe(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ue(e))dt(e.value,t,s);else if(M(e))for(let r=0;r<e.length;r++)dt(e[r],t,s);else if(vs(e)||cs(e))e.forEach(r=>{dt(r,t,s)});else if(ta(e)){for(const r in e)dt(e[r],t,s);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&dt(e[r],t,s)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function rr(e,t,s,r){try{return r?e(...r):e()}catch(n){Hr(n,t,s)}}function ot(e,t,s,r){if(B(e)){const n=rr(e,t,s,r);return n&&Zo(n)&&n.catch(i=>{Hr(i,t,s)}),n}if(M(e)){const n=[];for(let i=0;i<e.length;i++)n.push(ot(e[i],t,s,r));return n}}function Hr(e,t,s,r=!0){const n=t?t.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||se;if(t){let a=t.parent;const l=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const c=a.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,l,u)===!1)return}a=a.parent}if(i){Lt(),rr(i,null,10,[e,l,u]),Ut();return}}Lc(e,s,n,r,o)}function Lc(e,t,s,r=!0,n=!1){if(n)throw e;console.error(e)}const ke=[];let et=-1;const hs=[];let St=null,os=0;const Ta=Promise.resolve();let Or=null;function Tt(e){const t=Or||Ta;return e?t.then(this?e.bind(this):e):t}function Uc(e){let t=et+1,s=ke.length;for(;t<s;){const r=t+s>>>1,n=ke[r],i=Qs(n);i<e||i===e&&n.flags&2?t=r+1:s=r}return t}function ai(e){if(!(e.flags&1)){const t=Qs(e),s=ke[ke.length-1];!s||!(e.flags&2)&&t>=Qs(s)?ke.push(e):ke.splice(Uc(t),0,e),e.flags|=1,Oa()}}function Oa(){Or||(Or=Ta.then(Ra))}function Dc(e){M(e)?hs.push(...e):St&&e.id===-1?St.splice(os+1,0,e):e.flags&1||(hs.push(e),e.flags|=1),Oa()}function Ci(e,t,s=et+1){for(;s<ke.length;s++){const r=ke[s];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;ke.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Pa(e){if(hs.length){const t=[...new Set(hs)].sort((s,r)=>Qs(s)-Qs(r));if(hs.length=0,St){St.push(...t);return}for(St=t,os=0;os<St.length;os++){const s=St[os];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}St=null,os=0}}const Qs=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ra(e){try{for(et=0;et<ke.length;et++){const t=ke[et];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rr(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;et<ke.length;et++){const t=ke[et];t&&(t.flags&=-2)}et=-1,ke.length=0,Pa(),Or=null,(ke.length||hs.length)&&Ra()}}let Pe=null,$a=null;function Pr(e){const t=Pe;return Pe=e,$a=e&&e.type.__scopeId||null,t}function kn(e,t=Pe,s){if(!t||e._n)return e;const r=(...n)=>{r._d&&Mi(-1);const i=Pr(t);let o;try{o=e(...n)}finally{Pr(i),r._d&&Mi(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Ug(e,t){if(Pe===null)return e;const s=Gr(Pe),r=e.dirs||(e.dirs=[]);for(let n=0;n<t.length;n++){let[i,o,a,l=se]=t[n];i&&(B(i)&&(i={mounted:i,updated:i}),i.deep&&dt(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function Mt(e,t,s,r){const n=e.dirs,i=t&&t.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(Lt(),ot(l,s,8,[e.el,a,e,t]),Ut())}}const Mc=Symbol("_vte"),Nc=e=>e.__isTeleport;function li(e,t){e.shapeFlag&6&&e.component?(e.transition=t,li(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function qr(e,t){return B(e)?be({name:e.name},t,{setup:e}):e}function Ia(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Rr(e,t,s,r,n=!1){if(M(e)){e.forEach((_,E)=>Rr(_,t&&(M(t)?t[E]:t),s,r,n));return}if(Fs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Rr(e,t,s,r.component.subTree);return}const i=r.shapeFlag&4?Gr(r.component):r.el,o=n?null:i,{i:a,r:l}=e,u=t&&t.r,c=a.refs===se?a.refs={}:a.refs,h=a.setupState,f=G(h),p=h===se?()=>!1:_=>Y(f,_);if(u!=null&&u!==l&&(he(u)?(c[u]=null,p(u)&&(h[u]=null)):ue(u)&&(u.value=null)),B(l))rr(l,a,12,[o,c]);else{const _=he(l),E=ue(l);if(_||E){const A=()=>{if(e.f){const $=_?p(l)?h[l]:c[l]:l.value;n?M($)&&Jn($,i):M($)?$.includes(i)||$.push(i):_?(c[l]=[i],p(l)&&(h[l]=c[l])):(l.value=[i],e.k&&(c[e.k]=l.value))}else _?(c[l]=o,p(l)&&(h[l]=o)):E&&(l.value=o,e.k&&(c[e.k]=o))};o?(A.id=-1,Le(A,s)):A()}}}Fr().requestIdleCallback;Fr().cancelIdleCallback;const Fs=e=>!!e.type.__asyncLoader,ja=e=>e.type.__isKeepAlive;function Fc(e,t){La(e,"a",t)}function Bc(e,t){La(e,"da",t)}function La(e,t,s=ve){const r=e.__wdc||(e.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return e()});if(Vr(t,r,s),s){let n=s.parent;for(;n&&n.parent;)ja(n.parent.vnode)&&Hc(r,t,s,n),n=n.parent}}function Hc(e,t,s,r){const n=Vr(t,e,r,!0);zr(()=>{Jn(r[t],n)},s)}function Vr(e,t,s=ve,r=!1){if(s){const n=s[e]||(s[e]=[]),i=t.__weh||(t.__weh=(...o)=>{Lt();const a=ir(s),l=ot(t,s,e,o);return a(),Ut(),l});return r?n.unshift(i):n.push(i),i}}const mt=e=>(t,s=ve)=>{(!Xs||e==="sp")&&Vr(e,(...r)=>t(...r),s)},qc=mt("bm"),nr=mt("m"),Vc=mt("bu"),zc=mt("u"),Kc=mt("bum"),zr=mt("um"),Wc=mt("sp"),Gc=mt("rtg"),Jc=mt("rtc");function Qc(e,t=ve){Vr("ec",e,t)}const ci="components",Yc="directives";function Ua(e,t){return ui(ci,e,!0,t)||e}const Da=Symbol.for("v-ndc");function Ti(e){return he(e)?ui(ci,e,!1)||e:e||Da}function Dg(e){return ui(Yc,e)}function ui(e,t,s=!0,r=!1){const n=Pe||ve;if(n){const i=n.type;if(e===ci){const a=Bu(i,!1);if(a&&(a===t||a===qe(t)||a===Nr(qe(t))))return i}const o=Oi(n[e]||i[e],t)||Oi(n.appContext[e],t);return!o&&r?i:o}}function Oi(e,t){return e&&(e[t]||e[qe(t)]||e[Nr(qe(t))])}function Xc(e,t,s,r){let n;const i=s,o=M(e);if(o||he(e)){const a=o&&Pt(e);let l=!1;a&&(l=!Fe(e),e=Br(e)),n=new Array(e.length);for(let u=0,c=e.length;u<c;u++)n[u]=t(l?we(e[u]):e[u],u,void 0,i)}else if(typeof e=="number"){n=new Array(e);for(let a=0;a<e;a++)n[a]=t(a+1,a,void 0,i)}else if(oe(e))if(e[Symbol.iterator])n=Array.from(e,(a,l)=>t(a,l,void 0,i));else{const a=Object.keys(e);n=new Array(a.length);for(let l=0,u=a.length;l<u;l++){const c=a[l];n[l]=t(e[c],c,l,i)}}else n=[];return n}const xn=e=>e?nl(e)?Gr(e):xn(e.parent):null,Bs=be(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>xn(e.parent),$root:e=>xn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Na(e),$forceUpdate:e=>e.f||(e.f=()=>{ai(e.update)}),$nextTick:e=>e.n||(e.n=Tt.bind(e.proxy)),$watch:e=>wu.bind(e)}),an=(e,t)=>e!==se&&!e.__isScriptSetup&&Y(e,t),Zc={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return n[t];case 4:return s[t];case 3:return i[t]}else{if(an(r,t))return o[t]=1,r[t];if(n!==se&&Y(n,t))return o[t]=2,n[t];if((u=e.propsOptions[0])&&Y(u,t))return o[t]=3,i[t];if(s!==se&&Y(s,t))return o[t]=4,s[t];Cn&&(o[t]=0)}}const c=Bs[t];let h,f;if(c)return t==="$attrs"&&ye(e.attrs,"get",""),c(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==se&&Y(s,t))return o[t]=4,s[t];if(f=l.config.globalProperties,Y(f,t))return f[t]},set({_:e},t,s){const{data:r,setupState:n,ctx:i}=e;return an(n,t)?(n[t]=s,!0):r!==se&&Y(r,t)?(r[t]=s,!0):Y(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||e!==se&&Y(e,o)||an(t,o)||(a=i[0])&&Y(a,o)||Y(r,o)||Y(Bs,o)||Y(n.config.globalProperties,o)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Y(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Pi(e){return M(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Cn=!0;function eu(e){const t=Na(e),s=e.proxy,r=e.ctx;Cn=!1,t.beforeCreate&&Ri(t.beforeCreate,e,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:h,mounted:f,beforeUpdate:p,updated:_,activated:E,deactivated:A,beforeDestroy:$,beforeUnmount:I,destroyed:P,unmounted:C,render:U,renderTracked:de,renderTriggered:X,errorCaptured:V,serverPrefetch:z,expose:le,inheritAttrs:Ee,components:$e,directives:xe,filters:Dt}=t;if(u&&tu(u,r,null),o)for(const H in o){const J=o[H];B(J)&&(r[H]=J.bind(s))}if(n){const H=n.call(s,s);oe(H)&&(e.data=it(H))}if(Cn=!0,i)for(const H in i){const J=i[H],at=B(J)?J.bind(s,s):B(J.get)?J.get.bind(s,s):rt,vt=!B(J)&&B(J.set)?J.set.bind(s):rt,Ge=ce({get:at,set:vt});Object.defineProperty(r,H,{enumerable:!0,configurable:!0,get:()=>Ge.value,set:Ce=>Ge.value=Ce})}if(a)for(const H in a)Ma(a[H],r,s,H);if(l){const H=B(l)?l.call(s):l;Reflect.ownKeys(H).forEach(J=>{wr(J,H[J])})}c&&Ri(c,e,"c");function ae(H,J){M(J)?J.forEach(at=>H(at.bind(s))):J&&H(J.bind(s))}if(ae(qc,h),ae(nr,f),ae(Vc,p),ae(zc,_),ae(Fc,E),ae(Bc,A),ae(Qc,V),ae(Jc,de),ae(Gc,X),ae(Kc,I),ae(zr,C),ae(Wc,z),M(le))if(le.length){const H=e.exposed||(e.exposed={});le.forEach(J=>{Object.defineProperty(H,J,{get:()=>s[J],set:at=>s[J]=at})})}else e.exposed||(e.exposed={});U&&e.render===rt&&(e.render=U),Ee!=null&&(e.inheritAttrs=Ee),$e&&(e.components=$e),xe&&(e.directives=xe),z&&Ia(e)}function tu(e,t,s=rt){M(e)&&(e=Tn(e));for(const r in e){const n=e[r];let i;oe(n)?"default"in n?i=Be(n.from||r,n.default,!0):i=Be(n.from||r):i=Be(n),ue(i)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):t[r]=i}}function Ri(e,t,s){ot(M(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ma(e,t,s,r){let n=r.includes(".")?Za(s,r):()=>s[r];if(he(e)){const i=t[e];B(i)&&Rt(n,i)}else if(B(e))Rt(n,e.bind(s));else if(oe(e))if(M(e))e.forEach(i=>Ma(i,t,s,r));else{const i=B(e.handler)?e.handler.bind(s):t[e.handler];B(i)&&Rt(n,i,e)}}function Na(e){const t=e.type,{mixins:s,extends:r}=t,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=e.appContext,a=i.get(t);let l;return a?l=a:!n.length&&!s&&!r?l=t:(l={},n.length&&n.forEach(u=>$r(l,u,o,!0)),$r(l,t,o)),oe(t)&&i.set(t,l),l}function $r(e,t,s,r=!1){const{mixins:n,extends:i}=t;i&&$r(e,i,s,!0),n&&n.forEach(o=>$r(e,o,s,!0));for(const o in t)if(!(r&&o==="expose")){const a=su[o]||s&&s[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const su={data:$i,props:Ii,emits:Ii,methods:Is,computed:Is,beforeCreate:Se,created:Se,beforeMount:Se,mounted:Se,beforeUpdate:Se,updated:Se,beforeDestroy:Se,beforeUnmount:Se,destroyed:Se,unmounted:Se,activated:Se,deactivated:Se,errorCaptured:Se,serverPrefetch:Se,components:Is,directives:Is,watch:nu,provide:$i,inject:ru};function $i(e,t){return t?e?function(){return be(B(e)?e.call(this,this):e,B(t)?t.call(this,this):t)}:t:e}function ru(e,t){return Is(Tn(e),Tn(t))}function Tn(e){if(M(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function Se(e,t){return e?[...new Set([].concat(e,t))]:t}function Is(e,t){return e?be(Object.create(null),e,t):t}function Ii(e,t){return e?M(e)&&M(t)?[...new Set([...e,...t])]:be(Object.create(null),Pi(e),Pi(t??{})):t}function nu(e,t){if(!e)return t;if(!t)return e;const s=be(Object.create(null),e);for(const r in t)s[r]=Se(e[r],t[r]);return s}function Fa(){return{app:null,config:{isNativeTag:Wl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let iu=0;function ou(e,t){return function(r,n=null){B(r)||(r=be({},r)),n!=null&&!oe(n)&&(n=null);const i=Fa(),o=new WeakSet,a=[];let l=!1;const u=i.app={_uid:iu++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:qu,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&B(c.install)?(o.add(c),c.install(u,...h)):B(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,f){if(!l){const p=u._ceVNode||fe(r,n);return p.appContext=i,f===!0?f="svg":f===!1&&(f=void 0),e(p,c,f),l=!0,u._container=c,c.__vue_app__=u,Gr(p.component)}},onUnmount(c){a.push(c)},unmount(){l&&(ot(a,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){const h=Wt;Wt=u;try{return c()}finally{Wt=h}}};return u}}let Wt=null;function wr(e,t){if(ve){let s=ve.provides;const r=ve.parent&&ve.parent.provides;r===s&&(s=ve.provides=Object.create(r)),s[e]=t}}function Be(e,t,s=!1){const r=ve||Pe;if(r||Wt){const n=Wt?Wt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&e in n)return n[e];if(arguments.length>1)return s&&B(t)?t.call(r&&r.proxy):t}}function au(){return!!(ve||Pe||Wt)}const Ba={},Ha=()=>Object.create(Ba),qa=e=>Object.getPrototypeOf(e)===Ba;function lu(e,t,s,r=!1){const n={},i=Ha();e.propsDefaults=Object.create(null),Va(e,t,n,i);for(const o in e.propsOptions[0])o in n||(n[o]=void 0);s?e.props=r?n:Aa(n):e.type.props?e.props=n:e.props=i,e.attrs=i}function cu(e,t,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=e,a=G(n),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let h=0;h<c.length;h++){let f=c[h];if(Kr(e.emitsOptions,f))continue;const p=t[f];if(l)if(Y(i,f))p!==i[f]&&(i[f]=p,u=!0);else{const _=qe(f);n[_]=On(l,a,_,p,e,!1)}else p!==i[f]&&(i[f]=p,u=!0)}}}else{Va(e,t,n,i)&&(u=!0);let c;for(const h in a)(!t||!Y(t,h)&&((c=jt(h))===h||!Y(t,c)))&&(l?s&&(s[h]!==void 0||s[c]!==void 0)&&(n[h]=On(l,a,h,void 0,e,!0)):delete n[h]);if(i!==a)for(const h in i)(!t||!Y(t,h))&&(delete i[h],u=!0)}u&&ft(e.attrs,"set","")}function Va(e,t,s,r){const[n,i]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(Ds(l))continue;const u=t[l];let c;n&&Y(n,c=qe(l))?!i||!i.includes(c)?s[c]=u:(a||(a={}))[c]=u:Kr(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(i){const l=G(s),u=a||se;for(let c=0;c<i.length;c++){const h=i[c];s[h]=On(n,l,h,u[h],e,!Y(u,h))}}return o}function On(e,t,s,r,n,i){const o=e[s];if(o!=null){const a=Y(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&B(l)){const{propsDefaults:u}=n;if(s in u)r=u[s];else{const c=ir(n);r=u[s]=l.call(null,t),c()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===jt(s))&&(r=!0))}return r}const uu=new WeakMap;function za(e,t,s=!1){const r=s?uu:t.propsCache,n=r.get(e);if(n)return n;const i=e.props,o={},a=[];let l=!1;if(!B(e)){const c=h=>{l=!0;const[f,p]=za(h,t,!0);be(o,f),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!i&&!l)return oe(e)&&r.set(e,ls),ls;if(M(i))for(let c=0;c<i.length;c++){const h=qe(i[c]);ji(h)&&(o[h]=se)}else if(i)for(const c in i){const h=qe(c);if(ji(h)){const f=i[c],p=o[h]=M(f)||B(f)?{type:f}:be({},f),_=p.type;let E=!1,A=!0;if(M(_))for(let $=0;$<_.length;++$){const I=_[$],P=B(I)&&I.name;if(P==="Boolean"){E=!0;break}else P==="String"&&(A=!1)}else E=B(_)&&_.name==="Boolean";p[0]=E,p[1]=A,(E||Y(p,"default"))&&a.push(h)}}const u=[o,a];return oe(e)&&r.set(e,u),u}function ji(e){return e[0]!=="$"&&!Ds(e)}const Ka=e=>e[0]==="_"||e==="$stable",hi=e=>M(e)?e.map(st):[st(e)],hu=(e,t,s)=>{if(t._n)return t;const r=kn((...n)=>hi(t(...n)),s);return r._c=!1,r},Wa=(e,t,s)=>{const r=e._ctx;for(const n in e){if(Ka(n))continue;const i=e[n];if(B(i))t[n]=hu(n,i,r);else if(i!=null){const o=hi(i);t[n]=()=>o}}},Ga=(e,t)=>{const s=hi(t);e.slots.default=()=>s},Ja=(e,t,s)=>{for(const r in t)(s||r!=="_")&&(e[r]=t[r])},fu=(e,t,s)=>{const r=e.slots=Ha();if(e.vnode.shapeFlag&32){const n=t._;n?(Ja(r,t,s),s&&sa(r,"_",n,!0)):Wa(t,r)}else t&&Ga(e,t)},du=(e,t,s)=>{const{vnode:r,slots:n}=e;let i=!0,o=se;if(r.shapeFlag&32){const a=t._;a?s&&a===1?i=!1:Ja(n,t,s):(i=!t.$stable,Wa(t,n)),o=t}else t&&(Ga(e,t),o={default:1});if(i)for(const a in n)!Ka(a)&&o[a]==null&&delete n[a]},Le=Cu;function pu(e){return gu(e)}function gu(e,t){const s=Fr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:h,nextSibling:f,setScopeId:p=rt,insertStaticContent:_}=e,E=(d,g,m,v=null,b=null,w=null,T=void 0,x=null,k=!!g.dynamicChildren)=>{if(d===g)return;d&&!Es(d,g)&&(v=y(d),Ce(d,b,w,!0),d=null),g.patchFlag===-2&&(k=!1,g.dynamicChildren=null);const{type:S,ref:N,shapeFlag:R}=g;switch(S){case Wr:A(d,g,m,v);break;case Qt:$(d,g,m,v);break;case br:d==null&&I(g,m,v,T);break;case tt:$e(d,g,m,v,b,w,T,x,k);break;default:R&1?U(d,g,m,v,b,w,T,x,k):R&6?xe(d,g,m,v,b,w,T,x,k):(R&64||R&128)&&S.process(d,g,m,v,b,w,T,x,k,L)}N!=null&&b&&Rr(N,d&&d.ref,w,g||d,!g)},A=(d,g,m,v)=>{if(d==null)r(g.el=a(g.children),m,v);else{const b=g.el=d.el;g.children!==d.children&&u(b,g.children)}},$=(d,g,m,v)=>{d==null?r(g.el=l(g.children||""),m,v):g.el=d.el},I=(d,g,m,v)=>{[d.el,d.anchor]=_(d.children,g,m,v,d.el,d.anchor)},P=({el:d,anchor:g},m,v)=>{let b;for(;d&&d!==g;)b=f(d),r(d,m,v),d=b;r(g,m,v)},C=({el:d,anchor:g})=>{let m;for(;d&&d!==g;)m=f(d),n(d),d=m;n(g)},U=(d,g,m,v,b,w,T,x,k)=>{g.type==="svg"?T="svg":g.type==="math"&&(T="mathml"),d==null?de(g,m,v,b,w,T,x,k):z(d,g,b,w,T,x,k)},de=(d,g,m,v,b,w,T,x)=>{let k,S;const{props:N,shapeFlag:R,transition:D,dirs:F}=d;if(k=d.el=o(d.type,w,N&&N.is,N),R&8?c(k,d.children):R&16&&V(d.children,k,null,v,b,ln(d,w),T,x),F&&Mt(d,null,v,"created"),X(k,d,d.scopeId,T,v),N){for(const re in N)re!=="value"&&!Ds(re)&&i(k,re,null,N[re],w,v);"value"in N&&i(k,"value",null,N.value,w),(S=N.onVnodeBeforeMount)&&Xe(S,v,d)}F&&Mt(d,null,v,"beforeMount");const W=mu(b,D);W&&D.beforeEnter(k),r(k,g,m),((S=N&&N.onVnodeMounted)||W||F)&&Le(()=>{S&&Xe(S,v,d),W&&D.enter(k),F&&Mt(d,null,v,"mounted")},b)},X=(d,g,m,v,b)=>{if(m&&p(d,m),v)for(let w=0;w<v.length;w++)p(d,v[w]);if(b){let w=b.subTree;if(g===w||tl(w.type)&&(w.ssContent===g||w.ssFallback===g)){const T=b.vnode;X(d,T,T.scopeId,T.slotScopeIds,b.parent)}}},V=(d,g,m,v,b,w,T,x,k=0)=>{for(let S=k;S<d.length;S++){const N=d[S]=x?At(d[S]):st(d[S]);E(null,N,g,m,v,b,w,T,x)}},z=(d,g,m,v,b,w,T)=>{const x=g.el=d.el;let{patchFlag:k,dynamicChildren:S,dirs:N}=g;k|=d.patchFlag&16;const R=d.props||se,D=g.props||se;let F;if(m&&Nt(m,!1),(F=D.onVnodeBeforeUpdate)&&Xe(F,m,g,d),N&&Mt(g,d,m,"beforeUpdate"),m&&Nt(m,!0),(R.innerHTML&&D.innerHTML==null||R.textContent&&D.textContent==null)&&c(x,""),S?le(d.dynamicChildren,S,x,m,v,ln(g,b),w):T||J(d,g,x,null,m,v,ln(g,b),w,!1),k>0){if(k&16)Ee(x,R,D,m,b);else if(k&2&&R.class!==D.class&&i(x,"class",null,D.class,b),k&4&&i(x,"style",R.style,D.style,b),k&8){const W=g.dynamicProps;for(let re=0;re<W.length;re++){const Z=W[re],Ie=R[Z],Te=D[Z];(Te!==Ie||Z==="value")&&i(x,Z,Ie,Te,b,m)}}k&1&&d.children!==g.children&&c(x,g.children)}else!T&&S==null&&Ee(x,R,D,m,b);((F=D.onVnodeUpdated)||N)&&Le(()=>{F&&Xe(F,m,g,d),N&&Mt(g,d,m,"updated")},v)},le=(d,g,m,v,b,w,T)=>{for(let x=0;x<g.length;x++){const k=d[x],S=g[x],N=k.el&&(k.type===tt||!Es(k,S)||k.shapeFlag&70)?h(k.el):m;E(k,S,N,null,v,b,w,T,!0)}},Ee=(d,g,m,v,b)=>{if(g!==m){if(g!==se)for(const w in g)!Ds(w)&&!(w in m)&&i(d,w,g[w],null,b,v);for(const w in m){if(Ds(w))continue;const T=m[w],x=g[w];T!==x&&w!=="value"&&i(d,w,x,T,b,v)}"value"in m&&i(d,"value",g.value,m.value,b)}},$e=(d,g,m,v,b,w,T,x,k)=>{const S=g.el=d?d.el:a(""),N=g.anchor=d?d.anchor:a("");let{patchFlag:R,dynamicChildren:D,slotScopeIds:F}=g;F&&(x=x?x.concat(F):F),d==null?(r(S,m,v),r(N,m,v),V(g.children||[],m,N,b,w,T,x,k)):R>0&&R&64&&D&&d.dynamicChildren?(le(d.dynamicChildren,D,m,b,w,T,x),(g.key!=null||b&&g===b.subTree)&&Qa(d,g,!0)):J(d,g,m,N,b,w,T,x,k)},xe=(d,g,m,v,b,w,T,x,k)=>{g.slotScopeIds=x,d==null?g.shapeFlag&512?b.ctx.activate(g,m,v,T,k):Dt(g,m,v,b,w,T,k):_t(d,g,k)},Dt=(d,g,m,v,b,w,T)=>{const x=d.component=Uu(d,v,b);if(ja(d)&&(x.ctx.renderer=L),Du(x,!1,T),x.asyncDep){if(b&&b.registerDep(x,ae,T),!d.el){const k=x.subTree=fe(Qt);$(null,k,g,m)}}else ae(x,d,g,m,b,w,T)},_t=(d,g,m)=>{const v=g.component=d.component;if(ku(d,g,m))if(v.asyncDep&&!v.asyncResolved){H(v,g,m);return}else v.next=g,v.update();else g.el=d.el,v.vnode=g},ae=(d,g,m,v,b,w,T)=>{const x=()=>{if(d.isMounted){let{next:R,bu:D,u:F,parent:W,vnode:re}=d;{const Qe=Ya(d);if(Qe){R&&(R.el=re.el,H(d,R,T)),Qe.asyncDep.then(()=>{d.isUnmounted||x()});return}}let Z=R,Ie;Nt(d,!1),R?(R.el=re.el,H(d,R,T)):R=re,D&&yr(D),(Ie=R.props&&R.props.onVnodeBeforeUpdate)&&Xe(Ie,W,R,re),Nt(d,!0);const Te=Ui(d),Je=d.subTree;d.subTree=Te,E(Je,Te,h(Je.el),y(Je),d,b,w),R.el=Te.el,Z===null&&xu(d,Te.el),F&&Le(F,b),(Ie=R.props&&R.props.onVnodeUpdated)&&Le(()=>Xe(Ie,W,R,re),b)}else{let R;const{el:D,props:F}=g,{bm:W,m:re,parent:Z,root:Ie,type:Te}=d,Je=Fs(g);Nt(d,!1),W&&yr(W),!Je&&(R=F&&F.onVnodeBeforeMount)&&Xe(R,Z,g),Nt(d,!0);{Ie.ce&&Ie.ce._injectChildStyle(Te);const Qe=d.subTree=Ui(d);E(null,Qe,m,v,d,b,w),g.el=Qe.el}if(re&&Le(re,b),!Je&&(R=F&&F.onVnodeMounted)){const Qe=g;Le(()=>Xe(R,Z,Qe),b)}(g.shapeFlag&256||Z&&Fs(Z.vnode)&&Z.vnode.shapeFlag&256)&&d.a&&Le(d.a,b),d.isMounted=!0,g=m=v=null}};d.scope.on();const k=d.effect=new ua(x);d.scope.off();const S=d.update=k.run.bind(k),N=d.job=k.runIfDirty.bind(k);N.i=d,N.id=d.uid,k.scheduler=()=>ai(N),Nt(d,!0),S()},H=(d,g,m)=>{g.component=d;const v=d.vnode.props;d.vnode=g,d.next=null,cu(d,g.props,v,m),du(d,g.children,m),Lt(),Ci(d),Ut()},J=(d,g,m,v,b,w,T,x,k=!1)=>{const S=d&&d.children,N=d?d.shapeFlag:0,R=g.children,{patchFlag:D,shapeFlag:F}=g;if(D>0){if(D&128){vt(S,R,m,v,b,w,T,x,k);return}else if(D&256){at(S,R,m,v,b,w,T,x,k);return}}F&8?(N&16&&Ne(S,b,w),R!==S&&c(m,R)):N&16?F&16?vt(S,R,m,v,b,w,T,x,k):Ne(S,b,w,!0):(N&8&&c(m,""),F&16&&V(R,m,v,b,w,T,x,k))},at=(d,g,m,v,b,w,T,x,k)=>{d=d||ls,g=g||ls;const S=d.length,N=g.length,R=Math.min(S,N);let D;for(D=0;D<R;D++){const F=g[D]=k?At(g[D]):st(g[D]);E(d[D],F,m,null,b,w,T,x,k)}S>N?Ne(d,b,w,!0,!1,R):V(g,m,v,b,w,T,x,k,R)},vt=(d,g,m,v,b,w,T,x,k)=>{let S=0;const N=g.length;let R=d.length-1,D=N-1;for(;S<=R&&S<=D;){const F=d[S],W=g[S]=k?At(g[S]):st(g[S]);if(Es(F,W))E(F,W,m,null,b,w,T,x,k);else break;S++}for(;S<=R&&S<=D;){const F=d[R],W=g[D]=k?At(g[D]):st(g[D]);if(Es(F,W))E(F,W,m,null,b,w,T,x,k);else break;R--,D--}if(S>R){if(S<=D){const F=D+1,W=F<N?g[F].el:v;for(;S<=D;)E(null,g[S]=k?At(g[S]):st(g[S]),m,W,b,w,T,x,k),S++}}else if(S>D)for(;S<=R;)Ce(d[S],b,w,!0),S++;else{const F=S,W=S,re=new Map;for(S=W;S<=D;S++){const je=g[S]=k?At(g[S]):st(g[S]);je.key!=null&&re.set(je.key,S)}let Z,Ie=0;const Te=D-W+1;let Je=!1,Qe=0;const ws=new Array(Te);for(S=0;S<Te;S++)ws[S]=0;for(S=F;S<=R;S++){const je=d[S];if(Ie>=Te){Ce(je,b,w,!0);continue}let Ye;if(je.key!=null)Ye=re.get(je.key);else for(Z=W;Z<=D;Z++)if(ws[Z-W]===0&&Es(je,g[Z])){Ye=Z;break}Ye===void 0?Ce(je,b,w,!0):(ws[Ye-W]=S+1,Ye>=Qe?Qe=Ye:Je=!0,E(je,g[Ye],m,null,b,w,T,x,k),Ie++)}const bi=Je?_u(ws):ls;for(Z=bi.length-1,S=Te-1;S>=0;S--){const je=W+S,Ye=g[je],Ei=je+1<N?g[je+1].el:v;ws[S]===0?E(null,Ye,m,Ei,b,w,T,x,k):Je&&(Z<0||S!==bi[Z]?Ge(Ye,m,Ei,2):Z--)}}},Ge=(d,g,m,v,b=null)=>{const{el:w,type:T,transition:x,children:k,shapeFlag:S}=d;if(S&6){Ge(d.component.subTree,g,m,v);return}if(S&128){d.suspense.move(g,m,v);return}if(S&64){T.move(d,g,m,L);return}if(T===tt){r(w,g,m);for(let R=0;R<k.length;R++)Ge(k[R],g,m,v);r(d.anchor,g,m);return}if(T===br){P(d,g,m);return}if(v!==2&&S&1&&x)if(v===0)x.beforeEnter(w),r(w,g,m),Le(()=>x.enter(w),b);else{const{leave:R,delayLeave:D,afterLeave:F}=x,W=()=>r(w,g,m),re=()=>{R(w,()=>{W(),F&&F()})};D?D(w,W,re):re()}else r(w,g,m)},Ce=(d,g,m,v=!1,b=!1)=>{const{type:w,props:T,ref:x,children:k,dynamicChildren:S,shapeFlag:N,patchFlag:R,dirs:D,cacheIndex:F}=d;if(R===-2&&(b=!1),x!=null&&Rr(x,null,m,d,!0),F!=null&&(g.renderCache[F]=void 0),N&256){g.ctx.deactivate(d);return}const W=N&1&&D,re=!Fs(d);let Z;if(re&&(Z=T&&T.onVnodeBeforeUnmount)&&Xe(Z,g,d),N&6)lr(d.component,m,v);else{if(N&128){d.suspense.unmount(m,v);return}W&&Mt(d,null,g,"beforeUnmount"),N&64?d.type.remove(d,g,m,L,v):S&&!S.hasOnce&&(w!==tt||R>0&&R&64)?Ne(S,g,m,!1,!0):(w===tt&&R&384||!b&&N&16)&&Ne(k,g,m),v&&Zt(d)}(re&&(Z=T&&T.onVnodeUnmounted)||W)&&Le(()=>{Z&&Xe(Z,g,d),W&&Mt(d,null,g,"unmounted")},m)},Zt=d=>{const{type:g,el:m,anchor:v,transition:b}=d;if(g===tt){es(m,v);return}if(g===br){C(d);return}const w=()=>{n(m),b&&!b.persisted&&b.afterLeave&&b.afterLeave()};if(d.shapeFlag&1&&b&&!b.persisted){const{leave:T,delayLeave:x}=b,k=()=>T(m,w);x?x(d.el,w,k):k()}else w()},es=(d,g)=>{let m;for(;d!==g;)m=f(d),n(d),d=m;n(g)},lr=(d,g,m)=>{const{bum:v,scope:b,job:w,subTree:T,um:x,m:k,a:S}=d;Li(k),Li(S),v&&yr(v),b.stop(),w&&(w.flags|=8,Ce(T,d,g,m)),x&&Le(x,g),Le(()=>{d.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},Ne=(d,g,m,v=!1,b=!1,w=0)=>{for(let T=w;T<d.length;T++)Ce(d[T],g,m,v,b)},y=d=>{if(d.shapeFlag&6)return y(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const g=f(d.anchor||d.el),m=g&&g[Mc];return m?f(m):g};let j=!1;const O=(d,g,m)=>{d==null?g._vnode&&Ce(g._vnode,null,null,!0):E(g._vnode||null,d,g,null,null,null,m),g._vnode=d,j||(j=!0,Ci(),Pa(),j=!1)},L={p:E,um:Ce,m:Ge,r:Zt,mt:Dt,mc:V,pc:J,pbc:le,n:y,o:e};return{render:O,hydrate:void 0,createApp:ou(O)}}function ln({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Nt({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function mu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Qa(e,t,s=!1){const r=e.children,n=t.children;if(M(r)&&M(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=At(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Qa(o,a)),a.type===Wr&&(a.el=o.el)}}function _u(e){const t=e.slice(),s=[0];let r,n,i,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(n=s[s.length-1],e[n]<u){t[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,e[s[a]]<u?i=a+1:o=a;u<e[s[i]]&&(i>0&&(t[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=t[o];return s}function Ya(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Ya(t)}function Li(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const vu=Symbol.for("v-scx"),yu=()=>Be(vu);function Rt(e,t,s){return Xa(e,t,s)}function Xa(e,t,s=se){const{immediate:r,deep:n,flush:i,once:o}=s,a=be({},s),l=t&&r||!t&&i!=="post";let u;if(Xs){if(i==="sync"){const p=yu();u=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=rt,p.resume=rt,p.pause=rt,p}}const c=ve;a.call=(p,_,E)=>ot(p,c,_,E);let h=!1;i==="post"?a.scheduler=p=>{Le(p,c&&c.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(p,_)=>{_?p():ai(p)}),a.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,c&&(p.id=c.uid,p.i=c))};const f=jc(e,t,a);return Xs&&(u?u.push(f):l&&f()),f}function wu(e,t,s){const r=this.proxy,n=he(e)?e.includes(".")?Za(r,e):()=>r[e]:e.bind(r,r);let i;B(t)?i=t:(i=t.handler,s=t);const o=ir(this),a=Xa(n,i.bind(r),s);return o(),a}function Za(e,t){const s=t.split(".");return()=>{let r=e;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const bu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${qe(t)}Modifiers`]||e[`${jt(t)}Modifiers`];function Eu(e,t,...s){if(e.isUnmounted)return;const r=e.vnode.props||se;let n=s;const i=t.startsWith("update:"),o=i&&bu(r,t.slice(7));o&&(o.trim&&(n=s.map(c=>he(c)?c.trim():c)),o.number&&(n=s.map(xr)));let a,l=r[a=tn(t)]||r[a=tn(qe(t))];!l&&i&&(l=r[a=tn(jt(t))]),l&&ot(l,e,6,n);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ot(u,e,6,n)}}function el(e,t,s=!1){const r=t.emitsCache,n=r.get(e);if(n!==void 0)return n;const i=e.emits;let o={},a=!1;if(!B(e)){const l=u=>{const c=el(u,t,!0);c&&(a=!0,be(o,c))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!i&&!a?(oe(e)&&r.set(e,null),null):(M(i)?i.forEach(l=>o[l]=null):be(o,i),oe(e)&&r.set(e,o),o)}function Kr(e,t){return!e||!Dr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Y(e,t[0].toLowerCase()+t.slice(1))||Y(e,jt(t))||Y(e,t))}function Ui(e){const{type:t,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:u,renderCache:c,props:h,data:f,setupState:p,ctx:_,inheritAttrs:E}=e,A=Pr(e);let $,I;try{if(s.shapeFlag&4){const C=n||r,U=C;$=st(u.call(U,C,c,h,p,f,_)),I=a}else{const C=t;$=st(C.length>1?C(h,{attrs:a,slots:o,emit:l}):C(h,null)),I=t.props?a:Su(a)}}catch(C){Hs.length=0,Hr(C,e,1),$=fe(Qt)}let P=$;if(I&&E!==!1){const C=Object.keys(I),{shapeFlag:U}=P;C.length&&U&7&&(i&&C.some(Gn)&&(I=Au(I,i)),P=ds(P,I,!1,!0))}return s.dirs&&(P=ds(P,null,!1,!0),P.dirs=P.dirs?P.dirs.concat(s.dirs):s.dirs),s.transition&&li(P,s.transition),$=P,Pr(A),$}const Su=e=>{let t;for(const s in e)(s==="class"||s==="style"||Dr(s))&&((t||(t={}))[s]=e[s]);return t},Au=(e,t)=>{const s={};for(const r in e)(!Gn(r)||!(r.slice(9)in t))&&(s[r]=e[r]);return s};function ku(e,t,s){const{props:r,children:n,component:i}=e,{props:o,children:a,patchFlag:l}=t,u=i.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Di(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let h=0;h<c.length;h++){const f=c[h];if(o[f]!==r[f]&&!Kr(u,f))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Di(r,o,u):!0:!!o;return!1}function Di(e,t,s){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(t[i]!==e[i]&&!Kr(s,i))return!0}return!1}function xu({vnode:e,parent:t},s){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=s,t=t.parent;else break}}const tl=e=>e.__isSuspense;function Cu(e,t){t&&t.pendingBranch?M(e)?t.effects.push(...e):t.effects.push(e):Dc(e)}const tt=Symbol.for("v-fgt"),Wr=Symbol.for("v-txt"),Qt=Symbol.for("v-cmt"),br=Symbol.for("v-stc"),Hs=[];let Me=null;function De(e=!1){Hs.push(Me=e?null:[])}function Tu(){Hs.pop(),Me=Hs[Hs.length-1]||null}let Ys=1;function Mi(e,t=!1){Ys+=e,e<0&&Me&&t&&(Me.hasOnce=!0)}function sl(e){return e.dynamicChildren=Ys>0?Me||ls:null,Tu(),Ys>0&&Me&&Me.push(e),e}function gt(e,t,s,r,n,i){return sl(Re(e,t,s,r,n,i,!0))}function Er(e,t,s,r,n){return sl(fe(e,t,s,r,n,!0))}function Ir(e){return e?e.__v_isVNode===!0:!1}function Es(e,t){return e.type===t.type&&e.key===t.key}const rl=({key:e})=>e??null,Sr=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?he(e)||ue(e)||B(e)?{i:Pe,r:e,k:t,f:!!s}:e:null);function Re(e,t=null,s=null,r=0,n=null,i=e===tt?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&rl(t),ref:t&&Sr(t),scopeId:$a,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Pe};return a?(fi(l,s),i&128&&e.normalize(l)):s&&(l.shapeFlag|=he(s)?8:16),Ys>0&&!o&&Me&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Me.push(l),l}const fe=Ou;function Ou(e,t=null,s=null,r=0,n=null,i=!1){if((!e||e===Da)&&(e=Qt),Ir(e)){const a=ds(e,t,!0);return s&&fi(a,s),Ys>0&&!i&&Me&&(a.shapeFlag&6?Me[Me.indexOf(e)]=a:Me.push(a)),a.patchFlag=-2,a}if(Hu(e)&&(e=e.__vccOpts),t){t=Pu(t);let{class:a,style:l}=t;a&&!he(a)&&(t.class=Xn(a)),oe(l)&&(oi(l)&&!M(l)&&(l=be({},l)),t.style=Yn(l))}const o=he(e)?1:tl(e)?128:Nc(e)?64:oe(e)?4:B(e)?2:0;return Re(e,t,s,r,n,o,i,!0)}function Pu(e){return e?oi(e)||qa(e)?be({},e):e:null}function ds(e,t,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=e,u=t?Iu(n||{},t):n,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&rl(u),ref:t&&t.ref?s&&i?M(i)?i.concat(Sr(t)):[i,Sr(t)]:Sr(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==tt?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ds(e.ssContent),ssFallback:e.ssFallback&&ds(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&r&&li(c,l.clone(c)),c}function Ar(e=" ",t=0){return fe(Wr,null,e,t)}function Ru(e,t){const s=fe(br,null,e);return s.staticCount=t,s}function $u(e="",t=!1){return t?(De(),Er(Qt,null,e)):fe(Qt,null,e)}function st(e){return e==null||typeof e=="boolean"?fe(Qt):M(e)?fe(tt,null,e.slice()):Ir(e)?At(e):fe(Wr,null,String(e))}function At(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ds(e)}function fi(e,t){let s=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(M(t))s=16;else if(typeof t=="object")if(r&65){const n=t.default;n&&(n._c&&(n._d=!1),fi(e,n()),n._c&&(n._d=!0));return}else{s=32;const n=t._;!n&&!qa(t)?t._ctx=Pe:n===3&&Pe&&(Pe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else B(t)?(t={default:t,_ctx:Pe},s=32):(t=String(t),r&64?(s=16,t=[Ar(t)]):s=8);e.children=t,e.shapeFlag|=s}function Iu(...e){const t={};for(let s=0;s<e.length;s++){const r=e[s];for(const n in r)if(n==="class")t.class!==r.class&&(t.class=Xn([t.class,r.class]));else if(n==="style")t.style=Yn([t.style,r.style]);else if(Dr(n)){const i=t[n],o=r[n];o&&i!==o&&!(M(i)&&i.includes(o))&&(t[n]=i?[].concat(i,o):o)}else n!==""&&(t[n]=r[n])}return t}function Xe(e,t,s,r=null){ot(e,t,7,[s,r])}const ju=Fa();let Lu=0;function Uu(e,t,s){const r=e.type,n=(t?t.appContext:e.appContext)||ju,i={uid:Lu++,vnode:e,type:r,parent:t,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new aa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(n.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:za(r,n),emitsOptions:el(r,n),emit:null,emitted:null,propsDefaults:se,inheritAttrs:r.inheritAttrs,ctx:se,data:se,props:se,attrs:se,slots:se,refs:se,setupState:se,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=Eu.bind(null,i),e.ce&&e.ce(i),i}let ve=null,jr,Pn;{const e=Fr(),t=(s,r)=>{let n;return(n=e[s])||(n=e[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};jr=t("__VUE_INSTANCE_SETTERS__",s=>ve=s),Pn=t("__VUE_SSR_SETTERS__",s=>Xs=s)}const ir=e=>{const t=ve;return jr(e),e.scope.on(),()=>{e.scope.off(),jr(t)}},Ni=()=>{ve&&ve.scope.off(),jr(null)};function nl(e){return e.vnode.shapeFlag&4}let Xs=!1;function Du(e,t=!1,s=!1){t&&Pn(t);const{props:r,children:n}=e.vnode,i=nl(e);lu(e,r,i,t),fu(e,n,s);const o=i?Mu(e,t):void 0;return t&&Pn(!1),o}function Mu(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Zc);const{setup:r}=s;if(r){Lt();const n=e.setupContext=r.length>1?Fu(e):null,i=ir(e),o=rr(r,e,0,[e.props,n]),a=Zo(o);if(Ut(),i(),(a||e.sp)&&!Fs(e)&&Ia(e),a){if(o.then(Ni,Ni),t)return o.then(l=>{Fi(e,l)}).catch(l=>{Hr(l,e,0)});e.asyncDep=o}else Fi(e,o)}else il(e)}function Fi(e,t,s){B(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:oe(t)&&(e.setupState=Ca(t)),il(e)}function il(e,t,s){const r=e.type;e.render||(e.render=r.render||rt);{const n=ir(e);Lt();try{eu(e)}finally{Ut(),n()}}}const Nu={get(e,t){return ye(e,"get",""),e[t]}};function Fu(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Nu),slots:e.slots,emit:e.emit,expose:t}}function Gr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ca(zt(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in Bs)return Bs[s](e)},has(t,s){return s in t||s in Bs}})):e.proxy}function Bu(e,t=!0){return B(e)?e.displayName||e.name:e.name||t&&e.__name}function Hu(e){return B(e)&&"__vccOpts"in e}const ce=(e,t)=>$c(e,t,Xs);function ol(e,t,s){const r=arguments.length;return r===2?oe(t)&&!M(t)?Ir(t)?fe(e,null,[t]):fe(e,t):fe(e,null,t):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&Ir(s)&&(s=[s]),fe(e,t,s))}const qu="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rn;const Bi=typeof window<"u"&&window.trustedTypes;if(Bi)try{Rn=Bi.createPolicy("vue",{createHTML:e=>e})}catch{}const al=Rn?e=>Rn.createHTML(e):e=>e,Vu="http://www.w3.org/2000/svg",zu="http://www.w3.org/1998/Math/MathML",ut=typeof document<"u"?document:null,Hi=ut&&ut.createElement("template"),Ku={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,r)=>{const n=t==="svg"?ut.createElementNS(Vu,e):t==="mathml"?ut.createElementNS(zu,e):s?ut.createElement(e,{is:s}):ut.createElement(e);return e==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:e=>ut.createTextNode(e),createComment:e=>ut.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ut.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,r,n,i){const o=s?s.previousSibling:t.lastChild;if(n&&(n===i||n.nextSibling))for(;t.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Hi.innerHTML=al(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const a=Hi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[o?o.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Wu=Symbol("_vtc");function Gu(e,t,s){const r=e[Wu];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Lr=Symbol("_vod"),ll=Symbol("_vsh"),Mg={beforeMount(e,{value:t},{transition:s}){e[Lr]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Ss(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:r}){!t!=!s&&(r?t?(r.beforeEnter(e),Ss(e,!0),r.enter(e)):r.leave(e,()=>{Ss(e,!1)}):Ss(e,t))},beforeUnmount(e,{value:t}){Ss(e,t)}};function Ss(e,t){e.style.display=t?e[Lr]:"none",e[ll]=!t}const Ju=Symbol(""),Qu=/(^|;)\s*display\s*:/;function Yu(e,t,s){const r=e.style,n=he(s);let i=!1;if(s&&!n){if(t)if(he(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&kr(r,a,"")}else for(const o in t)s[o]==null&&kr(r,o,"");for(const o in s)o==="display"&&(i=!0),kr(r,o,s[o])}else if(n){if(t!==s){const o=r[Ju];o&&(s+=";"+o),r.cssText=s,i=Qu.test(s)}}else t&&e.removeAttribute("style");Lr in e&&(e[Lr]=i?r.display:"",e[ll]&&(r.display="none"))}const qi=/\s*!important$/;function kr(e,t,s){if(M(s))s.forEach(r=>kr(e,t,r));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const r=Xu(e,t);qi.test(s)?e.setProperty(jt(r),s.replace(qi,""),"important"):e[r]=s}}const Vi=["Webkit","Moz","ms"],cn={};function Xu(e,t){const s=cn[t];if(s)return s;let r=qe(t);if(r!=="filter"&&r in e)return cn[t]=r;r=Nr(r);for(let n=0;n<Vi.length;n++){const i=Vi[n]+r;if(i in e)return cn[t]=i}return t}const zi="http://www.w3.org/1999/xlink";function Ki(e,t,s,r,n,i=rc(t)){r&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(zi,t.slice(6,t.length)):e.setAttributeNS(zi,t,s):s==null||i&&!ra(s)?e.removeAttribute(t):e.setAttribute(t,i?"":nt(s)?String(s):s)}function Wi(e,t,s,r,n){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?al(s):s);return}const i=e.tagName;if(t==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let o=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=ra(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{e[t]=s}catch{}o&&e.removeAttribute(n||t)}function pt(e,t,s,r){e.addEventListener(t,s,r)}function Zu(e,t,s,r){e.removeEventListener(t,s,r)}const Gi=Symbol("_vei");function eh(e,t,s,r,n=null){const i=e[Gi]||(e[Gi]={}),o=i[t];if(r&&o)o.value=r;else{const[a,l]=th(t);if(r){const u=i[t]=nh(r,n);pt(e,a,u,l)}else o&&(Zu(e,a,o,l),i[t]=void 0)}}const Ji=/(?:Once|Passive|Capture)$/;function th(e){let t;if(Ji.test(e)){t={};let r;for(;r=e.match(Ji);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):jt(e.slice(2)),t]}let un=0;const sh=Promise.resolve(),rh=()=>un||(sh.then(()=>un=0),un=Date.now());function nh(e,t){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;ot(ih(r,s.value),t,5,[r])};return s.value=e,s.attached=rh(),s}function ih(e,t){if(M(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(r=>n=>!n._stopped&&r&&r(n))}else return t}const Qi=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,oh=(e,t,s,r,n,i)=>{const o=n==="svg";t==="class"?Gu(e,r,o):t==="style"?Yu(e,s,r):Dr(t)?Gn(t)||eh(e,t,s,r,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ah(e,t,r,o))?(Wi(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ki(e,t,r,o,i,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!he(r))?Wi(e,qe(t),r,i,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Ki(e,t,r,o))};function ah(e,t,s,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Qi(t)&&B(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const n=e.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Qi(t)&&he(s)?!1:t in e}const $t=e=>{const t=e.props["onUpdate:modelValue"]||!1;return M(t)?s=>yr(t,s):t};function lh(e){e.target.composing=!0}function Yi(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const He=Symbol("_assign"),Xi={created(e,{modifiers:{lazy:t,trim:s,number:r}},n){e[He]=$t(n);const i=r||n.props&&n.props.type==="number";pt(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;s&&(a=a.trim()),i&&(a=xr(a)),e[He](a)}),s&&pt(e,"change",()=>{e.value=e.value.trim()}),t||(pt(e,"compositionstart",lh),pt(e,"compositionend",Yi),pt(e,"change",Yi))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(e[He]=$t(o),e.composing)return;const a=(i||e.type==="number")&&!/^0\d/.test(e.value)?xr(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(r&&t===s||n&&e.value.trim()===l)||(e.value=l))}},ch={deep:!0,created(e,t,s){e[He]=$t(s),pt(e,"change",()=>{const r=e._modelValue,n=ps(e),i=e.checked,o=e[He];if(M(r)){const a=Zn(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const u=[...r];u.splice(a,1),o(u)}}else if(vs(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(cl(e,i))})},mounted:Zi,beforeUpdate(e,t,s){e[He]=$t(s),Zi(e,t,s)}};function Zi(e,{value:t,oldValue:s},r){e._modelValue=t;let n;if(M(t))n=Zn(t,r.props.value)>-1;else if(vs(t))n=t.has(r.props.value);else{if(t===s)return;n=Gt(t,cl(e,!0))}e.checked!==n&&(e.checked=n)}const uh={created(e,{value:t},s){e.checked=Gt(t,s.props.value),e[He]=$t(s),pt(e,"change",()=>{e[He](ps(e))})},beforeUpdate(e,{value:t,oldValue:s},r){e[He]=$t(r),t!==s&&(e.checked=Gt(t,r.props.value))}},hh={deep:!0,created(e,{value:t,modifiers:{number:s}},r){const n=vs(t);pt(e,"change",()=>{const i=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>s?xr(ps(o)):ps(o));e[He](e.multiple?n?new Set(i):i:i[0]),e._assigning=!0,Tt(()=>{e._assigning=!1})}),e[He]=$t(r)},mounted(e,{value:t}){eo(e,t)},beforeUpdate(e,t,s){e[He]=$t(s)},updated(e,{value:t}){e._assigning||eo(e,t)}};function eo(e,t){const s=e.multiple,r=M(t);if(!(s&&!r&&!vs(t))){for(let n=0,i=e.options.length;n<i;n++){const o=e.options[n],a=ps(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(u=>String(u)===String(a)):o.selected=Zn(t,a)>-1}else o.selected=t.has(a);else if(Gt(ps(o),t)){e.selectedIndex!==n&&(e.selectedIndex=n);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ps(e){return"_value"in e?e._value:e.value}function cl(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Ng={created(e,t,s){fr(e,t,s,null,"created")},mounted(e,t,s){fr(e,t,s,null,"mounted")},beforeUpdate(e,t,s,r){fr(e,t,s,r,"beforeUpdate")},updated(e,t,s,r){fr(e,t,s,r,"updated")}};function fh(e,t){switch(e){case"SELECT":return hh;case"TEXTAREA":return Xi;default:switch(t){case"checkbox":return ch;case"radio":return uh;default:return Xi}}}function fr(e,t,s,r,n){const o=fh(e.tagName,s.props&&s.props.type)[n];o&&o(e,t,s,r)}const dh=["ctrl","shift","alt","meta"],ph={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>dh.some(s=>e[`${s}Key`]&&!t.includes(s))},Fg=(e,t)=>{const s=e._withMods||(e._withMods={}),r=t.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<t.length;o++){const a=ph[t[o]];if(a&&a(n,t))return}return e(n,...i)})},gh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bg=(e,t)=>{const s=e._withKeys||(e._withKeys={}),r=t.join(".");return s[r]||(s[r]=n=>{if(!("key"in n))return;const i=jt(n.key);if(t.some(o=>o===i||gh[o]===i))return e(n)})},mh=be({patchProp:oh},Ku);let to;function _h(){return to||(to=pu(mh))}const vh=(...e)=>{const t=_h().createApp(...e),{mount:s}=t;return t.mount=r=>{const n=wh(r);if(!n)return;const i=t._component;!B(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,yh(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},t};function yh(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function wh(e){return he(e)?document.querySelector(e):e}var bh=!1;/*!
 * pinia v2.3.0
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let ul;const Jr=e=>ul=e,hl=Symbol();function $n(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var qs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(qs||(qs={}));function Eh(){const e=la(!0),t=e.run(()=>Ve({}));let s=[],r=[];const n=zt({install(i){Jr(n),n._a=i,i.provide(hl,n),i.config.globalProperties.$pinia=n,r.forEach(o=>s.push(o)),r=[]},use(i){return!this._a&&!bh?r.push(i):s.push(i),this},_p:s,_a:null,_e:e,_s:new Map,state:t});return n}const fl=()=>{};function so(e,t,s,r=fl){e.push(t);const n=()=>{const i=e.indexOf(t);i>-1&&(e.splice(i,1),r())};return!s&&ca()&&ic(n),n}function ss(e,...t){e.slice().forEach(s=>{s(...t)})}const Sh=e=>e(),ro=Symbol(),hn=Symbol();function In(e,t){e instanceof Map&&t instanceof Map?t.forEach((s,r)=>e.set(r,s)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const s in t){if(!t.hasOwnProperty(s))continue;const r=t[s],n=e[s];$n(n)&&$n(r)&&e.hasOwnProperty(s)&&!ue(r)&&!Pt(r)?e[s]=In(n,r):e[s]=r}return e}const Ah=Symbol();function kh(e){return!$n(e)||!e.hasOwnProperty(Ah)}const{assign:wt}=Object;function xh(e){return!!(ue(e)&&e.effect)}function Ch(e,t,s,r){const{state:n,actions:i,getters:o}=t,a=s.state.value[e];let l;function u(){a||(s.state.value[e]=n?n():{});const c=Tc(s.state.value[e]);return wt(c,i,Object.keys(o||{}).reduce((h,f)=>(h[f]=zt(ce(()=>{Jr(s);const p=s._s.get(e);return o[f].call(p,p)})),h),{}))}return l=dl(e,u,t,s,r,!0),l}function dl(e,t,s={},r,n,i){let o;const a=wt({actions:{}},s),l={deep:!0};let u,c,h=[],f=[],p;const _=r.state.value[e];!i&&!_&&(r.state.value[e]={}),Ve({});let E;function A(V){let z;u=c=!1,typeof V=="function"?(V(r.state.value[e]),z={type:qs.patchFunction,storeId:e,events:p}):(In(r.state.value[e],V),z={type:qs.patchObject,payload:V,storeId:e,events:p});const le=E=Symbol();Tt().then(()=>{E===le&&(u=!0)}),c=!0,ss(h,z,r.state.value[e])}const $=i?function(){const{state:z}=s,le=z?z():{};this.$patch(Ee=>{wt(Ee,le)})}:fl;function I(){o.stop(),h=[],f=[],r._s.delete(e)}const P=(V,z="")=>{if(ro in V)return V[hn]=z,V;const le=function(){Jr(r);const Ee=Array.from(arguments),$e=[],xe=[];function Dt(H){$e.push(H)}function _t(H){xe.push(H)}ss(f,{args:Ee,name:le[hn],store:U,after:Dt,onError:_t});let ae;try{ae=V.apply(this&&this.$id===e?this:U,Ee)}catch(H){throw ss(xe,H),H}return ae instanceof Promise?ae.then(H=>(ss($e,H),H)).catch(H=>(ss(xe,H),Promise.reject(H))):(ss($e,ae),ae)};return le[ro]=!0,le[hn]=z,le},C={_p:r,$id:e,$onAction:so.bind(null,f),$patch:A,$reset:$,$subscribe(V,z={}){const le=so(h,V,z.detached,()=>Ee()),Ee=o.run(()=>Rt(()=>r.state.value[e],$e=>{(z.flush==="sync"?c:u)&&V({storeId:e,type:qs.direct,events:p},$e)},wt({},l,z)));return le},$dispose:I},U=it(C);r._s.set(e,U);const X=(r._a&&r._a.runWithContext||Sh)(()=>r._e.run(()=>(o=la()).run(()=>t({action:P}))));for(const V in X){const z=X[V];if(ue(z)&&!xh(z)||Pt(z))i||(_&&kh(z)&&(ue(z)?z.value=_[V]:In(z,_[V])),r.state.value[e][V]=z);else if(typeof z=="function"){const le=P(z,V);X[V]=le,a.actions[V]=z}}return wt(U,X),wt(G(U),X),Object.defineProperty(U,"$state",{get:()=>r.state.value[e],set:V=>{A(z=>{wt(z,V)})}}),r._p.forEach(V=>{wt(U,o.run(()=>V({store:U,app:r._a,pinia:r,options:a})))}),_&&i&&s.hydrate&&s.hydrate(U.$state,_),u=!0,c=!0,U}/*! #__NO_SIDE_EFFECTS__ */function Qr(e,t,s){let r,n;const i=typeof t=="function";typeof e=="string"?(r=e,n=i?s:t):(n=e,r=e.id);function o(a,l){const u=au();return a=a||(u?Be(hl,null):null),a&&Jr(a),a=ul,a._s.has(r)||(i?dl(r,t,n,a):Ch(r,n,a)),a._s.get(r)}return o.$id=r,o}const Th="modulepreload",Oh=function(e){return"/TogetherTalk/"+e},no={},pe=function(t,s,r){let n=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(s.map(l=>{if(l=Oh(l),l in no)return;no[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Th,u||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),u)return new Promise((f,p)=>{h.addEventListener("load",f),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},Ph=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>pe(async()=>{const{default:r}=await Promise.resolve().then(()=>ys);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)};class di extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class Rh extends di{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $h extends di{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ih extends di{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jn;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jn||(jn={}));var jh=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Lh{constructor(t,{headers:s={},customFetch:r,region:n=jn.Any}={}){this.url=t,this.headers=s,this.region=n,this.fetch=Ph(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var r;return jh(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(_=>{throw new Rh(_)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new $h(c);if(!c.ok)throw new Ih(c);let f=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield c.json():f==="application/octet-stream"?p=yield c.blob():f==="text/event-stream"?p=c:f==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(n){return{data:null,error:n}}})}}function Uh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Dh(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}),s}var me={},As={},ks={},xs={},Cs={},Ts={},Mh=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gs=Mh();const Nh=gs.fetch,pl=gs.fetch.bind(gs),gl=gs.Headers,Fh=gs.Request,Bh=gs.Response,ys=Object.freeze(Object.defineProperty({__proto__:null,Headers:gl,Request:Fh,Response:Bh,default:pl,fetch:Nh},Symbol.toStringTag,{value:"Module"})),Hh=Dh(ys);var dr={},io;function ml(){if(io)return dr;io=1,Object.defineProperty(dr,"__esModule",{value:!0});class e extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return dr.default=e,dr}var oo;function _l(){if(oo)return Ts;oo=1;var e=Ts.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ts,"__esModule",{value:!0});const t=e(Hh),s=e(ml());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var c,h,f;let p=null,_=null,E=null,A=u.status,$=u.statusText;if(u.ok){if(this.method!=="HEAD"){const U=await u.text();U===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=U:_=JSON.parse(U))}const P=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),C=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");P&&C&&C.length>1&&(E=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(p={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,E=null,A=406,$="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const P=await u.text();try{p=JSON.parse(P),Array.isArray(p)&&u.status===404&&(_=[],p=null,A=200,$="OK")}catch{u.status===404&&P===""?(A=204,$="No Content"):p={message:P}}if(p&&this.isMaybeSingle&&(!((f=p==null?void 0:p.details)===null||f===void 0)&&f.includes("0 rows"))&&(p=null,A=200,$="OK"),p&&this.shouldThrowOnError)throw new s.default(p)}return{error:p,data:_,count:E,status:A,statusText:$}});return this.shouldThrowOnError||(l=l.catch(u=>{var c,h,f;return{error:{message:`${(c=u==null?void 0:u.name)!==null&&c!==void 0?c:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(h=u==null?void 0:u.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(f=u==null?void 0:u.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}}return Ts.default=r,Ts}var ao;function vl(){if(ao)return Cs;ao=1;var e=Cs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Cs,"__esModule",{value:!0});const t=e(_l());class s extends t.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${f}"; options=${h};`,u==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Cs.default=s,Cs}var lo;function pi(){if(lo)return xs;lo=1;var e=xs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xs,"__esModule",{value:!0});const t=e(vl());class s extends t.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${u}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return xs.default=s,xs}var co;function yl(){if(co)return ks;co=1;var e=ks.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ks,"__esModule",{value:!0});const t=e(pi());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const u=(n??"*").split("").map(c=>/\s/.test(c)&&!l?"":(c==='"'&&(l=!l),c)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const u=n.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(u.length>0){const c=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",c.join(","))}}return new t.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const u="POST",c=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),l||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(n)){const h=n.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(h.length>0){const f=[...new Set(h)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ks.default=s,ks}var Os={},Ps={},uo;function qh(){return uo||(uo=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.version=void 0,Ps.version="0.0.0-automated"),Ps}var ho;function Vh(){if(ho)return Os;ho=1,Object.defineProperty(Os,"__esModule",{value:!0}),Os.DEFAULT_HEADERS=void 0;const e=qh();return Os.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Os}var fo;function zh(){if(fo)return As;fo=1;var e=As.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(As,"__esModule",{value:!0});const t=e(yl()),s=e(pi()),r=Vh();class n{constructor(o,{headers:a={},schema:l,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=u}from(o){const a=new URL(`${this.url}/${o}`);return new t.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:u=!1,count:c}={}){let h;const f=new URL(`${this.url}/rpc/${o}`);let p;l||u?(h=l?"HEAD":"GET",Object.entries(a).filter(([E,A])=>A!==void 0).map(([E,A])=>[E,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([E,A])=>{f.searchParams.append(E,A)})):(h="POST",p=a);const _=Object.assign({},this.headers);return c&&(_.Prefer=`count=${c}`),new s.default({method:h,url:f,headers:_,schema:this.schemaName,body:p,fetch:this.fetch,allowEmpty:!1})}}return As.default=n,As}var po;function Kh(){if(po)return me;po=1;var e=me.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(me,"__esModule",{value:!0}),me.PostgrestError=me.PostgrestBuilder=me.PostgrestTransformBuilder=me.PostgrestFilterBuilder=me.PostgrestQueryBuilder=me.PostgrestClient=void 0;const t=e(zh());me.PostgrestClient=t.default;const s=e(yl());me.PostgrestQueryBuilder=s.default;const r=e(pi());me.PostgrestFilterBuilder=r.default;const n=e(vl());me.PostgrestTransformBuilder=n.default;const i=e(_l());me.PostgrestBuilder=i.default;const o=e(ml());return me.PostgrestError=o.default,me.default={PostgrestClient:t.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},me}var Wh=Kh();const Gh=Uh(Wh),{PostgrestClient:Jh,PostgrestQueryBuilder:Hg,PostgrestFilterBuilder:qg,PostgrestTransformBuilder:Vg,PostgrestBuilder:zg,PostgrestError:Kg}=Gh,Qh="2.11.2",Yh={"X-Client-Info":`realtime-js/${Qh}`},Xh="1.0.0",wl=1e4,Zh=1e3;var fs;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fs||(fs={}));var Ue;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ue||(Ue={}));var ze;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ze||(ze={}));var Ln;(function(e){e.websocket="websocket"})(Ln||(Ln={}));var Vt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Vt||(Vt={}));class ef{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,s,r)}_decodeBroadcast(t,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(t.slice(o,o+n));o=o+n;const l=r.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class bl{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ne;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ne||(ne={}));const go=(e,t,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((i,o)=>(i[o]=tf(o,e,t,n),i),{})},tf=(e,t,s,r)=>{const n=t.find(a=>a.name===e),i=n==null?void 0:n.type,o=s[e];return i&&!r.includes(i)?El(i,o):Un(o)},El=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return of(t,s)}switch(e){case ne.bool:return sf(t);case ne.float4:case ne.float8:case ne.int2:case ne.int4:case ne.int8:case ne.numeric:case ne.oid:return rf(t);case ne.json:case ne.jsonb:return nf(t);case ne.timestamp:return af(t);case ne.abstime:case ne.date:case ne.daterange:case ne.int4range:case ne.int8range:case ne.money:case ne.reltime:case ne.text:case ne.time:case ne.timestamptz:case ne.timetz:case ne.tsrange:case ne.tstzrange:return Un(t);default:return Un(t)}},Un=e=>e,sf=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},rf=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nf=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},of=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,r=e[s];if(e[0]==="{"&&r==="}"){let i;const o=e.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>El(t,a))}return e},af=e=>typeof e=="string"?e.replace(" ","T"):e,Sl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class fn{constructor(t,s,r={},n=wl){this.channel=t,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var mo;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(mo||(mo={}));class Vs{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Vs.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Vs.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Vs.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,n){const i=this.cloneDeep(t),o=this.transformState(s),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const f=c.map(A=>A.presence_ref),p=h.map(A=>A.presence_ref),_=c.filter(A=>p.indexOf(A.presence_ref)<0),E=h.filter(A=>f.indexOf(A.presence_ref)<0);_.length>0&&(a[u]=_),E.length>0&&(l[u]=E)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(t,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const h=t[a].map(p=>p.presence_ref),f=c.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}r(a,c,l)}),this.map(o,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=u,n(a,u,l),u.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const n=t[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var _o;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(_o||(_o={}));var vo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(vo||(vo={}));var ht;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ht||(ht={}));class gi{constructor(t,s={config:{}},r){this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=Ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new fn(this,ze.join,this.params,this.timeout),this.rejoinTimer=new bl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ue.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ue.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ze.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Vs(this),this.broadcastEndpointURL=Sl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(c=>t==null?void 0:t(ht.CHANNEL_ERROR,c)),this._onClose(()=>t==null?void 0:t(ht.CLOSED));const l={},u={broadcast:i,presence:o,postgres_changes:(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&n!==void 0?n:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:c})=>{var h;if(this.socket.setAuth(),c===void 0){t==null||t(ht.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,_=[];for(let E=0;E<p;E++){const A=f[E],{filter:{event:$,schema:I,table:P,filter:C}}=A,U=c&&c[E];if(U&&U.event===$&&U.schema===I&&U.table===P&&U.filter===C)_.push(Object.assign(Object.assign({},A),{id:U.id}));else{this.unsubscribe(),t==null||t(ht.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,t&&t(ht.SUBSCRIBED);return}}).receive("error",c=>{t==null||t(ht.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ht.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this._on(t,s,r)}async send(t,s={}){var r,n;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ue.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ze.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const n=new fn(this,ze.leave,{},t);n.receive("ok",()=>{s(),r("ok")}).receive("timeout",()=>{s(),r("timed out")}).receive("error",()=>{r("error")}),n.send(),this._canPush()||n.trigger("ok",{})})}async _fetchWithTimeout(t,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new fn(this,t,s,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var n,i;const o=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=ze;if(r&&[a,l,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,s,r);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(p=>{var _,E,A;return((_=p.filter)===null||_===void 0?void 0:_.event)==="*"||((A=(E=p.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var _,E,A,$,I,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const C=p.id,U=(_=p.filter)===null||_===void 0?void 0:_.event;return C&&((E=s.ids)===null||E===void 0?void 0:E.includes(C))&&(U==="*"||(U==null?void 0:U.toLocaleLowerCase())===((A=s.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const C=(I=($=p==null?void 0:p.filter)===null||$===void 0?void 0:$.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return C==="*"||C===((P=s==null?void 0:s.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const _=f.data,{schema:E,table:A,commit_timestamp:$,type:I,errors:P}=_;f=Object.assign(Object.assign({},{schema:E,table:A,commit_timestamp:$,eventType:I,new:{},old:{},errors:P}),this._getPayloadRecords(_))}p.callback(f,r)})}_isClosed(){return this.state===Ue.closed}_isJoined(){return this.state===Ue.joined}_isJoining(){return this.state===Ue.joining}_isLeaving(){return this.state===Ue.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const n=t.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&gi.isEqual(n.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ze.close,{},t)}_onError(t){this._on(ze.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ue.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=go(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=go(t.columns,t.old_record)),s}}const lf=()=>{},cf=typeof WebSocket<"u",uf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hf{constructor(t,s){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Yh,this.params={},this.timeout=wl,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=lf,this.conn=null,this.sendBuffer=[],this.serializer=new ef,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>pe(async()=>{const{default:l}=await Promise.resolve().then(()=>ys);return{default:l}},void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${Ln.websocket}`,this.httpEndpoint=Sl(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const n=(r=s==null?void 0:s.params)===null||r===void 0?void 0:r.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bl(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(cf){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new ff(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),pe(async()=>{const{default:t}=await import("./browser-BlDAKTOJ.js").then(s=>s.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Xh}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case fs.connecting:return Vt.Connecting;case fs.open:return Vt.Open;case fs.closing:return Vt.Closing;default:return Vt.Closed}}isConnected(){return this.connectionState()===Vt.Open}channel(t,s={config:{}}){const r=new gi(`realtime:${t}`,s,this);return this.channels.push(r),r}push(t){const{topic:s,event:r,payload:n,ref:i}=t,o=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let r=null;try{r=JSON.parse(atob(s.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=s,this.channels.forEach(n=>{s&&n.updateJoinPayload({access_token:s}),n.joinedOnce&&n._isJoined()&&n._push(ze.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Zh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:r,event:n,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${n} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(n,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ze.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${t}${r}${n}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([uf],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}}class ff{constructor(t,s,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=fs.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class mi extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ge(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class df extends mi{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Dn extends mi{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var pf=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const Al=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>pe(async()=>{const{default:r}=await Promise.resolve().then(()=>ys);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},gf=()=>pf(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pe(()=>Promise.resolve().then(()=>ys),void 0)).Response:Response}),Mn=e=>{if(Array.isArray(e))return e.map(s=>Mn(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[n]=Mn(r)}),t};var Yt=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const dn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mf=(e,t,s)=>Yt(void 0,void 0,void 0,function*(){const r=yield gf();e instanceof r&&!(s!=null&&s.noResolveJson)?e.json().then(n=>{t(new df(dn(n),e.status||500))}).catch(n=>{t(new Dn(dn(n),n))}):t(new Dn(dn(e),e))}),_f=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(n.body=JSON.stringify(r)),Object.assign(Object.assign({},n),s))};function or(e,t,s,r,n,i){return Yt(this,void 0,void 0,function*(){return new Promise((o,a)=>{e(s,_f(t,r,n,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>mf(l,a,r))})})}function Ur(e,t,s,r){return Yt(this,void 0,void 0,function*(){return or(e,"GET",t,s,r)})}function kt(e,t,s,r,n){return Yt(this,void 0,void 0,function*(){return or(e,"POST",t,r,n,s)})}function vf(e,t,s,r,n){return Yt(this,void 0,void 0,function*(){return or(e,"PUT",t,r,n,s)})}function yf(e,t,s,r){return Yt(this,void 0,void 0,function*(){return or(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function kl(e,t,s,r,n){return Yt(this,void 0,void 0,function*(){return or(e,"DELETE",t,r,n,s)})}var Oe=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const wf={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yo={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bf{constructor(t,s={},r,n){this.url=t,this.headers=s,this.bucketId=r,this.fetch=Al(n)}uploadOrUpdate(t,s,r,n){return Oe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},yo),n);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const u=this._removeEmptyFolders(s),c=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ge(i))return{data:null,error:i};throw i}})}upload(t,s,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,r)})}uploadToSignedUrl(t,s,r,n){return Oe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const u=Object.assign({upsert:yo.upsert},n),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:c}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ge(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return Oe(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const n=Object.assign({},this.headers);s!=null&&s.upsert&&(n["x-upsert"]="true");const i=yield kt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new mi("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}update(t,s,r){return Oe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,r)})}move(t,s,r){return Oe(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}copy(t,s,r){return Oe(this,void 0,void 0,function*(){try{return{data:{path:(yield kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrl(t,s,r){return Oe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=yield kt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}createSignedUrls(t,s,r){return Oe(this,void 0,void 0,function*(){try{const n=yield kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}download(t,s){return Oe(this,void 0,void 0,function*(){const n=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Ur(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ge(a))return{data:null,error:a};throw a}})}info(t){return Oe(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const r=yield Ur(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Mn(r),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}exists(t){return Oe(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield yf(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ge(r)&&r instanceof Dn){const n=r.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,s){const r=this._getFinalPath(t),n=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&n.push(l);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${u}`)}}}remove(t){return Oe(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}list(t,s,r){return Oe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},wf),s),{prefix:t||""});return{data:yield kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ge(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const Ef="2.7.1",Sf={"X-Client-Info":`storage-js/${Ef}`};var rs=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Af{constructor(t,s={},r){this.url=t,this.headers=Object.assign(Object.assign({},Sf),s),this.fetch=Al(r)}listBuckets(){return rs(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ge(t))return{data:null,error:t};throw t}})}getBucket(t){return rs(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return rs(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}updateBucket(t,s){return rs(this,void 0,void 0,function*(){try{return{data:yield vf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}})}emptyBucket(t){return rs(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}deleteBucket(t){return rs(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(ge(s))return{data:null,error:s};throw s}})}}class kf extends Af{constructor(t,s={},r){super(t,s,r)}from(t){return new bf(this.url,this.headers,t,this.fetch)}}const xf="2.47.10";let js="";typeof Deno<"u"?js="deno":typeof document<"u"?js="web":typeof navigator<"u"&&navigator.product==="ReactNative"?js="react-native":js="node";const Cf={"X-Client-Info":`supabase-js-${js}/${xf}`},Tf={headers:Cf},Of={schema:"public"},Pf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rf={};var $f=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};const If=e=>{let t;return e?t=e:typeof fetch>"u"?t=pl:t=fetch,(...s)=>t(...s)},jf=()=>typeof Headers>"u"?gl:Headers,Lf=(e,t,s)=>{const r=If(s),n=jf();return(i,o)=>$f(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new n(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Uf=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};function Df(e){return e.replace(/\/$/,"")}function Mf(e,t){const{db:s,auth:r,realtime:n,global:i}=e,{db:o,auth:a,realtime:l,global:u}=t,c={db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),n),global:Object.assign(Object.assign({},u),i),accessToken:()=>Uf(this,void 0,void 0,function*(){return""})};return e.accessToken?c.accessToken=e.accessToken:delete c.accessToken,c}const xl="2.67.3",Nf="http://localhost:9999",Ff="supabase.auth.token",Bf={"X-Client-Info":`gotrue-js/${xl}`},wo=10,Nn="X-Supabase-Api-Version",Cl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function Hf(e){return Math.round(Date.now()/1e3)+e}function qf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ze=()=>typeof window<"u"&&typeof document<"u",Ft={tested:!1,writable:!1},zs=()=>{if(!Ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ft.tested)return Ft.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ft.tested=!0,Ft.writable=!0}catch{Ft.tested=!0,Ft.writable=!1}return Ft.writable};function Vf(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{t[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{t[n]=r}),t}const Tl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>pe(async()=>{const{default:r}=await Promise.resolve().then(()=>ys);return{default:r}},void 0).then(({default:r})=>r(...s)):t=fetch,(...s)=>t(...s)},zf=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ol=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},pr=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},gr=async(e,t)=>{await e.removeItem(t)};function Kf(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",r,n,i,o,a,l,u,c=0;for(e=e.replace("-","+").replace("_","/");c<e.length;)o=t.indexOf(e.charAt(c++)),a=t.indexOf(e.charAt(c++)),l=t.indexOf(e.charAt(c++)),u=t.indexOf(e.charAt(c++)),r=o<<2|a>>4,n=(a&15)<<4|l>>2,i=(l&3)<<6|u,s=s+String.fromCharCode(r),l!=64&&n!=0&&(s=s+String.fromCharCode(n)),u!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class Yr{constructor(){this.promise=new Yr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Yr.promiseConstructor=Promise;function bo(e){const t=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=e.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!t.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=s[1];return JSON.parse(Kf(r))}async function Wf(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Gf(e,t){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){r(o);return}}catch(o){if(!t(i,o)){n(o);return}}})()})}function Jf(e){return("0"+e.toString(16)).substr(-2)}function Qf(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(t),Array.from(t,Jf).join("")}async function Yf(e){const s=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}function Xf(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Zf(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Yf(e);return Xf(s)}async function ns(e,t,s=!1){const r=Qf();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await Ol(e,`${t}-code-verifier`,n);const i=await Zf(r);return[i,r===i?"plain":"s256"]}const ed=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function td(e){const t=e.headers.get(Nn);if(!t||!t.match(ed))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}class _i extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sd extends _i{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function rd(e){return q(e)&&e.name==="AuthApiError"}class Pl extends _i{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Xt extends _i{constructor(t,s,r,n){super(t,r,n),this.name=s,this.status=r}}class bt extends Xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nd(e){return q(e)&&e.name==="AuthSessionMissingError"}class pn extends Xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class mr extends Xt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class _r extends Xt{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function id(e){return q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Eo extends Xt{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fn extends Xt{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function gn(e){return q(e)&&e.name==="AuthRetryableFetchError"}class So extends Xt{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}var od=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};const qt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ad=[502,503,504];async function Ao(e){var t;if(!zf(e))throw new Fn(qt(e),0);if(ad.includes(e.status))throw new Fn(qt(e),e.status);let s;try{s=await e.json()}catch(i){throw new Pl(qt(i),i)}let r;const n=td(e);if(n&&n.getTime()>=Cl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new So(qt(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new bt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new So(qt(s),e.status,s.weak_password.reasons);throw new sd(qt(s),e.status||500,r)}const ld=(e,t,s,r)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function K(e,t,s,r){var n;const i=Object.assign({},r==null?void 0:r.headers);i[Nn]||(i[Nn]=Cl["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r==null?void 0:r.query)!==null&&n!==void 0?n:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await cd(e,t,s+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function cd(e,t,s,r,n,i){const o=ld(t,r,n,i);let a;try{a=await e(s,Object.assign({},o))}catch(l){throw console.error(l),new Fn(qt(l),0)}if(a.ok||await Ao(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Ao(l)}}function Et(e){var t;let s=null;dd(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=Hf(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:r},error:null}}function ko(e){const t=Et(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ct(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ud(e){return{data:e,error:null}}function hd(e){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=e,o=od(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function fd(e){return e}function dd(e){return e.access_token&&e.refresh_token&&e.expires_in}var pd=function(e,t){var s={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(s[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(s[r[n]]=e[r[n]]);return s};class gd{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=Tl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(q(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ct})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=pd(t,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r==null?void 0:r.newEmail,delete n.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:hd,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(q(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ct})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,n,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:fd});if(c.error)throw c.error;const h=await c.json(),f=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(_=>{const E=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(_.split(";")[1].split("=")[1]);u[`${A}Page`]=E}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(q(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ct})}catch(s){if(q(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ct})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ct})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:s,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(q(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}}const md={getItem:e=>zs()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{zs()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{zs()&&globalThis.localStorage.removeItem(e)}};function xo(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function _d(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const is={debug:!!(globalThis&&zs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rl extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vd extends Rl{}async function yd(e,t,s){is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),is.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){is.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await s()}finally{is.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw is.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vd(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(is.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}_d();const wd={url:Nf,storageKey:Ff,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Bf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1},Rs=30*1e3,Co=3;async function To(e,t,s){return await s()}class Zs{constructor(t){var s,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zs.nextInstanceID,Zs.nextInstanceID+=1,this.instanceID>0&&Ze()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},wd),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new gd({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Tl(n.fetch),this.lock=n.lock||To,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Ze()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=yd:this.lock=To,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:zs()?this.storage=md:(this.memoryStorage={},this.storage=xo(this.memoryStorage)):(this.memoryStorage={},this.storage=xo(this.memoryStorage)),Ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xl}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Vf(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Ze()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),id(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return q(s)?{error:s}:{error:new Pl("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,n;try{const i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Et}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var s,r,n;try{let i;if("email"in t){const{email:c,password:h,options:f}=t;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await ns(this.storage,this.storageKey)),i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:_},xform:Et})}else if("phone"in t){const{phone:c,password:h,options:f}=t;i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(n=f==null?void 0:f.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Et})}else throw new mr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(q(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let s;if("email"in t){const{email:i,password:o,options:a}=t;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ko})}else if("phone"in t){const{phone:i,password:o,options:a}=t;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ko})}else throw new mr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new pn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,r,n,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await pr(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Et});if(await gr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pn}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(q(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=t,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Et}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,r,n,i,o;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await ns(this.storage,this.storageKey));const{error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new mr("You must provide either an email or phone number.")}catch(a){if(q(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,r;try{let n,i;"options"in t&&(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:Et});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(n){if(q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ns(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:ud})}catch(i){if(q(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new bt;const{error:n}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:n,options:i}=t,{error:o}=await K(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:n,options:i}=t,{data:o,error:a}=await K(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new mr("You must provide either an email or phone number and a type")}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ct}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bt}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Ct})})}catch(s){if(q(s))return nd(s)&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new bt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await ns(this.storage,this.storageKey));const{data:u,error:c}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Ct});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(q(r))return{data:{user:null},error:r};throw r}}_decodeJWT(t){return bo(t)}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new bt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const o=bo(t.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(q(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:o,error:a}=s;if(a)throw a;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new bt;const{session:n,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(q(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Ze())throw new _r("No browser detected.");if(t.error||t.error_description||t.error_code)throw new _r(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Eo("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new _r("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Eo("No code detected.");const{data:I,error:P}=await this._exchangeCodeForSession(t.code);if(P)throw P;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:I.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=t;if(!i||!a||!o||!u)throw new _r("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(a);let f=c+h;l&&(f=parseInt(l));const p=f-c;p*1e3<=Rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const _=f-h;c-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,f,c):c-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,f,c);const{data:E,error:A}=await this._getUser(i);if(A)throw A;const $={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:$,redirectType:t.type},error:null}}catch(r){if(q(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await pr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,t);if(a&&!(rd(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await gr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=qf(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await ns(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(q(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(q(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,u,c;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",p,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(n)throw n;return Ze()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(q(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Gf(async n=>(n>0&&await Wf(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Et})),(n,i)=>{const o=200*Math.pow(2,n);return i&&gn(i)&&Date.now()+o-r<Rs})}catch(r){if(this._debug(s,"error",r),q(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),Ze()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await pr(this.storage,this.storageKey);if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const n=Math.round(Date.now()/1e3),i=((t=r.expires_at)!==null&&t!==void 0?t:1/0)<n+wo;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${wo}s`),i){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),gn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new bt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Yr;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new bt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),q(i)){const o={session:null,error:i};return gn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,s,r=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ol(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await gr(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ze()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-t)/Rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Rs}ms, refresh threshold is ${Co} ticks`),n<=Co&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Rl)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ze()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await ns(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await K(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((n=l==null?void 0:l.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(q(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(q(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=(t==null?void 0:t.factors)||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,r;const{data:{session:n},error:i}=t;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const c=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}}Zs.nextInstanceID=0;const bd=Zs;class Ed extends bd{constructor(t){super(t)}}var Sd=function(e,t,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(c){try{u(r.next(c))}catch(h){o(h)}}function l(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):n(c.value).then(a,l)}u((r=r.apply(e,t||[])).next())})};class Ad{constructor(t,s,r){var n,i,o;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Df(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:Of,realtime:Rf,auth:Object.assign(Object.assign({},Pf),{storageKey:l}),global:Tf},c=Mf(r??{},u);this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Lf(s,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Jh(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Lh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new kf(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},r={}){return this.rest.rpc(t,s,r)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return Sd(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},u,c){var h;const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ed({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:(h="Authorization"in this.headers)!==null&&h!==void 0?h:!1})}_initRealtimeClient(t){return new hf(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,s,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kd=(e,t,s)=>new Ad(e,t,s),xd="https://kawdmbqsvrrmvhymflnx.supabase.co",Cd="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imthd2RtYnFzdnJybXZoeW1mbG54Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQxNjQ2NDEsImV4cCI6MjA0OTc0MDY0MX0.wfcQk1sq6ft1ZqmfrtavRahgrb87nWP4pU9loYiNtjU",te=kd(xd,Cd);/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const as=typeof document<"u";function $l(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Td(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&$l(e.default)}const Q=Object.assign;function mn(e,t){const s={};for(const r in t){const n=t[r];s[r]=We(n)?n.map(e):e(n)}return s}const Ks=()=>{},We=Array.isArray,Il=/#/g,Od=/&/g,Pd=/\//g,Rd=/=/g,$d=/\?/g,jl=/\+/g,Id=/%5B/g,jd=/%5D/g,Ll=/%5E/g,Ld=/%60/g,Ul=/%7B/g,Ud=/%7C/g,Dl=/%7D/g,Dd=/%20/g;function vi(e){return encodeURI(""+e).replace(Ud,"|").replace(Id,"[").replace(jd,"]")}function Md(e){return vi(e).replace(Ul,"{").replace(Dl,"}").replace(Ll,"^")}function Bn(e){return vi(e).replace(jl,"%2B").replace(Dd,"+").replace(Il,"%23").replace(Od,"%26").replace(Ld,"`").replace(Ul,"{").replace(Dl,"}").replace(Ll,"^")}function Nd(e){return Bn(e).replace(Rd,"%3D")}function Fd(e){return vi(e).replace(Il,"%23").replace($d,"%3F")}function Bd(e){return e==null?"":Fd(e).replace(Pd,"%2F")}function er(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Hd=/\/$/,qd=e=>e.replace(Hd,"");function _n(e,t,s="/"){let r,n={},i="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),i=t.slice(l+1,a>-1?a:t.length),n=e(i)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=Wd(r??t,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:er(o)}}function Vd(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Oo(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function zd(e,t,s){const r=t.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&ms(t.matched[r],s.matched[n])&&Ml(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function ms(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Ml(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Kd(e[s],t[s]))return!1;return!0}function Kd(e,t){return We(e)?Po(e,t):We(t)?Po(t,e):e===t}function Po(e,t){return We(t)?e.length===t.length&&e.every((s,r)=>s===t[r]):e.length===1&&e[0]===t}function Wd(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),r=e.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const yt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var tr;(function(e){e.pop="pop",e.push="push"})(tr||(tr={}));var Ws;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Ws||(Ws={}));function Gd(e){if(!e)if(as){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),qd(e)}const Jd=/^[^#]+#/;function Qd(e,t){return e.replace(Jd,"#")+t}function Yd(e,t){const s=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-s.left-(t.left||0),top:r.top-s.top-(t.top||0)}}const Xr=()=>({left:window.scrollX,top:window.scrollY});function Xd(e){let t;if("el"in e){const s=e.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;t=Yd(n,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Ro(e,t){return(history.state?history.state.position-t:-1)+e}const Hn=new Map;function Zd(e,t){Hn.set(e,t)}function ep(e){const t=Hn.get(e);return Hn.delete(e),t}let tp=()=>location.protocol+"//"+location.host;function Nl(e,t){const{pathname:s,search:r,hash:n}=t,i=e.indexOf("#");if(i>-1){let a=n.includes(e.slice(i))?e.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),Oo(l,"")}return Oo(s,e)+r+n}function sp(e,t,s,r){let n=[],i=[],o=null;const a=({state:f})=>{const p=Nl(e,location),_=s.value,E=t.value;let A=0;if(f){if(s.value=p,t.value=f,o&&o===_){o=null;return}A=E?f.position-E.position:0}else r(p);n.forEach($=>{$(s.value,_,{delta:A,type:tr.pop,direction:A?A>0?Ws.forward:Ws.back:Ws.unknown})})};function l(){o=s.value}function u(f){n.push(f);const p=()=>{const _=n.indexOf(f);_>-1&&n.splice(_,1)};return i.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(Q({},f.state,{scroll:Xr()}),"")}function h(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:h}}function $o(e,t,s,r=!1,n=!1){return{back:e,current:t,forward:s,replaced:r,position:window.history.length,scroll:n?Xr():null}}function rp(e){const{history:t,location:s}=window,r={value:Nl(e,s)},n={value:t.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function i(l,u,c){const h=e.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+l:tp()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),n.value=u}catch(p){console.error(p),s[c?"replace":"assign"](f)}}function o(l,u){const c=Q({},t.state,$o(n.value.back,l,n.value.forward,!0),u,{position:n.value.position});i(l,c,!0),r.value=l}function a(l,u){const c=Q({},n.value,t.state,{forward:l,scroll:Xr()});i(c.current,c,!0);const h=Q({},$o(r.value,l,null),{position:c.position+1},u);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function np(e){e=Gd(e);const t=rp(e),s=sp(e,t.state,t.location,t.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=Q({location:"",base:e,go:r,createHref:Qd.bind(null,e)},t,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>t.state.value}),n}function ip(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),np(e)}function op(e){return typeof e=="string"||e&&typeof e=="object"}function Fl(e){return typeof e=="string"||typeof e=="symbol"}const Bl=Symbol("");var Io;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Io||(Io={}));function _s(e,t){return Q(new Error,{type:e,[Bl]:!0},t)}function ct(e,t){return e instanceof Error&&Bl in e&&(t==null||!!(e.type&t))}const jo="[^/]+?",ap={sensitive:!1,strict:!1,start:!0,end:!0},lp=/[.+*?^${}()[\]/\\]/g;function cp(e,t){const s=Q({},ap,t),r=[];let n=s.start?"^":"";const i=[];for(const u of e){const c=u.length?[]:[90];s.strict&&!u.length&&(n+="/");for(let h=0;h<u.length;h++){const f=u[h];let p=40+(s.sensitive?.25:0);if(f.type===0)h||(n+="/"),n+=f.value.replace(lp,"\\$&"),p+=40;else if(f.type===1){const{value:_,repeatable:E,optional:A,regexp:$}=f;i.push({name:_,repeatable:E,optional:A});const I=$||jo;if(I!==jo){p+=10;try{new RegExp(`(${I})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${_}" (${I}): `+C.message)}}let P=E?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;h||(P=A&&u.length<2?`(?:/${P})`:"/"+P),A&&(P+="?"),n+=P,p+=20,A&&(p+=-8),E&&(p+=-20),I===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(s.strict&&s.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(u){const c=u.match(o),h={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",_=i[f-1];h[_.name]=p&&_.repeatable?p.split("/"):p}return h}function l(u){let c="",h=!1;for(const f of e){(!h||!c.endsWith("/"))&&(c+="/"),h=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:_,repeatable:E,optional:A}=p,$=_ in u?u[_]:"";if(We($)&&!E)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const I=We($)?$.join("/"):$;if(!I)if(A)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):h=!0);else throw new Error(`Missing required param "${_}"`);c+=I}}return c||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function up(e,t){let s=0;for(;s<e.length&&s<t.length;){const r=t[s]-e[s];if(r)return r;s++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function Hl(e,t){let s=0;const r=e.score,n=t.score;for(;s<r.length&&s<n.length;){const i=up(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(Lo(r))return 1;if(Lo(n))return-1}return n.length-r.length}function Lo(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const hp={type:0,value:""},fp=/[a-zA-Z0-9_]/;function dp(e){if(!e)return[[]];if(e==="/")return[[hp]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${u}": ${p}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,u="",c="";function h(){u&&(s===0?i.push({type:0,value:u}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(u&&h(),o()):l===":"?(h(),s=1):f();break;case 4:f(),s=r;break;case 1:l==="("?s=2:fp.test(l)?f():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:s=3:c+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${u}"`),h(),o(),n}function pp(e,t,s){const r=cp(dp(e.path),s),n=Q(r,{record:e,parent:t,children:[],alias:[]});return t&&!n.record.aliasOf==!t.record.aliasOf&&t.children.push(n),n}function gp(e,t){const s=[],r=new Map;t=No({strict:!1,end:!0,sensitive:!1},t);function n(h){return r.get(h)}function i(h,f,p){const _=!p,E=Do(h);E.aliasOf=p&&p.record;const A=No(t,h),$=[E];if("alias"in h){const C=typeof h.alias=="string"?[h.alias]:h.alias;for(const U of C)$.push(Do(Q({},E,{components:p?p.record.components:E.components,path:U,aliasOf:p?p.record:E})))}let I,P;for(const C of $){const{path:U}=C;if(f&&U[0]!=="/"){const de=f.record.path,X=de[de.length-1]==="/"?"":"/";C.path=f.record.path+(U&&X+U)}if(I=pp(C,f,A),p?p.alias.push(I):(P=P||I,P!==I&&P.alias.push(I),_&&h.name&&!Mo(I)&&o(h.name)),ql(I)&&l(I),E.children){const de=E.children;for(let X=0;X<de.length;X++)i(de[X],I,p&&p.children[X])}p=p||I}return P?()=>{o(P)}:Ks}function o(h){if(Fl(h)){const f=r.get(h);f&&(r.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(o),f.alias.forEach(o))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const f=vp(h,s);s.splice(f,0,h),h.record.name&&!Mo(h)&&r.set(h.record.name,h)}function u(h,f){let p,_={},E,A;if("name"in h&&h.name){if(p=r.get(h.name),!p)throw _s(1,{location:h});A=p.record.name,_=Q(Uo(f.params,p.keys.filter(P=>!P.optional).concat(p.parent?p.parent.keys.filter(P=>P.optional):[]).map(P=>P.name)),h.params&&Uo(h.params,p.keys.map(P=>P.name))),E=p.stringify(_)}else if(h.path!=null)E=h.path,p=s.find(P=>P.re.test(E)),p&&(_=p.parse(E),A=p.record.name);else{if(p=f.name?r.get(f.name):s.find(P=>P.re.test(f.path)),!p)throw _s(1,{location:h,currentLocation:f});A=p.record.name,_=Q({},f.params,h.params),E=p.stringify(_)}const $=[];let I=p;for(;I;)$.unshift(I.record),I=I.parent;return{name:A,path:E,params:_,matched:$,meta:_p($)}}e.forEach(h=>i(h));function c(){s.length=0,r.clear()}return{addRoute:i,resolve:u,removeRoute:o,clearRoutes:c,getRoutes:a,getRecordMatcher:n}}function Uo(e,t){const s={};for(const r of t)r in e&&(s[r]=e[r]);return s}function Do(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:mp(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function mp(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const r in e.components)t[r]=typeof s=="object"?s[r]:s;return t}function Mo(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function _p(e){return e.reduce((t,s)=>Q(t,s.meta),{})}function No(e,t){const s={};for(const r in e)s[r]=r in t?t[r]:e[r];return s}function vp(e,t){let s=0,r=t.length;for(;s!==r;){const i=s+r>>1;Hl(e,t[i])<0?r=i:s=i+1}const n=yp(e);return n&&(r=t.lastIndexOf(n,r-1)),r}function yp(e){let t=e;for(;t=t.parent;)if(ql(t)&&Hl(e,t)===0)return t}function ql({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function wp(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(jl," "),o=i.indexOf("="),a=er(o<0?i:i.slice(0,o)),l=o<0?null:er(i.slice(o+1));if(a in t){let u=t[a];We(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function Fo(e){let t="";for(let s in e){const r=e[s];if(s=Nd(s),r==null){r!==void 0&&(t+=(t.length?"&":"")+s);continue}(We(r)?r.map(i=>i&&Bn(i)):[r&&Bn(r)]).forEach(i=>{i!==void 0&&(t+=(t.length?"&":"")+s,i!=null&&(t+="="+i))})}return t}function bp(e){const t={};for(const s in e){const r=e[s];r!==void 0&&(t[s]=We(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return t}const Ep=Symbol(""),Bo=Symbol(""),Zr=Symbol(""),yi=Symbol(""),qn=Symbol("");function $s(){let e=[];function t(r){return e.push(r),()=>{const n=e.indexOf(r);n>-1&&e.splice(n,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function xt(e,t,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const u=f=>{f===!1?l(_s(4,{from:s,to:t})):f instanceof Error?l(f):op(f)?l(_s(2,{from:t,to:f})):(o&&r.enterCallbacks[n]===o&&typeof f=="function"&&o.push(f),a())},c=i(()=>e.call(r&&r.instances[n],t,s,u));let h=Promise.resolve(c);e.length<3&&(h=h.then(u)),h.catch(f=>l(f))})}function vn(e,t,s,r,n=i=>i()){const i=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if($l(l)){const c=(l.__vccOpts||l)[t];c&&i.push(xt(c,s,r,o,a,n))}else{let u=l();i.push(()=>u.then(c=>{if(!c)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=Td(c)?c.default:c;o.mods[a]=c,o.components[a]=h;const p=(h.__vccOpts||h)[t];return p&&xt(p,s,r,o,a,n)()}))}}return i}function Ho(e){const t=Be(Zr),s=Be(yi),r=ce(()=>{const l=us(e.to);return t.resolve(l)}),n=ce(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],h=s.matched;if(!c||!h.length)return-1;const f=h.findIndex(ms.bind(null,c));if(f>-1)return f;const p=qo(l[u-2]);return u>1&&qo(c)===p&&h[h.length-1].path!==p?h.findIndex(ms.bind(null,l[u-2])):f}),i=ce(()=>n.value>-1&&Cp(s.params,r.value.params)),o=ce(()=>n.value>-1&&n.value===s.matched.length-1&&Ml(s.params,r.value.params));function a(l={}){if(xp(l)){const u=t[us(e.replace)?"replace":"push"](us(e.to)).catch(Ks);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:ce(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Sp(e){return e.length===1?e[0]:e}const Ap=qr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ho,setup(e,{slots:t}){const s=it(Ho(e)),{options:r}=Be(Zr),n=ce(()=>({[Vo(e.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[Vo(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=t.default&&Sp(t.default(s));return e.custom?i:ol("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),kp=Ap;function xp(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Cp(e,t){for(const s in t){const r=t[s],n=e[s];if(typeof r=="string"){if(r!==n)return!1}else if(!We(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function qo(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Vo=(e,t,s)=>e??t??s,Tp=qr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const r=Be(qn),n=ce(()=>e.route||r.value),i=Be(Bo,0),o=ce(()=>{let u=us(i);const{matched:c}=n.value;let h;for(;(h=c[u])&&!h.components;)u++;return u}),a=ce(()=>n.value.matched[o.value]);wr(Bo,ce(()=>o.value+1)),wr(Ep,a),wr(qn,n);const l=Ve();return Rt(()=>[l.value,a.value,e.name],([u,c,h],[f,p,_])=>{c&&(c.instances[h]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!ms(c,p)||!f)&&(c.enterCallbacks[h]||[]).forEach(E=>E(u))},{flush:"post"}),()=>{const u=n.value,c=e.name,h=a.value,f=h&&h.components[c];if(!f)return zo(s.default,{Component:f,route:u});const p=h.props[c],_=p?p===!0?u.params:typeof p=="function"?p(u):p:null,A=ol(f,Q({},_,t,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(h.instances[c]=null)},ref:l}));return zo(s.default,{Component:A,route:u})||A}}});function zo(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Op=Tp;function Pp(e){const t=gp(e.routes,e),s=e.parseQuery||wp,r=e.stringifyQuery||Fo,n=e.history,i=$s(),o=$s(),a=$s(),l=kc(yt);let u=yt;as&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=mn.bind(null,y=>""+y),h=mn.bind(null,Bd),f=mn.bind(null,er);function p(y,j){let O,L;return Fl(y)?(O=t.getRecordMatcher(y),L=j):L=y,t.addRoute(L,O)}function _(y){const j=t.getRecordMatcher(y);j&&t.removeRoute(j)}function E(){return t.getRoutes().map(y=>y.record)}function A(y){return!!t.getRecordMatcher(y)}function $(y,j){if(j=Q({},j||l.value),typeof y=="string"){const m=_n(s,y,j.path),v=t.resolve({path:m.path},j),b=n.createHref(m.fullPath);return Q(m,v,{params:f(v.params),hash:er(m.hash),redirectedFrom:void 0,href:b})}let O;if(y.path!=null)O=Q({},y,{path:_n(s,y.path,j.path).path});else{const m=Q({},y.params);for(const v in m)m[v]==null&&delete m[v];O=Q({},y,{params:h(m)}),j.params=h(j.params)}const L=t.resolve(O,j),ee=y.hash||"";L.params=c(f(L.params));const d=Vd(r,Q({},y,{hash:Md(ee),path:L.path})),g=n.createHref(d);return Q({fullPath:d,hash:ee,query:r===Fo?bp(y.query):y.query||{}},L,{redirectedFrom:void 0,href:g})}function I(y){return typeof y=="string"?_n(s,y,l.value.path):Q({},y)}function P(y,j){if(u!==y)return _s(8,{from:j,to:y})}function C(y){return X(y)}function U(y){return C(Q(I(y),{replace:!0}))}function de(y){const j=y.matched[y.matched.length-1];if(j&&j.redirect){const{redirect:O}=j;let L=typeof O=="function"?O(y):O;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=I(L):{path:L},L.params={}),Q({query:y.query,hash:y.hash,params:L.path!=null?{}:y.params},L)}}function X(y,j){const O=u=$(y),L=l.value,ee=y.state,d=y.force,g=y.replace===!0,m=de(O);if(m)return X(Q(I(m),{state:typeof m=="object"?Q({},ee,m.state):ee,force:d,replace:g}),j||O);const v=O;v.redirectedFrom=j;let b;return!d&&zd(r,L,O)&&(b=_s(16,{to:v,from:L}),Ge(L,L,!0,!1)),(b?Promise.resolve(b):le(v,L)).catch(w=>ct(w)?ct(w,2)?w:vt(w):J(w,v,L)).then(w=>{if(w){if(ct(w,2))return X(Q({replace:g},I(w.to),{state:typeof w.to=="object"?Q({},ee,w.to.state):ee,force:d}),j||v)}else w=$e(v,L,!0,g,ee);return Ee(v,L,w),w})}function V(y,j){const O=P(y,j);return O?Promise.reject(O):Promise.resolve()}function z(y){const j=es.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(y):y()}function le(y,j){let O;const[L,ee,d]=Rp(y,j);O=vn(L.reverse(),"beforeRouteLeave",y,j);for(const m of L)m.leaveGuards.forEach(v=>{O.push(xt(v,y,j))});const g=V.bind(null,y,j);return O.push(g),Ne(O).then(()=>{O=[];for(const m of i.list())O.push(xt(m,y,j));return O.push(g),Ne(O)}).then(()=>{O=vn(ee,"beforeRouteUpdate",y,j);for(const m of ee)m.updateGuards.forEach(v=>{O.push(xt(v,y,j))});return O.push(g),Ne(O)}).then(()=>{O=[];for(const m of d)if(m.beforeEnter)if(We(m.beforeEnter))for(const v of m.beforeEnter)O.push(xt(v,y,j));else O.push(xt(m.beforeEnter,y,j));return O.push(g),Ne(O)}).then(()=>(y.matched.forEach(m=>m.enterCallbacks={}),O=vn(d,"beforeRouteEnter",y,j,z),O.push(g),Ne(O))).then(()=>{O=[];for(const m of o.list())O.push(xt(m,y,j));return O.push(g),Ne(O)}).catch(m=>ct(m,8)?m:Promise.reject(m))}function Ee(y,j,O){a.list().forEach(L=>z(()=>L(y,j,O)))}function $e(y,j,O,L,ee){const d=P(y,j);if(d)return d;const g=j===yt,m=as?history.state:{};O&&(L||g?n.replace(y.fullPath,Q({scroll:g&&m&&m.scroll},ee)):n.push(y.fullPath,ee)),l.value=y,Ge(y,j,O,g),vt()}let xe;function Dt(){xe||(xe=n.listen((y,j,O)=>{if(!lr.listening)return;const L=$(y),ee=de(L);if(ee){X(Q(ee,{replace:!0,force:!0}),L).catch(Ks);return}u=L;const d=l.value;as&&Zd(Ro(d.fullPath,O.delta),Xr()),le(L,d).catch(g=>ct(g,12)?g:ct(g,2)?(X(Q(I(g.to),{force:!0}),L).then(m=>{ct(m,20)&&!O.delta&&O.type===tr.pop&&n.go(-1,!1)}).catch(Ks),Promise.reject()):(O.delta&&n.go(-O.delta,!1),J(g,L,d))).then(g=>{g=g||$e(L,d,!1),g&&(O.delta&&!ct(g,8)?n.go(-O.delta,!1):O.type===tr.pop&&ct(g,20)&&n.go(-1,!1)),Ee(L,d,g)}).catch(Ks)}))}let _t=$s(),ae=$s(),H;function J(y,j,O){vt(y);const L=ae.list();return L.length?L.forEach(ee=>ee(y,j,O)):console.error(y),Promise.reject(y)}function at(){return H&&l.value!==yt?Promise.resolve():new Promise((y,j)=>{_t.add([y,j])})}function vt(y){return H||(H=!y,Dt(),_t.list().forEach(([j,O])=>y?O(y):j()),_t.reset()),y}function Ge(y,j,O,L){const{scrollBehavior:ee}=e;if(!as||!ee)return Promise.resolve();const d=!O&&ep(Ro(y.fullPath,0))||(L||!O)&&history.state&&history.state.scroll||null;return Tt().then(()=>ee(y,j,d)).then(g=>g&&Xd(g)).catch(g=>J(g,y,j))}const Ce=y=>n.go(y);let Zt;const es=new Set,lr={currentRoute:l,listening:!0,addRoute:p,removeRoute:_,clearRoutes:t.clearRoutes,hasRoute:A,getRoutes:E,resolve:$,options:e,push:C,replace:U,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ae.add,isReady:at,install(y){const j=this;y.component("RouterLink",kp),y.component("RouterView",Op),y.config.globalProperties.$router=j,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>us(l)}),as&&!Zt&&l.value===yt&&(Zt=!0,C(n.location).catch(ee=>{}));const O={};for(const ee in yt)Object.defineProperty(O,ee,{get:()=>l.value[ee],enumerable:!0});y.provide(Zr,j),y.provide(yi,Aa(O)),y.provide(qn,l);const L=y.unmount;es.add(y),y.unmount=function(){es.delete(y),es.size<1&&(u=yt,xe&&xe(),xe=null,l.value=yt,Zt=!1,H=!1),L()}}};function Ne(y){return y.reduce((j,O)=>j.then(()=>z(O)),Promise.resolve())}return lr}function Rp(e,t){const s=[],r=[],n=[],i=Math.max(t.matched.length,e.matched.length);for(let o=0;o<i;o++){const a=t.matched[o];a&&(e.matched.find(u=>ms(u,a))?r.push(a):s.push(a));const l=e.matched[o];l&&(t.matched.find(u=>ms(u,l))||n.push(l))}return[s,r,n]}function $p(){return Be(Zr)}function Wg(e){return Be(yi)}const Ip=Qr("friend",()=>{const e=Ve([]);return{getFriends:async n=>{const{data:i,error:o}=await te.from("users").select("friends").eq("id",n).single();return o?(console.error("Error fetching friends:",o),[]):(i&&Array.isArray(i.friends)?e.value=i.friends:e.value=[],e.value)},addFriend:async(n,i)=>{try{const{data:o}=await te.from("users").select("username").eq("id",i).single(),l=[...Array.isArray(e.value)?e.value:[],{id:i,username:o.username}];await te.from("users").update({friends:l}).eq("id",n)}catch(o){console.error("Error adding friend:",o)}},removeFriend:async(n,i)=>{try{const o=e.value.filter(f=>f.id!==i),{error:a}=await te.from("users").update({friends:o}).eq("id",n);if(a)throw new Error(`      : ${a.message}`);const{data:l,error:u}=await te.from("users").select("friends").eq("id",i).single();if(u)throw new Error(`    : ${u.message}`);const c=l.friends.filter(f=>f.id!==n),{error:h}=await te.from("users").update({friends:c}).eq("id",i);if(h)throw new Error(`      : ${h.message}`);console.log("     .")}catch(o){console.error("   removeFriend:",o.message)}},friends:e}}),_e=[];for(let e=0;e<256;++e)_e.push((e+256).toString(16).slice(1));function jp(e,t=0){return(_e[e[t+0]]+_e[e[t+1]]+_e[e[t+2]]+_e[e[t+3]]+"-"+_e[e[t+4]]+_e[e[t+5]]+"-"+_e[e[t+6]]+_e[e[t+7]]+"-"+_e[e[t+8]]+_e[e[t+9]]+"-"+_e[e[t+10]]+_e[e[t+11]]+_e[e[t+12]]+_e[e[t+13]]+_e[e[t+14]]+_e[e[t+15]]).toLowerCase()}let yn;const Lp=new Uint8Array(16);function Up(){if(!yn){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");yn=crypto.getRandomValues.bind(crypto)}return yn(Lp)}const Dp=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ko={randomUUID:Dp};function Wo(e,t,s){var n;if(Ko.randomUUID&&!t&&!e)return Ko.randomUUID();e=e||{};const r=e.random??((n=e.rng)==null?void 0:n.call(e))??Up();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jp(r)}const Mp=Qr("notice",()=>{const e=Ve([]);return{addNotice:async(i,o,a,l)=>{const{data:u}=await te.from("users").select("notices").eq("id",o).single(),c=u.notices.length>0?[...u.notices,{id:Wo(),sender_id:i,recipient_id:o,message:a,notice_type:l}]:[{id:Wo(),sender_id:i,recipient_id:o,message:a,notice_type:l}];await te.from("users").update({notices:c}).eq("id",o)},getNotices:async i=>{const{data:o,error:a}=await te.from("users").select("notices").eq("id",i).single();return e.value=(o==null?void 0:o.notices)||[],(o==null?void 0:o.notices)||[]},removeNotice:async(i,o)=>{const{data:a}=await te.from("users").select("notices").eq("id",i).single(),l=a.notices.filter(u=>u.id!==o);await te.from("users").update({notices:l}).eq("id",i)},removeSentNotice:async(i,o)=>{const{data:a}=await te.from("users").select("notices").eq("id",i).single(),l=a.notices.filter(u=>u.notice_type!=="sentFriend"&&u.sender_id!==o);await te.from("users").update({notices:l}).eq("id",i)},notices:e}}),Np=Qr("Chat",()=>{const e=ce(()=>s.user),t=Ve([]),s=en();return{fetchChats:async()=>{if(!e.value)return;const{data:n,error:i}=await te.from("chats").select("*").or(`user1_id.eq.${e.value.id},user2_id.eq.${e.value.id}`);if(i){console.error("Error fetching chats:",i);return}const o=n.flatMap(f=>[f.user1_id,f.user2_id]),a=[...new Set(o.filter(Boolean))],{data:l,error:u}=await te.from("users").select("id, username").in("id",a);if(u){console.error("Error fetching usernames:",u);return}const c=new Map;l.forEach(f=>{c.set(f.id,f.username)});const h=n.map(f=>({...f,user1_name:c.get(f.user1_id)||"Unknown User",user2_name:c.get(f.user2_id)||"Unknown User"}));t.value=h},chats:t}});/*! js-cookie v3.0.5 | MIT */function vr(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)e[r]=s[r]}return e}var Fp={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Vn(e,t){function s(n,i,o){if(!(typeof document>"u")){o=vr({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var l in o)o[l]&&(a+="; "+l,o[l]!==!0&&(a+="="+o[l].split(";")[0]));return document.cookie=n+"="+e.write(i,n)+a}}function r(n){if(!(typeof document>"u"||arguments.length&&!n)){for(var i=document.cookie?document.cookie.split("; "):[],o={},a=0;a<i.length;a++){var l=i[a].split("="),u=l.slice(1).join("=");try{var c=decodeURIComponent(l[0]);if(o[c]=e.read(u,c),n===c)break}catch{}}return n?o[n]:o}}return Object.create({set:s,get:r,remove:function(n,i){s(n,"",vr({},i,{expires:-1}))},withAttributes:function(n){return Vn(this.converter,vr({},this.attributes,n))},withConverter:function(n){return Vn(vr({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Ls=Vn(Fp,{path:"/"});const en=Qr("user",()=>{const e=$p(),t=Ip(),s=Mp(),r=Np(),n=it({currentUser:null,email:"",username:null,birthdate:null,avatar_url:null,usernamesCache:{},session:null,avatarsCache:{byUserId:{},byUsername:{}}}),i=ce(()=>n.currentUser),o=ce(()=>{var c;return((c=n.currentUser)==null?void 0:c.id)||null}),a=(c,h="")=>{throw console.error(`[User Store Error] ${h}:`,c),c},l=c=>{Ls.set("userSession",JSON.stringify(c),{expires:30,secure:!0,sameSite:"strict"})},u={async fetchUser(){try{const c=Ls.get("userSession");if(c){const E=JSON.parse(c),{data:A}=await te.from("users").select().eq("id",E.userId).single();if(A)return this.updateUserState(A),A}const{data:{user:h},error:f}=await te.auth.getUser();if(f)throw f;if(!h)return null;const{data:p,error:_}=await te.from("users").select().eq("email",h.email).single();if(_)throw _;return this.updateUserState(p),l({userId:p.id}),p}catch(c){return a(c,"fetchUser"),null}},updateUserState(c){n.currentUser=c,n.email=c.email,n.username=c.username,n.birthdate=c.birthdate,n.avatar_url=c.avatar_url,c!=null&&c.id&&(n.avatarsCache.byUserId[c.id]=c.avatar_url),c!=null&&c.username&&(n.avatarsCache.byUsername[c.username]=c.avatar_url)},async logout(){try{await te.auth.signOut(),n.currentUser=null,n.avatarsCache.byUserId={},n.avatarsCache.byUsername={},Ls.remove("userSession"),e.push("/")}catch(c){a(c,"logout")}},async getUsers(c=""){try{if(!n.currentUser)throw new Error("User not authenticated");let h=te.from("users").select("id, username, avatar_url").neq("id",n.currentUser.id);c&&(h=h.ilike("username",`%${c}%`));const{data:f,error:p}=await h;if(p)throw p;return f.forEach(_=>{n.avatarsCache.byUserId[_.id]=_.avatar_url,n.avatarsCache.byUsername[_.username]=_.avatar_url}),f}catch(h){return a(h,"getUsers"),[]}},async getUserByUsername(c){try{const{data:h,error:f}=await te.from("users").select("*").eq("username",c).single();if(f)throw f;return h}catch(h){return a(h,"getUserByUsername"),null}},async getAvatar(c){const h="https://kawdmbqsvrrmvhymflnx.supabase.co/storage/v1/object/public/avatars/avatars/default-avatar-icon-of-social-media-user-vector.jpg";try{if(!c)return h;if(n.avatarsCache.byUserId[c])return n.avatarsCache.byUserId[c];const{data:f,error:p}=await te.from("users").select("avatar_url").eq("id",c).single(),_=p?h:f.avatar_url||h;return n.avatarsCache.byUserId[c]=_,f!=null&&f.username&&(n.avatarsCache.byUsername[f.username]=_),_}catch{return h}},async getAvatarByUsername(c){const h="https://kawdmbqsvrrmvhymflnx.supabase.co/storage/v1/object/public/avatars/avatars/default-avatar-icon-of-social-media-user-vector.jpg";try{if(!c)return h;if(n.avatarsCache.byUsername[c])return n.avatarsCache.byUsername[c];const{data:f,error:p}=await te.from("users").select("avatar_url, id").eq("username",c).single(),_=p?h:f.avatar_url||h;return n.avatarsCache.byUsername[c]=_,f!=null&&f.id&&(n.avatarsCache.byUserId[f.id]=_),_}catch{return h}},async getUsername(c){try{if(!c)return"Unknown User";if(n.usernamesCache[c])return n.usernamesCache[c];const{data:h,error:f}=await te.from("users").select("username").eq("id",c).single();return!f&&h.username?(n.usernamesCache[c]=h.username,h.username):"Unknown User"}catch{return"Unknown User"}},async updateProfile(c){try{if(!n.currentUser)throw new Error("User not authenticated");const{data:h,error:f}=await te.from("users").update(c).eq("id",n.currentUser.id).select().single();if(f)throw f;return c.avatar_url&&(n.avatarsCache.byUserId[n.currentUser.id]=c.avatar_url,n.avatarsCache.byUsername[n.currentUser.username]=c.avatar_url),this.updateUserState({...n.currentUser,...h}),h}catch(h){a(h,"updateProfile")}},async changeStatus(c){try{if(!n.currentUser)throw new Error("User not authenticated");const{error:h}=await te.from("users").update({status:c}).eq("id",n.currentUser.id);if(h)throw h}catch(h){a(h,"changeStatus")}}};return Rt(()=>n.currentUser,c=>{c&&(s.getNotices(c.id),t.getFriends(c.id),r.fetchChats())},{immediate:!0}),te.auth.onAuthStateChange((c,h)=>{c==="SIGNED_OUT"&&(n.currentUser=null,Ls.remove("userSession"))}),{email:ce(()=>n.email),username:ce(()=>n.username),birthdate:ce(()=>n.birthdate),avatar_url:ce(()=>n.avatar_url),user:ce(()=>n.currentUser),userId:o,isAuthenticated:i,...u}}),ar=(e,t)=>{const s=e.__vccOpts||e;for(const[r,n]of t)s[r]=n;return s},Bp={},Hp={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};function qp(e,t){return De(),gt("svg",Hp,t[0]||(t[0]=[Re("circle",{cx:"12",cy:"7",r:"4"},null,-1),Re("path",{d:"M4 21c0-4 4-7 8-7s8 3 8 7"},null,-1)]))}const Vp=ar(Bp,[["render",qp]]),zp={},Kp={xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"32",height:"32",x:"0",y:"0",viewBox:"0 0 48 48",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve",class:""};function Wp(e,t){return De(),gt("svg",Kp,t[0]||(t[0]=[Re("g",null,[Re("path",{d:"M34.8 27.4c3.4 0 6.2-2.8 6.2-6.2s-2.8-6.3-6.3-6.3c-3.4 0-6.2 2.8-6.2 6.2 0 3.5 2.8 6.3 6.3 6.3-.1 0 0 0 0 0zm-3.3-6.3c0-1.8 1.5-3.2 3.3-3.2s3.2 1.5 3.2 3.3-1.5 3.2-3.2 3.2v1.5-1.5c-1.8 0-3.3-1.5-3.3-3.3zM18.5 21.7c4.6 0 8.3-3.7 8.4-8.3 0-4.6-3.7-8.4-8.4-8.4-4.6 0-8.3 3.7-8.4 8.3 0 2.2.9 4.3 2.4 5.9 1.6 1.6 3.7 2.5 6 2.5-.1 0 0 0 0 0zm-5.4-8.4c0-2.9 2.4-5.3 5.4-5.3s5.4 2.4 5.3 5.4c0 2.9-2.4 5.3-5.4 5.3v1.5-1.5c-1.4 0-2.8-.6-3.8-1.6s-1.5-2.4-1.5-3.8zM.5 41.2c0 .4.1.8.4 1.1s.7.5 1.1.5l32.7.2H46c.4 0 .8-.2 1.1-.5s.4-.7.4-1.1C47.1 35 41.5 30 34.7 30h-.1c-1.3 0-2.5.2-3.7.6-3.2-3-7.7-4.9-12.6-5C9 25.6 1.2 32.5.5 41.2zM34.7 33c4.6 0 8.5 3 9.5 7H36c-.4-2.5-1.4-4.8-2.8-6.8.5-.1 1-.2 1.5-.2zm-16.3-4.4c7.2 0 13.3 4.9 14.6 11.3l-29.3-.1c1.3-6.4 7.5-11.2 14.7-11.2z",fill:"#fff",opacity:"1","data-original":"#000000",class:""})],-1)]))}const Gp=ar(zp,[["render",Wp]]),Jp={},Qp={xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"32",height:"32",x:"0",y:"0",viewBox:"0 0 404.009 404.009",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve",class:""};function Yp(e,t){return De(),gt("svg",Qp,t[0]||(t[0]=[Ru('<g><path d="M46.594 315.11c-13.5 0-26.689-3.445-38.642-10.157-6.15-3.167-8.532-11.091-4.858-17.052 12.207-19.506 16.615-43.35 11.026-65.774C8.327 198.88-.055 179.301.005 154.691.213 68.35 72.078-1.646 158.331.029c83.31 1.678 151.969 71.71 151.97 155.042.001 108.833-114.057 185.243-214.75 143.216-13.879 10.894-31.324 16.823-48.957 16.823zM30.19 288.538c18.968 5.891 40.301 1.185 54.928-12.956a11.998 11.998 0 0 1 13.517-2.199C184.842 314.6 286.301 249.996 286.3 155.071c0-70.834-57.624-129.621-128.452-131.047C84.856 22.574 24.181 81.69 24.005 154.749c-.057 23.375 9.063 42.056 14.047 64.199 5.251 23.335 2.485 48.011-7.862 69.59z" fill="#fff" opacity="1" data-original="#fff" class=""></path><path d="M357.414 404.009c-17.632 0-35.078-5.93-48.955-16.822-53.55 22.349-117.248 12.171-161.155-25.747-5.016-4.332-5.57-11.909-1.239-16.926 4.332-5.015 11.909-5.571 16.925-1.238 38.942 33.63 95.973 41.195 142.384 19.007a11.997 11.997 0 0 1 13.517 2.199c14.626 14.14 35.96 18.849 54.928 12.955-12.206-25.459-13.897-54.626-4.438-81.628.085-.243.178-.482.278-.72 6.908-16.285 10.389-33.593 10.346-51.441-.076-31.468-10.544-60.577-30.274-84.182-4.25-5.086-3.573-12.653 1.512-16.903 5.084-4.251 12.653-3.573 16.903 1.512 23.036 27.561 35.771 62.902 35.859 99.515.051 20.971-4.018 41.323-12.093 60.499-8.482 24.553-4.581 50.842 9.002 72.709 3.677 5.962 1.293 13.887-4.859 17.056-11.951 6.709-25.143 10.154-38.641 10.155z" fill="#fff" opacity="1" data-original="#fff" class=""></path><ellipse cx="155.152" cy="155.669" rx="18.988" ry="18.978" fill="#fff" opacity="1" data-original="#fff" class=""></ellipse><ellipse cx="85.196" cy="155.669" rx="18.988" ry="18.978" fill="#fff" opacity="1" data-original="#fff" class=""></ellipse><ellipse cx="225.109" cy="155.669" rx="18.988" ry="18.978" fill="#fff" opacity="1" data-original="#fff" class=""></ellipse></g>',1)]))}const Xp=ar(Jp,[["render",Yp]]),Zp={},eg={xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"32",height:"32",x:"0",y:"0",viewBox:"0 0 512 512",style:{"enable-background":"new 0 0 512 512"},"xml:space":"preserve",class:""};function tg(e,t){return De(),gt("svg",eg,t[0]||(t[0]=[Re("g",null,[Re("path",{d:"M363.335 488a24 24 0 0 1-24 24H113.082a80.09 80.09 0 0 1-80-80V80a80.09 80.09 0 0 1 80-80h226.253a24 24 0 0 1 0 48H113.082a32.035 32.035 0 0 0-32 32v352a32.034 32.034 0 0 0 32 32h226.253a24 24 0 0 1 24 24zm108.553-248.97L357.837 124.978a24 24 0 1 0-33.937 33.941L396.977 232H208.041a24 24 0 1 0 0 48h188.935l-73.08 73.08a24 24 0 1 0 33.941 33.941l114.051-114.05a24 24 0 0 0 0-33.941z",fill:"#fff",opacity:"1","data-original":"#fff",class:""})],-1)]))}const sg=ar(Zp,[["render",tg]]),rg={},ng={width:"32px",height:"32px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ig(e,t){return De(),gt("svg",ng,t[0]||(t[0]=[Re("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),Re("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),Re("g",{id:"SVGRepo_iconCarrier"},[Re("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33497 4.72727V5.25342C6.64516 6.35644 4.76592 9.97935 4.83412 13.1192L4.83409 14.8631C3.45713 16.6333 3.53815 19.2727 6.9735 19.2727H9.33497C9.33497 19.996 9.61684 20.6897 10.1186 21.2012C10.6203 21.7127 11.3008 22 12.0104 22C12.72 22 13.4005 21.7127 13.9022 21.2012C14.404 20.6897 14.6858 19.996 14.6858 19.2727H17.0538C20.4826 19.2727 20.5323 16.6278 19.1555 14.8576L19.1938 13.1216C19.2631 9.97811 17.3803 6.35194 14.6858 5.25049V4.72727C14.6858 4.00396 14.404 3.31026 13.9022 2.7988C13.4005 2.28734 12.72 2 12.0104 2C11.3008 2 10.6203 2.28734 10.1186 2.7988C9.61684 3.31026 9.33497 4.00395 9.33497 4.72727ZM12.9022 4.72727C12.9022 4.74573 12.9017 4.76414 12.9006 4.78246C12.6101 4.74603 12.3142 4.72727 12.014 4.72727C11.7113 4.72727 11.413 4.74634 11.1203 4.78335C11.1192 4.76474 11.1186 4.74603 11.1186 4.72727C11.1186 4.48617 11.2126 4.25494 11.3798 4.08445C11.547 3.91396 11.7739 3.81818 12.0104 3.81818C12.2469 3.81818 12.4738 3.91396 12.641 4.08445C12.8083 4.25494 12.9022 4.48617 12.9022 4.72727ZM11.1186 19.2727C11.1186 19.5138 11.2126 19.7451 11.3798 19.9156C11.547 20.086 11.7739 20.1818 12.0104 20.1818C12.2469 20.1818 12.4738 20.086 12.641 19.9156C12.8083 19.7451 12.9022 19.5138 12.9022 19.2727H11.1186ZM17.0538 17.4545C17.8157 17.4545 18.2267 16.5435 17.7309 15.9538C17.49 15.6673 17.3616 15.3028 17.3699 14.9286L17.4106 13.0808C17.4787 9.99416 15.0427 6.54545 12.014 6.54545C8.98598 6.54545 6.55028 9.99301 6.61731 13.0789L6.65748 14.9289C6.66561 15.303 6.53726 15.6674 6.29639 15.9538C5.80054 16.5435 6.21158 17.4545 6.9735 17.4545H17.0538Z",fill:"#ffffff"})],-1)]))}const og=ar(rg,[["render",ig]]),ag={class:"nav__links"},lg={__name:"BaseHeader",setup(e){const t=en(),s=Ve(ce(()=>t.user)),r=Ve([]),n=async()=>{await t.logout()},i=()=>{r.value=s.value!==null?[{path:`/profile/${t.user.username}`,name:"",icon:zt(Vp)},{path:"/friends",name:"",icon:zt(Gp)},{path:"/chats",name:"",icon:zt(Xp)},{path:"/notices",name:"",icon:zt(og)}]:[{path:"/login",name:""},{path:"/register",name:""}]};return nr(i),Rt(s,()=>{i()}),(o,a)=>{const l=Ua("router-link");return De(),gt("header",null,[Re("nav",null,[fe(l,{to:"/",class:"nav__logo"},{default:kn(()=>a[0]||(a[0]=[Ar("TogetherTalk")])),_:1}),Re("div",ag,[(De(!0),gt(tt,null,Xc(r.value,u=>(De(),Er(l,{key:u.name,to:u.path,class:"nav__link"},{default:kn(()=>[(De(),Er(Ti(u.icon))),Ar(" "+ia(u.name),1)]),_:2},1032,["to"]))),128)),s.value?(De(),gt("a",{key:0,onClick:n,class:"nav__link"},[(De(),Er(Ti(sg))),a[1]||(a[1]=Ar("  "))])):$u("",!0)])])])}}},cg={class:"container"},ug={__name:"App",setup(e){const t=en(),s=Ls.get("userSession");return nr(async()=>{s&&await t.fetchUser()}),(r,n)=>{const i=Ua("router-view");return De(),gt("div",cg,[fe(lg),fe(i)])}}},hg=[{path:"/",name:"Home",component:()=>pe(()=>import("./HomePage-CKETa9g1.js"),__vite__mapDeps([0,1,2,3,4,5]))},{path:"/login",name:"Login",component:()=>pe(()=>import("./LoginPage-2I4IOdux.js"),__vite__mapDeps([6,7]))},{path:"/register",name:"Register",component:()=>pe(()=>import("./RegisterPage-Cwnevy84.js"),__vite__mapDeps([8,7]))},{path:"/friends",name:"Friends",component:()=>pe(()=>import("./FriendsPage-Dk4RfcI8.js"),__vite__mapDeps([9,10]))},{path:"/profile/:username",name:"Profile",component:()=>pe(()=>import("./ProfilePage-CaOi-cqd.js"),__vite__mapDeps([11,1,2,3,4,5,12]))},{path:"/notices",name:"Notices",component:()=>pe(()=>import("./NoticesPage-CtfH2fKk.js"),__vite__mapDeps([13,14]))},{path:"/settings",name:"Settings",component:()=>pe(()=>import("./SettingsPage-C8NlscsP.js"),__vite__mapDeps([15,4,7,16]))},{path:"/chats",component:()=>pe(()=>import("./ChatsPage-BnSB-SBV.js"),__vite__mapDeps([17,18])),children:[{path:"",components:{sidebar:()=>pe(()=>import("./ChatSlideBar-CHqILGav.js"),__vite__mapDeps([19,20])),default:()=>pe(()=>import("./ChatDefault-CIrnBlsV.js"),[])}},{path:":id",components:{sidebar:()=>pe(()=>import("./ChatSlideBar-CHqILGav.js"),__vite__mapDeps([19,20])),default:()=>pe(()=>import("./ChatsDetailsPage-FFVsb3Ks.js"),__vite__mapDeps([21,2,3,22]))},name:"ChatsDetails"}]}],Vl=Pp({history:ip(),routes:hg});Vl.beforeEach((e,t,s)=>{const r=e.meta.title||" ";document.title=r,s()});/*!
 * Vue-Lazyload.js v3.0.0
 * (c) 2023 Awe <hilongjw@gmail.com>
 * Released under the MIT License.
 */function zl(e,t){return t={exports:{}},e(t,t.exports),t.exports}var zn=zl(function(e){const t=Object.prototype.toString,s=Object.prototype.propertyIsEnumerable,r=Object.getOwnPropertySymbols;e.exports=(i,...o)=>{if(!n(i))throw new TypeError("expected the first argument to be an object");if(o.length===0||typeof Symbol!="function"||typeof r!="function")return i;for(let a of o){let l=r(a);for(let u of l)s.call(a,u)&&(i[u]=a[u])}return i};function n(i){return typeof i=="function"||t.call(i)==="[object Object]"||Array.isArray(i)}}),Go=Object.freeze({__proto__:null,default:zn,__moduleExports:zn}),fg=Go&&zn||Go,Jo=zl(function(e){const t=Object.prototype.toString,s=o=>o!=="__proto__"&&o!=="constructor"&&o!=="prototype",r=e.exports=(o,...a)=>{let l=0;for(i(o)&&(o=a[l++]),o||(o={});l<a.length;l++)if(n(a[l])){for(const u of Object.keys(a[l]))s(u)&&(n(o[u])&&n(a[l][u])?r(o[u],a[l][u]):o[u]=a[l][u]);fg(o,a[l])}return o};function n(o){return typeof o=="function"||t.call(o)==="[object Object]"}function i(o){return typeof o=="object"?o===null:typeof o!="function"}});const It=typeof window<"u"&&window!==null,Qo=dg();function dg(){return It&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}),!0):!1}const Bt={event:"event",observer:"observer"};function Us(e,t){if(!e.length)return;const s=e.indexOf(t);if(s>-1)return e.splice(s,1)}function Yo(e,t){if(e.tagName!=="IMG"||!e.getAttribute("data-srcset"))return"";let s=e.getAttribute("data-srcset").trim().split(",");const r=[],i=e.parentNode.offsetWidth*t;let o,a,l;s.forEach(h=>{h=h.trim(),o=h.lastIndexOf(" "),o===-1?(a=h,l=99999):(a=h.substr(0,o),l=parseInt(h.substr(o+1,h.length-o-2),10)),r.push([l,a])}),r.sort((h,f)=>{if(h[0]<f[0])return 1;if(h[0]>f[0])return-1;if(h[0]===f[0]){if(f[1].indexOf(".webp",f[1].length-5)!==-1)return 1;if(h[1].indexOf(".webp",h[1].length-5)!==-1)return-1}return 0});let u="",c;for(let h=0;h<r.length;h++){c=r[h],u=c[1];const f=r[h+1];if(f&&f[0]<i){u=c[1];break}else if(!f){u=c[1];break}}return u}const pg=(e=1)=>It&&window.devicePixelRatio||e;function gg(){if(!It)return!1;let e=!0;function t(s,r){const n={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"},i=new Image;i.onload=function(){const o=i.width>0&&i.height>0;r(o)},i.onerror=function(){r(!1)},i.src="data:image/webp;base64,"+n[s]}return t("lossy",s=>{e=s}),t("lossless",s=>{e=s}),t("alpha",s=>{e=s}),t("animation",s=>{e=s}),e}function mg(e,t){let s=null,r=0;return function(){if(s)return;const n=Date.now()-r,i=this,o=arguments,a=function(){r=Date.now(),s=!1,e.apply(i,o)};n>=t?a():s=setTimeout(a,t)}}function _g(){if(!It)return!1;let e=!1;try{const t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",wi,t)}catch{}return e}const vg=_g(),yg={on(e,t,s,r=!1){vg?e.addEventListener(t,s,{capture:r,passive:!0}):e.addEventListener(t,s,r)},off(e,t,s,r=!1){e.removeEventListener(t,s,r)}},Kn=(e,t,s)=>{let r=new Image;if(!e||!e.src){const n=new Error("image src is required");return s(n)}e.cors&&(r.crossOrigin=e.cors),r.src=e.src,r.onload=function(){t({naturalHeight:r.naturalHeight,naturalWidth:r.naturalWidth,src:r.src}),r=null},r.onerror=function(n){s(n)}},wn=(e,t)=>typeof getComputedStyle<"u"?getComputedStyle(e,null).getPropertyValue(t):e.style[t],wg=e=>wn(e,"overflow")+wn(e,"overflowY")+wn(e,"overflowX"),bg=e=>{if(!It)return;if(!(e instanceof Element))return window;let t=e;for(;t&&!(t===document.body||t===document.documentElement||!t.parentNode);){if(/(scroll|auto)/.test(wg(t)))return t;t=t.parentNode}return window};function Eg(e){return e!==null&&typeof e=="object"}function wi(){}class Sg{constructor(t){this.max=t||100,this._caches=[]}has(t){return this._caches.indexOf(t)>-1}add(t){this.has(t)||(this._caches.push(t),this._caches.length>this.max&&this.free())}free(){this._caches.shift()}}class Ag{constructor(t,s,r,n,i,o,a,l,u,c){this.el=t,this.src=s,this.error=r,this.loading=n,this.bindType=i,this.attempt=0,this.cors=l,this.naturalHeight=0,this.naturalWidth=0,this.options=a,this.rect={},this.$parent=o,this.elRenderer=u,this._imageCache=c,this.performanceData={init:Date.now(),loadStart:0,loadEnd:0},this.filter(),this.initState(),this.render("loading",!1)}initState(){"dataset"in this.el?this.el.dataset.src=this.src:this.el.setAttribute("data-src",this.src),this.state={loading:!1,error:!1,loaded:!1,rendered:!1}}record(t){this.performanceData[t]=Date.now()}update(t){const s=this.src;this.src=t.src,this.loading=t.loading,this.error=t.error,this.filter(),s!==this.src&&(this.attempt=0,this.initState())}getRect(){this.rect=this.el.getBoundingClientRect()}checkInView(){return this.getRect(),this.rect.top<window.innerHeight*this.options.preLoad&&this.rect.bottom>this.options.preLoadTop&&this.rect.left<window.innerWidth*this.options.preLoad&&this.rect.right>0}filter(){for(const t in this.options.filter)this.options.filter[t](this,this.options)}renderLoading(t){this.state.loading=!0,Kn({src:this.loading,cors:this.cors},()=>{this.render("loading",!1),this.state.loading=!1,t()},()=>{t(),this.state.loading=!1,this.options.silent||console.warn(`VueLazyload log: load failed with loading image(${this.loading})`)})}load(t=wi){if(this.attempt>this.options.attempt-1&&this.state.error){this.options.silent||console.log(`VueLazyload log: ${this.src} tried too more than ${this.options.attempt} times`),t();return}if(!(this.state.rendered&&this.state.loaded)){if(this._imageCache.has(this.src))return this.state.loaded=!0,this.render("loaded",!0),this.state.rendered=!0,t();this.renderLoading(()=>{this.attempt++,this.options.adapter.beforeLoad&&this.options.adapter.beforeLoad(this,this.options),this.record("loadStart"),Kn({src:this.src,cors:this.cors},s=>{this.naturalHeight=s.naturalHeight,this.naturalWidth=s.naturalWidth,this.state.loaded=!0,this.state.error=!1,this.record("loadEnd"),this.render("loaded",!1),this.state.rendered=!0,this._imageCache.add(this.src),t()},s=>{!this.options.silent&&console.error(s),this.state.error=!0,this.state.loaded=!1,this.render("error",!1)})})}}render(t,s){this.elRenderer(this,t,s)}performance(){let t="loading",s=0;return this.state.loaded&&(t="loaded",s=(this.performanceData.loadEnd-this.performanceData.loadStart)/1e3),this.state.error&&(t="error"),{src:this.src,state:t,time:s}}$destroy(){this.el=null,this.src="",this.error=null,this.loading="",this.bindType=null,this.attempt=0}}const Xo="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",kg=["scroll","wheel","mousewheel","resize","animationend","transitionend","touchmove"],xg={rootMargin:"0px",threshold:0};class Cg{constructor({preLoad:t,error:s,throttleWait:r,preLoadTop:n,dispatchEvent:i,loading:o,attempt:a,silent:l=!0,scale:u,listenEvents:c,filter:h,adapter:f,observer:p,observerOptions:_}){this.version='"3.0.0"',this.lazyContainerMananger=null,this.mode=Bt.event,this.ListenerQueue=[],this.TargetIndex=0,this.TargetQueue=[],this.options={silent:l,dispatchEvent:!!i,throttleWait:r||200,preLoad:t||1.3,preLoadTop:n||0,error:s||Xo,loading:o||Xo,attempt:a||3,scale:u||pg(u),listenEvents:c||kg,supportWebp:gg(),filter:h||{},adapter:f||{},observer:!!p,observerOptions:_||xg},this._initEvent(),this._imageCache=new Sg(200),this.lazyLoadHandler=mg(this._lazyLoadHandler.bind(this),this.options.throttleWait),this.setMode(this.options.observer?Bt.observer:Bt.event)}performance(){const t=[];return this.ListenerQueue.map(s=>t.push(s.performance())),t}addLazyBox(t){this.ListenerQueue.push(t),It&&(this._addListenerTarget(window),this._observer&&this._observer.observe(t.el),t.$el&&t.$el.parentNode&&this._addListenerTarget(t.$el.parentNode))}add(t,s,r){if(this.ListenerQueue.some(l=>l.el===t))return this.update(t,s),Tt(this.lazyLoadHandler);let{src:n,loading:i,error:o,cors:a}=this._valueFormatter(s.value);Tt(()=>{n=Yo(t,this.options.scale)||n,this._observer&&this._observer.observe(t);const l=Object.keys(s.modifiers)[0];let u;l&&(u=s.instance.$refs[l],u=u?u.el||u:document.getElementById(l)),u||(u=bg(t));const c=new Ag(t,n,o,i,s.arg,u,this.options,a,this._elRenderer.bind(this),this._imageCache);this.ListenerQueue.push(c),It&&(this._addListenerTarget(window),this._addListenerTarget(u)),Tt(this.lazyLoadHandler)})}update(t,s,r){let{src:n,loading:i,error:o}=this._valueFormatter(s.value);n=Yo(t,this.options.scale)||n;const a=this.ListenerQueue.find(l=>l.el===t);a?a.update({src:n,loading:i,error:o}):(t.getAttribute("lazy")!=="loaded"||t.dataset.src!==n)&&this.add(t,s,r),this._observer&&(this._observer.unobserve(t),this._observer.observe(t)),Tt(this.lazyLoadHandler)}remove(t){if(!t)return;this._observer&&this._observer.unobserve(t);const s=this.ListenerQueue.find(r=>r.el===t);s&&(this._removeListenerTarget(s.$parent),this._removeListenerTarget(window),Us(this.ListenerQueue,s),s.$destroy&&s.$destroy())}removeComponent(t){t&&(Us(this.ListenerQueue,t),this._observer&&this._observer.unobserve(t.el),t.$parent&&t.$el.parentNode&&this._removeListenerTarget(t.$el.parentNode),this._removeListenerTarget(window))}setMode(t){!Qo&&t===Bt.observer&&(t=Bt.event),this.mode=t,t===Bt.event?(this._observer&&(this.ListenerQueue.forEach(s=>{this._observer.unobserve(s.el)}),this._observer=null),this.TargetQueue.forEach(s=>{this._initListen(s.el,!0)})):(this.TargetQueue.forEach(s=>{this._initListen(s.el,!1)}),this._initIntersectionObserver())}_addListenerTarget(t){if(!t)return;let s=this.TargetQueue.find(r=>r.el===t);return s?s.childrenCount++:(s={el:t,id:++this.TargetIndex,childrenCount:1,listened:!0},this.mode===Bt.event&&this._initListen(s.el,!0),this.TargetQueue.push(s)),this.TargetIndex}_removeListenerTarget(t){this.TargetQueue.forEach((s,r)=>{s.el===t&&(s.childrenCount--,s.childrenCount||(this._initListen(s.el,!1),this.TargetQueue.splice(r,1),s=null))})}_initListen(t,s){this.options.listenEvents.forEach(r=>yg[s?"on":"off"](t,r,this.lazyLoadHandler))}_initEvent(){this.Event={listeners:{loading:[],loaded:[],error:[]}},this.$on=(t,s)=>{this.Event.listeners[t]||(this.Event.listeners[t]=[]),this.Event.listeners[t].push(s)},this.$once=(t,s)=>{const r=this;function n(){r.$off(t,n),s.apply(r,arguments)}this.$on(t,n)},this.$off=(t,s)=>{if(!s){if(!this.Event.listeners[t])return;this.Event.listeners[t].length=0;return}Us(this.Event.listeners[t],s)},this.$emit=(t,s,r)=>{this.Event.listeners[t]&&this.Event.listeners[t].forEach(n=>n(s,r))}}_lazyLoadHandler(){const t=[];this.ListenerQueue.forEach((s,r)=>{(!s.el||!s.el.parentNode||s.state.loaded)&&t.push(s),s.checkInView()&&(s.state.loaded||s.load())}),t.forEach(s=>{Us(this.ListenerQueue,s),s.$destroy&&s.$destroy()})}_initIntersectionObserver(){Qo&&(this._observer=new IntersectionObserver(this._observerHandler.bind(this),this.options.observerOptions),this.ListenerQueue.length&&this.ListenerQueue.forEach(t=>{this._observer.observe(t.el)}))}_observerHandler(t){t.forEach(s=>{s.isIntersecting&&this.ListenerQueue.forEach(r=>{if(r.el===s.target){if(r.state.loaded)return this._observer.unobserve(r.el);r.load()}})})}_elRenderer(t,s,r){if(!t.el)return;const{el:n,bindType:i}=t;let o;switch(s){case"loading":o=t.loading;break;case"error":o=t.error;break;default:o=t.src;break}if(i?n.style[i]='url("'+o+'")':n.getAttribute("src")!==o&&n.setAttribute("src",o),n.setAttribute("lazy",s),this.$emit(s,t,r),this.options.adapter[s]&&this.options.adapter[s](t,this.options),this.options.dispatchEvent){const a=new CustomEvent(s,{detail:t});n.dispatchEvent(a)}}_valueFormatter(t){return Eg(t)?(!t.src&&!this.options.silent&&console.error("Vue Lazyload warning: miss src with "+t),{src:t.src,loading:t.loading||this.options.loading,error:t.error||this.options.error,cors:this.options.cors}):{src:t,loading:this.options.loading,error:this.options.error,cors:this.options.cors}}}const Kl=(e,t)=>{let s=it({});const r=()=>{s=e.value.getBoundingClientRect()};return{rect:s,checkInView:()=>(r(),It&&s.top<window.innerHeight*t&&s.bottom>0&&s.left<window.innerWidth*t&&s.right>0)}};var Tg=e=>qr({props:{tag:{type:String,default:"div"}},emits:["show"],setup(t,{emit:s,slots:r}){const n=Ve(),i=it({loaded:!1,error:!1,attempt:0}),o=Ve(!1),{rect:a,checkInView:l}=Kl(n,e.options.preLoad),u=()=>{o.value=!0,i.loaded=!0,s("show",o.value)},c=ce(()=>({el:n.value,rect:a,checkInView:l,load:u,state:i}));return nr(()=>{e.addLazyBox(c.value),e.lazyLoadHandler()}),zr(()=>{e.removeComponent(c.value)}),()=>{var h;return fe(t.tag,{ref:n},[o.value&&((h=r.default)===null||h===void 0?void 0:h.call(r))])}}});class Og{constructor(t){this.lazy=t,t.lazyContainerMananger=this,this._queue=[]}bind(t,s,r){const n=new Rg(t,s,r,this.lazy);this._queue.push(n)}update(t,s,r){const n=this._queue.find(i=>i.el===t);n&&n.update(t,s)}unbind(t,s,r){const n=this._queue.find(i=>i.el===t);n&&(n.clear(),Us(this._queue,n))}}const Pg={selector:"img",error:"",loading:""};class Rg{constructor(t,s,r,n){this.el=t,this.vnode=r,this.binding=s,this.options={},this.lazy=n,this._queue=[],this.update(t,s)}update(t,s){this.el=t,this.options=Jo({},Pg,s.value),this.getImgs().forEach(n=>{this.lazy.add(n,Jo({},this.binding,{value:{src:n.getAttribute("data-src")||n.dataset.src,error:n.getAttribute("data-error")||n.dataset.error||this.options.error,loading:n.getAttribute("data-loading")||n.dataset.loading||this.options.loading}}),this.vnode)})}getImgs(){return Array.from(this.el.querySelectorAll(this.options.selector))}clear(){this.getImgs().forEach(s=>this.lazy.remove(s)),this.vnode=null,this.binding=null,this.lazy=null}}var $g=e=>qr({setup(t,{slots:s}){const r=Ve(),n=it({src:"",error:"",loading:"",attempt:e.options.attempt}),i=it({loaded:!1,error:!1,attempt:0}),{rect:o,checkInView:a}=Kl(r,e.options.preLoad),l=Ve(""),u=(f=wi)=>{if(i.attempt>n.attempt-1&&i.error)return e.options.silent||console.log(`VueLazyload log: ${n.src} tried too more than ${n.attempt} times`),f();const p=n.src;Kn({src:p},({src:_})=>{l.value=_,i.loaded=!0},()=>{i.attempt++,l.value=n.error,i.error=!0})},c=ce(()=>({el:r.value,rect:o,checkInView:a,load:u,state:i}));nr(()=>{e.addLazyBox(c.value),e.lazyLoadHandler()}),zr(()=>{e.removeComponent(c.value)});const h=()=>{const{src:f,loading:p,error:_}=e._valueFormatter(t.src);i.loaded=!1,n.src=f,n.error=_,n.loading=p,l.value=n.loading};return Rt(()=>t.src,()=>{h(),e.addLazyBox(c.value),e.lazyLoadHandler()},{immediate:!0}),()=>{var f;return fe(t.tag||"img",{src:l.value,ref:r},[(f=s.default)===null||f===void 0?void 0:f.call(s)])}}}),Ig={install(e,t={}){const s=new Cg(t),r=new Og(s);if(Number(e.version.split(".")[0])<3)return new Error("Vue version at least 3.0");e.config.globalProperties.$Lazyload=s,e.provide("Lazyload",s),t.lazyComponent&&e.component("lazy-component",Tg(s)),t.lazyImage&&e.component("lazy-image",$g(s)),e.directive("lazy",{beforeMount:s.add.bind(s),beforeUpdate:s.update.bind(s),updated:s.lazyLoadHandler.bind(s),unmounted:s.remove.bind(s)}),e.directive("lazy-container",{beforeMount:r.bind.bind(r),updated:r.update.bind(r),unmounted:r.unbind.bind(r)})}};const jg=Eh();vh(ug).use(jg).use(Vl).use(Ig).mount("#app");const Lg=en();window.addEventListener("beforeunload",async()=>{await Lg.changeStatus("offline")});export{zr as A,Xn as B,Fg as C,Ng as D,Dg as E,tt as F,Np as G,Uh as H,Bg as I,it as J,Kc as K,Tt as L,Yn as M,ar as _,gt as a,Re as b,ce as c,fe as d,De as e,Qr as f,$p as g,Ug as h,$u as i,Xc as j,Ar as k,Mg as l,Ip as m,Mp as n,nr as o,Er as p,Wg as q,Ve as r,te as s,ia as t,en as u,Xi as v,Rt as w,Ua as x,kn as y,us as z};
