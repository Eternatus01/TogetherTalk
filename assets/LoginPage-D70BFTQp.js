import{d as g,u as m,a as v,s as f,r as u,c as w,w as p,v as d,b as n,t as U,o as _}from"./index-B_YhoeON.js";import{u as y}from"./errors-ptkwsH4S.js";const h=g("userLogin",()=>{const c=y(),o=m(),e=v();async function s(a,l){const{error:r}=await f.auth.signInWithPassword({email:a,password:l});r?(console.error("Ошибка при входе после авторизации:",r),c.setErrors("Неверный логин или пароль")):(console.log("Пользователь успешно вошел в систему:",a),await e.getUser(),o.push("/"))}return{loginUser:s}}),b={class:"form"},k={__name:"LoginPage",setup(c){const o=h(),e=u(""),s=u(""),a=u(o.errorMessages),l=async()=>{try{await o.loginUser(e.value,s.value)}catch(r){console.error(r)}};return(r,t)=>(_(),w("div",b,[p(n("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=i=>e.value=i),placeholder:"Почта"},null,512),[[d,e.value]]),p(n("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=i=>s.value=i),placeholder:"Пароль"},null,512),[[d,s.value]]),n("button",{onClick:l,class:"form__btn"},"Войти"),n("pre",null,U(a.value),1)]))}};export{k as default};
